{"version":3,"file":"js/app.cd6a2f8d.js","mappings":"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","sources":["webpack://profectus/./src/data/themes.ts","webpack://profectus/./src/features/feature.ts","webpack://profectus/./src/game/events.ts","webpack://profectus/./src/game/persistence.ts","webpack://profectus/./src/game/player.ts","webpack://profectus/./src/game/settings.ts","webpack://profectus/./src/game/state.ts","webpack://profectus/./src/components/Layer.vue?cdab","webpack://profectus/./src/components/Layer.vue?ea1e","webpack://profectus/./src/components/Layer.vue","webpack://profectus/./src/data/Changelog.vue?6b26","webpack://profectus/./src/data/Changelog.vue","webpack://profectus/./src/components/Info.vue?962a","webpack://profectus/./src/components/Info.vue","webpack://profectus/./src/components/fields/Toggle.vue?20df","webpack://profectus/./src/components/fields/Toggle.vue","webpack://profectus/./src/components/Options.vue?ba84","webpack://profectus/./src/components/Options.vue","webpack://profectus/./src/components/fields/Text.vue?ba89","webpack://profectus/./src/components/fields/Text.vue","webpack://profectus/./src/components/fields/DangerButton.vue?bf6c","webpack://profectus/./src/components/fields/DangerButton.vue","webpack://profectus/./src/components/fields/FeedbackButton.vue?2dba","webpack://profectus/./src/components/fields/FeedbackButton.vue","webpack://profectus/./src/components/Save.vue?548a","webpack://profectus/./src/components/Save.vue","webpack://profectus/./src/components/SavesManager.vue?f8a3","webpack://profectus/./src/components/SavesManager.vue","webpack://profectus/./src/components/Nav.vue?b4a5","webpack://profectus/./src/components/Nav.vue","webpack://profectus/./src/components/Game.vue?fa24","webpack://profectus/./src/components/Game.vue","webpack://profectus/./src/components/GameOverScreen.vue?ee8d","webpack://profectus/./src/components/GameOverScreen.vue","webpack://profectus/./src/components/NaNScreen.vue?4f64","webpack://profectus/./src/components/NaNScreen.vue","webpack://profectus/./src/components/TPS.vue?e36e","webpack://profectus/./src/components/TPS.vue","webpack://profectus/./src/App.vue?94f9","webpack://profectus/./src/App.vue","webpack://profectus/./src/main.ts","webpack://profectus/./src/util/bignum.ts","webpack://profectus/./src/lib/break_eternity.ts","webpack://profectus/./src/util/break_eternity.ts","webpack://profectus/./src/util/common.ts","webpack://profectus/./src/util/computed.ts","webpack://profectus/./src/util/proxies.ts","webpack://profectus/./src/util/save.ts","webpack://profectus/./src/components/layout/Spacer.vue?e0bd","webpack://profectus/./src/components/layout/Spacer.vue","webpack://profectus/./src/features/particles/Particles.vue?dbc6","webpack://profectus/./src/features/particles/Particles.vue?11ca","webpack://profectus/./src/features/particles/Particles.vue","webpack://profectus/./src/features/particles/particles.tsx","webpack://profectus/./src/features/upgrades/Upgrade.vue?4ec3","webpack://profectus/./src/components/Node.vue?6bf5","webpack://profectus/./src/components/Node.vue","webpack://profectus/./src/components/MarkNode.vue?acb3","webpack://profectus/./src/components/MarkNode.vue","webpack://profectus/./src/features/resources/resource.ts","webpack://profectus/./src/features/upgrades/Upgrade.vue?4a14","webpack://profectus/./src/features/upgrades/Upgrade.vue","webpack://profectus/./src/features/upgrades/upgrade.ts","webpack://profectus/./src/data/Cutscene.vue?990e","webpack://profectus/./src/data/Cutscene.vue","webpack://profectus/./src/components/fields/Slider.vue?f27e","webpack://profectus/./src/components/fields/Slider.vue","webpack://profectus/./src/components/layout/Collapsible.vue?a70f","webpack://profectus/./src/components/layout/Collapsible.vue","webpack://profectus/./src/features/clickables/Clickable.vue?4539","webpack://profectus/./src/features/clickables/Clickable.vue?22aa","webpack://profectus/./src/features/clickables/Clickable.vue","webpack://profectus/./src/features/clickables/clickable.ts","webpack://profectus/./src/features/trees/Tree.vue?d078","webpack://profectus/./src/features/links/Link.vue?f30b","webpack://profectus/./src/features/links/Link.vue","webpack://profectus/./src/features/links/Links.vue?7529","webpack://profectus/./src/features/links/Links.vue","webpack://profectus/./src/features/trees/Tree.vue?698b","webpack://profectus/./src/features/trees/Tree.vue","webpack://profectus/./src/features/trees/TreeNode.vue?da84","webpack://profectus/./src/features/trees/TreeNode.vue?9a03","webpack://profectus/./src/features/trees/TreeNode.vue","webpack://profectus/./src/features/trees/tree.ts","webpack://profectus/./src/data/common.tsx","webpack://profectus/./src/features/bars/Bar.vue?6954","webpack://profectus/./src/features/bars/Bar.vue?da91","webpack://profectus/./src/features/bars/Bar.vue","webpack://profectus/./src/features/bars/bar.ts","webpack://profectus/./src/features/job/Job.vue?cee9","webpack://profectus/./src/features/ModifierInfo.vue?7f43","webpack://profectus/./src/features/ModifierInfo.vue","webpack://profectus/./src/features/job/Job.vue?d382","webpack://profectus/./src/features/job/Job.vue","webpack://profectus/./src/features/job/job.ts","webpack://profectus/./src/features/milestones/Milestone.vue?08ca","webpack://profectus/./src/features/milestones/Milestone.vue?d607","webpack://profectus/./src/features/milestones/Milestone.vue","webpack://profectus/./src/game/notifications.ts","webpack://profectus/./src/features/milestones/milestone.tsx","webpack://profectus/./src/features/resources/Resource.vue?0822","webpack://profectus/./src/features/resources/Resource.vue","webpack://profectus/./src/features/resources/MainDisplay.vue?8bde","webpack://profectus/./src/features/resources/MainDisplay.vue","webpack://profectus/./src/features/spellTree/SpellTree.vue?12e2","webpack://profectus/./src/features/spellTree/SpellTree.vue","webpack://profectus/./src/features/tabs/TabButton.vue?7f39","webpack://profectus/./src/features/tabs/TabButton.vue?a3c5","webpack://profectus/./src/features/tabs/TabButton.vue","webpack://profectus/./src/features/tabs/TabFamily.vue?3794","webpack://profectus/./src/components/layout/Sticky.vue?32f6","webpack://profectus/./src/components/layout/Sticky.vue","webpack://profectus/./src/features/tabs/TabFamily.vue?2385","webpack://profectus/./src/features/tabs/TabFamily.vue","webpack://profectus/./src/features/tabs/tabFamily.ts","webpack://profectus/./src/game/modifiers.tsx","webpack://profectus/./src/data/flowers/flowers.tsx","webpack://profectus/./src/features/buyable.tsx","webpack://profectus/./src/data/experiments/experiments.tsx","webpack://profectus/./src/data/study/study.tsx","webpack://profectus/./src/data/distill/distill.tsx","webpack://profectus/./src/data/projEntry.tsx","webpack://profectus/./src/game/layers.tsx","webpack://profectus/./src/util/vue.tsx","webpack://profectus/./src/components/Context.vue?2f6e","webpack://profectus/./src/components/Context.vue","webpack://profectus/./src/components/Modal.vue?1099","webpack://profectus/./src/components/Modal.vue","webpack://profectus/./src/components/fields/Select.vue?c5ab","webpack://profectus/./src/components/fields/Select.vue","webpack://profectus/./src/components/layout/Column.vue?cbbe","webpack://profectus/./src/components/layout/Column.vue","webpack://profectus/./src/components/layout/Row.vue?506d","webpack://profectus/./src/components/layout/Row.vue","webpack://profectus/./src/features/tooltips/Tooltip.vue?2a05","webpack://profectus/./src/features/tooltips/Tooltip.vue?9cc7","webpack://profectus/./src/features/tooltips/Tooltip.vue","webpack://profectus/|/\\.txt$/","webpack://profectus/webpack/bootstrap","webpack://profectus/webpack/runtime/chunk loaded","webpack://profectus/webpack/runtime/compat get default export","webpack://profectus/webpack/runtime/define property getters","webpack://profectus/webpack/runtime/global","webpack://profectus/webpack/runtime/hasOwnProperty shorthand","webpack://profectus/webpack/runtime/make namespace object","webpack://profectus/webpack/runtime/node module decorator","webpack://profectus/webpack/runtime/jsonp chunk loading","webpack://profectus/webpack/startup"],"sourcesContent":["export interface ThemeVars {\n    \"--foreground\": string;\n    \"--background\": string;\n    \"--feature-foreground\": string;\n    \"--tooltip-background\": string;\n    \"--raised-background\": string;\n    \"--points\": string;\n    \"--locked\": string;\n    \"--highlighted\": string;\n    \"--bought\": string;\n    \"--danger\": string;\n    \"--link\": string;\n    \"--outline\": string;\n    \"--accent1\": string;\n    \"--accent2\": string;\n    \"--accent3\": string;\n    \"--border-radius\": string;\n    \"--modal-border\": string;\n    \"--feature-margin\": string;\n}\n\nexport interface Theme {\n    variables: ThemeVars;\n    floatingTabs: boolean;\n    mergeAdjacent: boolean;\n    showPin: boolean;\n}\n\ndeclare module \"@vue/runtime-dom\" {\n    // eslint-disable-next-line @typescript-eslint/no-empty-interface\n    interface CSSProperties extends Partial<ThemeVars> {}\n}\n\nconst defaultTheme: Theme = {\n    variables: {\n        \"--foreground\": \"#dfdfdf\",\n        \"--background\": \"#0f0f0f\",\n        \"--feature-foreground\": \"#0f0f0f\",\n        \"--tooltip-background\": \"rgba(0, 0, 0, 0.75)\",\n        \"--raised-background\": \"#0f0f0f\",\n        \"--points\": \"#ffffff\",\n        \"--locked\": \"#bf8f8f\",\n        \"--highlighted\": \"#333\",\n        \"--bought\": \"#77bf5f\",\n        \"--danger\": \"rgb(220, 53, 69)\",\n        \"--link\": \"#02f2f2\",\n        \"--outline\": \"#dfdfdf\",\n        \"--accent1\": \"#627a82\",\n        \"--accent2\": \"#658262\",\n        \"--accent3\": \"#7c6282\",\n\n        \"--border-radius\": \"15px\",\n        \"--modal-border\": \"solid 2px var(--color)\",\n        \"--feature-margin\": \"0px\"\n    },\n    floatingTabs: true,\n    mergeAdjacent: true,\n    showPin: true\n};\n\nexport enum Themes {\n    Classic = \"classic\",\n    Paper = \"paper\",\n    Nordic = \"nordic\",\n    Aqua = \"aqua\"\n}\n\nexport default {\n    classic: defaultTheme,\n    paper: {\n        ...defaultTheme,\n        variables: {\n            ...defaultTheme.variables,\n            \"--background\": \"#2a323d\",\n            \"--feature-foreground\": \"#000\",\n            \"--raised-background\": \"#333c4a\",\n            \"--locked\": \"#3a3e45\",\n            \"--bought\": \"#5C8A58\",\n            \"--outline\": \"#333c4a\",\n            \"--border-radius\": \"4px\",\n            \"--modal-border\": \"\",\n            \"--feature-margin\": \"5px\"\n        },\n        floatingTabs: false\n    } as Theme,\n    // Based on https://www.nordtheme.com\n    nordic: {\n        ...defaultTheme,\n        variables: {\n            ...defaultTheme.variables,\n            \"--foreground\": \"#D8DEE9\",\n            \"--background\": \"#2E3440\",\n            \"--feature-foreground\": \"#000\",\n            \"--raised-background\": \"#3B4252\",\n            \"--points\": \"#E5E9F0\",\n            \"--locked\": \"#4c566a\",\n            \"--highlighted\": \"#434c5e\",\n            \"--bought\": \"#8FBCBB\",\n            \"--danger\": \"#D08770\",\n            \"--link\": \"#88C0D0\",\n            \"--outline\": \"#3B4252\",\n            \"--accent1\": \"#B48EAD\",\n            \"--accent2\": \"#A3BE8C\",\n            \"--accent3\": \"#EBCB8B\",\n            \"--border-radius\": \"4px\",\n            \"--modal-border\": \"solid 2px #3B4252\",\n            \"--feature-margin\": \"5px\"\n        },\n        floatingTabs: false\n    } as Theme,\n    aqua: {\n        ...defaultTheme,\n        variables: {\n            ...defaultTheme.variables,\n            \"--foreground\": \"#bfdfff\",\n            \"--background\": \"#001f3f\",\n            \"--tooltip-background\": \"rgba(0, 15, 31, 0.75)\",\n            \"--raised-background\": \"#001f3f\",\n            \"--points\": \"#dfefff\",\n            \"--locked\": \"#c4a7b3\",\n            \"--outline\": \"#bfdfff\"\n        }\n    } as Theme\n} as Record<Themes, Theme>;\n","import Decimal from \"util/bignum\";\nimport { DoNotCache } from \"util/computed\";\nimport { CSSProperties, DefineComponent, isRef } from \"vue\";\n\n/**\n * A symbol to use as a key for a vue component a feature can be rendered with\n * @see {@link VueFeature}\n */\nexport const Component = Symbol(\"Component\");\n/**\n * A symbol to use as a key for a prop gathering function that a feature can use to send to its component\n * @see {@link VueFeature}\n */\nexport const GatherProps = Symbol(\"GatherProps\");\n\n/**\n * A type referring to a function that returns JSX and is marked that it shouldn't be wrapped in a ComputedRef\n * @see {@link jsx}\n */\nexport type JSXFunction = (() => JSX.Element) & { [DoNotCache]: true };\n/**\n * Any value that can be coerced into (or is) a vue component\n */\nexport type CoercableComponent = string | DefineComponent | JSXFunction;\n/**\n * Any value that can be passed into an HTML element's style attribute.\n * Note that Profectus uses its own StyleValue and CSSProperties that are extended,\n * in order to have additional properties added to them, such as variable CSS variables.\n */\nexport type StyleValue = string | CSSProperties | Array<string | CSSProperties>;\n\n/** A type that refers to any vue component */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type GenericComponent = DefineComponent<any, any, any>;\n\n/** Utility type that is S, with any properties from T that aren't already present in S */\nexport type Replace<T, S> = S & Omit<T, keyof S>;\n\n/**\n * Utility function for a function that returns an object of a given type,\n * with \"this\" bound to what the type will eventually be processed into.\n * Intended for making lazily evaluated objects.\n */\nexport type OptionsFunc<T, S = T, R = Record<string, unknown>> = () => T & ThisType<S> & Partial<R>;\n\nlet id = 0;\n/**\n * Gets a unique ID to give to each feature, used for any sort of system that needs to identify\n * elements in the DOM rather than references to the feature itself. (For example, branches)\n * IDs are guaranteed unique, but _NOT_ persistent - they likely will change between updates.\n * @param prefix A string to prepend to the id to make it more readable in the inspector tools\n */\nexport function getUniqueID(prefix = \"feature-\"): string {\n    return prefix + id++;\n}\n\n/** Enum for what the visibility of a feature or component should be */\nexport enum Visibility {\n    /** The feature or component should be visible */\n    Visible,\n    /** The feature or component should not appear but still take up space */\n    Hidden,\n    /** The feature or component should not appear not take up space */\n    None\n}\n\n/**\n * Takes a function and marks it as JSX so it won't get auto-wrapped into a ComputedRef.\n * The function may also return empty string as empty JSX tags cause issues.\n */\nexport function jsx(func: () => JSX.Element | \"\"): JSXFunction {\n    (func as Partial<JSXFunction>)[DoNotCache] = true;\n    return func as JSXFunction;\n}\n\n/** Utility function to convert a boolean value into a Visbility value */\nexport function showIf(condition: boolean, otherwise = Visibility.None): Visibility {\n    return condition ? Visibility.Visible : otherwise;\n}\n\n/** Utility function to set a property on an object if and only if it doesn't already exist */\nexport function setDefault<T, K extends keyof T>(\n    object: T,\n    key: K,\n    value: T[K]\n): asserts object is Exclude<T, K> & Required<Pick<T, K>> {\n    if (object[key] === undefined && value != undefined) {\n        object[key] = value;\n    }\n}\n\n/**\n * Traverses an object and returns all features of the given type(s)\n * @param obj The object to traverse\n * @param types The feature types that will be searched for\n */\nexport function findFeatures(obj: Record<string, unknown>, ...types: symbol[]): unknown[] {\n    const objects: unknown[] = [];\n    const handleObject = (obj: Record<string, unknown>) => {\n        Object.keys(obj).forEach(key => {\n            const value = obj[key];\n            if (value && typeof value === \"object\") {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                if (types.includes((value as Record<string, any>).type)) {\n                    objects.push(value);\n                } else if (!(value instanceof Decimal) && !isRef(value)) {\n                    handleObject(value as Record<string, unknown>);\n                }\n            }\n        });\n    };\n    handleObject(obj);\n    return objects;\n}\n\n/**\n * Traverses an object and returns all features that are _not_ any of the given types.\n * Features are any object with a \"type\" property that has a symbol value.\n * @param obj The object to traverse\n * @param types The feature types that will be skipped over\n */\nexport function excludeFeatures(obj: Record<string, unknown>, ...types: symbol[]): unknown[] {\n    const objects: unknown[] = [];\n    const handleObject = (obj: Record<string, unknown>) => {\n        Object.keys(obj).forEach(key => {\n            const value = obj[key];\n            if (value && typeof value === \"object\") {\n                if (\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    typeof (value as Record<string, any>).type == \"symbol\" &&\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    !types.includes((value as Record<string, any>).type)\n                ) {\n                    objects.push(value);\n                } else if (!(value instanceof Decimal) && !isRef(value)) {\n                    handleObject(value as Record<string, unknown>);\n                }\n            }\n        });\n    };\n    handleObject(obj);\n    return objects;\n}\n","import projInfo from \"data/projInfo.json\";\nimport Decimal from \"util/bignum\";\nimport { createNanoEvents } from \"nanoevents\";\nimport { App, Ref, watch } from \"vue\";\nimport { GenericLayer } from \"./layers\";\nimport player from \"./player\";\nimport settings, { Settings } from \"./settings\";\nimport state from \"./state\";\n\nexport interface GlobalEvents {\n    addLayer: (layer: GenericLayer, saveData: Record<string, unknown>) => void;\n    removeLayer: (layer: GenericLayer) => void;\n    update: (diff: number, trueDiff: number) => void;\n    loadSettings: (settings: Partial<Settings>) => void;\n    gameWon: VoidFunction;\n    setupVue: (vue: App) => void;\n}\n\nexport const globalBus = createNanoEvents<GlobalEvents>();\n\nlet intervalID: number | null = null;\n\n// Not imported immediately due to dependency cycles\n// This gets set during startGameLoop(), and will only be used in the update function\nlet hasWon: null | Ref<boolean> = null;\n\nfunction update() {\n    const now = Date.now();\n    let diff = (now - player.time) / 1e3;\n    player.time = now;\n    const trueDiff = diff;\n\n    state.lastTenTicks.push(trueDiff);\n    if (state.lastTenTicks.length > 10) {\n        state.lastTenTicks = state.lastTenTicks.slice(1);\n    }\n\n    // Stop here if the game is paused on the win screen\n    if (hasWon?.value && !player.keepGoing) {\n        return;\n    }\n    // Stop here if the player had a NaN value\n    if (state.hasNaN) {\n        return;\n    }\n\n    diff = Math.max(diff, 0);\n\n    if (player.devSpeed === 0) {\n        return;\n    }\n\n    // Add offline time if any\n    if (player.offlineTime != undefined) {\n        if (Decimal.gt(player.offlineTime, projInfo.offlineLimit * 3600)) {\n            player.offlineTime = projInfo.offlineLimit * 3600;\n        }\n        if (Decimal.gt(player.offlineTime, 0) && player.devSpeed !== 0) {\n            const offlineDiff = Math.max(player.offlineTime / 10, diff);\n            player.offlineTime = player.offlineTime - offlineDiff;\n            diff += offlineDiff;\n        } else if (player.devSpeed === 0) {\n            player.offlineTime += diff;\n        }\n        if (!player.offlineProd || Decimal.lt(player.offlineTime, 0)) {\n            player.offlineTime = null;\n        }\n    }\n\n    // Cap at max tick length\n    diff = Math.min(diff, projInfo.maxTickLength);\n\n    // Apply dev speed\n    if (player.devSpeed != undefined) {\n        diff *= player.devSpeed;\n    }\n\n    if (!Number.isFinite(diff)) {\n        diff = 1e308;\n    }\n\n    // Update\n    if (Decimal.eq(diff, 0)) {\n        return;\n    }\n\n    player.timePlayed += diff;\n    if (!Number.isFinite(player.timePlayed)) {\n        player.timePlayed = 1e308;\n    }\n    globalBus.emit(\"update\", diff, trueDiff);\n\n    if (settings.unthrottled) {\n        requestAnimationFrame(update);\n        if (intervalID != null) {\n            clearInterval(intervalID);\n            intervalID = null;\n        }\n    } else if (intervalID == null) {\n        intervalID = setInterval(update, 50);\n    }\n}\n\nexport async function startGameLoop() {\n    hasWon = (await import(\"data/projEntry\")).hasWon;\n    watch(hasWon, hasWon => {\n        if (hasWon) {\n            globalBus.emit(\"gameWon\");\n        }\n    });\n    if (settings.unthrottled) {\n        requestAnimationFrame(update);\n    } else {\n        intervalID = setInterval(update, 50);\n    }\n}\n","import { globalBus } from \"game/events\";\nimport Decimal, { DecimalSource } from \"util/bignum\";\nimport { ProxyState } from \"util/proxies\";\nimport { isArray } from \"@vue/shared\";\nimport { isReactive, isRef, Ref, ref } from \"vue\";\nimport { addingLayers, GenericLayer, persistentRefs } from \"./layers\";\n\nexport const PersistentState = Symbol(\"PersistentState\");\nexport const DefaultValue = Symbol(\"DefaultValue\");\nexport const StackTrace = Symbol(\"StackTrace\");\nexport const Deleted = Symbol(\"Deleted\");\n\n// Note: This is a union of things that should be safely stringifiable without needing\n// special processes for knowing what to load them in as\n// - Decimals aren't allowed because we'd need to know to parse them back.\n// - DecimalSources are allowed because the string is a valid value for them\nexport type State =\n    | string\n    | number\n    | boolean\n    | DecimalSource\n    | { [key: string]: State }\n    | { [key: number]: State };\n\nexport type Persistent<T extends State = State> = Ref<T> & {\n    [PersistentState]: Ref<T>;\n    [DefaultValue]: T;\n    [StackTrace]: string;\n    [Deleted]: boolean;\n};\n\nfunction getStackTrace() {\n    return (\n        new Error().stack\n            ?.split(\"\\n\")\n            .slice(3, 5)\n            .map(line => line.trim())\n            .join(\"\\n\") || \"\"\n    );\n}\n\nexport function persistent<T extends State>(defaultValue: T | Ref<T>): Persistent<T> {\n    const persistent = (\n        isRef(defaultValue) ? defaultValue : (ref<T>(defaultValue) as unknown)\n    ) as Persistent<T>;\n\n    persistent[PersistentState] = persistent;\n    persistent[DefaultValue] = isRef(defaultValue) ? defaultValue.value : defaultValue;\n    persistent[StackTrace] = getStackTrace();\n    persistent[Deleted] = false;\n\n    if (addingLayers.length === 0) {\n        console.warn(\n            \"Creating a persistent ref outside of a layer. This is not officially supported\",\n            persistent,\n            \"\\nCreated at:\\n\" + persistent[StackTrace]\n        );\n    } else {\n        persistentRefs[addingLayers[addingLayers.length - 1]].add(persistent);\n    }\n\n    return persistent as Persistent<T>;\n}\n\nexport function deletePersistent(persistent: Persistent) {\n    if (addingLayers.length === 0) {\n        console.warn(\"Deleting a persistent ref outside of a layer. Ignoring...\", persistent);\n    } else {\n        persistentRefs[addingLayers[addingLayers.length - 1]].delete(persistent);\n    }\n    persistent[Deleted] = true;\n}\n\nglobalBus.on(\"addLayer\", (layer: GenericLayer, saveData: Record<string, unknown>) => {\n    const features: { type: typeof Symbol }[] = [];\n    const handleObject = (obj: Record<string, unknown>, path: string[] = []): boolean => {\n        let foundPersistent = false;\n        Object.keys(obj).forEach(key => {\n            const value = obj[key];\n            if (value && typeof value === \"object\") {\n                if (PersistentState in value) {\n                    foundPersistent = true;\n                    if ((value as Persistent)[Deleted]) {\n                        console.warn(\n                            \"Deleted persistent ref present in returned object. Ignoring...\",\n                            value,\n                            \"\\nCreated at:\\n\" + (value as Persistent)[StackTrace]\n                        );\n                        return;\n                    }\n                    persistentRefs[layer.id].delete(\n                        ProxyState in value\n                            ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                              ((value as any)[ProxyState] as Persistent)\n                            : (value as Persistent)\n                    );\n\n                    // Construct save path if it doesn't exist\n                    const persistentState = path.reduce<Record<string, unknown>>((acc, curr) => {\n                        if (!(curr in acc)) {\n                            acc[curr] = {};\n                        }\n                        return acc[curr] as Record<string, unknown>;\n                    }, saveData);\n\n                    // Cache currently saved value\n                    const savedValue = persistentState[key];\n                    // Add ref to save data\n                    persistentState[key] = (value as Persistent)[PersistentState];\n                    // Load previously saved value\n                    if (isReactive(persistentState)) {\n                        if (savedValue != null) {\n                            persistentState[key] = savedValue;\n                        } else {\n                            persistentState[key] = (value as Persistent)[DefaultValue];\n                        }\n                    } else {\n                        if (savedValue != null) {\n                            (persistentState[key] as Ref<unknown>).value = savedValue;\n                        } else {\n                            (persistentState[key] as Ref<unknown>).value = (value as Persistent)[\n                                DefaultValue\n                            ];\n                        }\n                    }\n                } else if (\n                    !(value instanceof Decimal) &&\n                    !isRef(value) &&\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    !features.includes(value as { type: typeof Symbol })\n                ) {\n                    if (typeof (value as { type: typeof Symbol }).type === \"symbol\") {\n                        features.push(value as { type: typeof Symbol });\n                    }\n\n                    // Continue traversing\n                    const foundPersistentInChild = handleObject(value as Record<string, unknown>, [\n                        ...path,\n                        key\n                    ]);\n\n                    // Show warning for persistent values inside arrays\n                    // TODO handle arrays better\n                    if (foundPersistentInChild) {\n                        if (isArray(value) && !isArray(obj)) {\n                            console.warn(\n                                \"Found array that contains persistent values when adding layer. Keep in mind changing the order of elements in the array will mess with existing player saves.\",\n                                ProxyState in obj\n                                    ? (obj as Record<PropertyKey, unknown>)[ProxyState]\n                                    : obj,\n                                key\n                            );\n                        } else {\n                            foundPersistent = true;\n                        }\n                    }\n                }\n            }\n        });\n        return foundPersistent;\n    };\n    handleObject(layer);\n    persistentRefs[layer.id].forEach(persistent => {\n        console.error(\n            `Created persistent ref in ${layer.id} without registering it to the layer! Make sure to include everything persistent in the returned object`,\n            persistent,\n            \"\\nCreated at:\\n\" + persistent[StackTrace]\n        );\n    });\n    persistentRefs[layer.id].clear();\n});\n","import Decimal from \"util/bignum\";\nimport { isPlainObject } from \"util/common\";\nimport { ProxiedWithState, ProxyPath, ProxyState } from \"util/proxies\";\nimport { reactive, unref } from \"vue\";\nimport transientState from \"./state\";\n\nexport interface PlayerData {\n    id: string;\n    devSpeed: number | null;\n    name: string;\n    tabs: Array<string>;\n    time: number;\n    autosave: boolean;\n    offlineProd: boolean;\n    offlineTime: number | null;\n    timePlayed: number;\n    keepGoing: boolean;\n    modID: string;\n    modVersion: string;\n    layers: Record<string, Record<string, unknown>>;\n}\n\nexport type Player = ProxiedWithState<PlayerData>;\n\nconst state = reactive<PlayerData>({\n    id: \"\",\n    devSpeed: null,\n    name: \"\",\n    tabs: [],\n    time: -1,\n    autosave: true,\n    offlineProd: true,\n    offlineTime: null,\n    timePlayed: 0,\n    keepGoing: false,\n    modID: \"\",\n    modVersion: \"\",\n    layers: {}\n});\n\nexport function stringifySave(player: PlayerData): string {\n    return JSON.stringify(player, (key, value) => unref(value));\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst playerHandler: ProxyHandler<Record<PropertyKey, any>> = {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    get(target: Record<PropertyKey, any>, key: PropertyKey): any {\n        if (key === ProxyState || key === ProxyPath) {\n            return target[key];\n        }\n\n        const value = target[ProxyState][key];\n        if (\n            key !== \"value\" &&\n            (isPlainObject(value) || Array.isArray(value)) &&\n            !(value instanceof Decimal)\n        ) {\n            if (value !== target[key]?.[ProxyState]) {\n                const path = [...target[ProxyPath], key];\n                target[key] = new Proxy({ [ProxyState]: value, [ProxyPath]: path }, playerHandler);\n            }\n            return target[key];\n        }\n\n        return value;\n    },\n    set(\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        target: Record<PropertyKey, any>,\n        property: PropertyKey,\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        value: any,\n        receiver: ProxyConstructor\n    ): boolean {\n        if (\n            !transientState.hasNaN &&\n            ((typeof value === \"number\" && isNaN(value)) ||\n                (value instanceof Decimal &&\n                    (isNaN(value.sign) || isNaN(value.layer) || isNaN(value.mag))))\n        ) {\n            const currentValue = target[ProxyState][property];\n            if (\n                !(\n                    (typeof currentValue === \"number\" && isNaN(currentValue)) ||\n                    (currentValue instanceof Decimal &&\n                        (isNaN(currentValue.sign) ||\n                            isNaN(currentValue.layer) ||\n                            isNaN(currentValue.mag)))\n                )\n            ) {\n                state.autosave = false;\n                transientState.hasNaN = true;\n                transientState.NaNPath = [...target[ProxyPath], property];\n                transientState.NaNReceiver = receiver as unknown as Record<string, unknown>;\n                console.error(\n                    `Attempted to set NaN value`,\n                    [...target[ProxyPath], property],\n                    target[ProxyState]\n                );\n                throw \"Attempted to set NaN value. See above for details\";\n            }\n        }\n        target[ProxyState][property] = value;\n        return true;\n    },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ownKeys(target: Record<PropertyKey, any>) {\n        return Reflect.ownKeys(target[ProxyState]);\n    },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    has(target: Record<PropertyKey, any>, key: string) {\n        return Reflect.has(target[ProxyState], key);\n    },\n    getOwnPropertyDescriptor(target, key) {\n        return Object.getOwnPropertyDescriptor(target[ProxyState], key);\n    }\n};\nexport default window.player = new Proxy(\n    { [ProxyState]: state, [ProxyPath]: [\"player\"] },\n    playerHandler\n) as Player;\n","import projInfo from \"data/projInfo.json\";\nimport { Themes } from \"data/themes\";\nimport { CoercableComponent } from \"features/feature\";\nimport { globalBus } from \"game/events\";\nimport LZString from \"lz-string\";\nimport { hardReset } from \"util/save\";\nimport { reactive, watch } from \"vue\";\n\nexport interface Settings {\n    active: string;\n    saves: string[];\n    showTPS: boolean;\n    theme: Themes;\n    unthrottled: boolean;\n}\n\nconst state = reactive<Partial<Settings>>({\n    active: \"\",\n    saves: [],\n    showTPS: true,\n    theme: Themes.Nordic,\n    unthrottled: false\n});\n\nwatch(\n    state,\n    state => {\n        const stringifiedSettings = LZString.compressToUTF16(JSON.stringify(state));\n        localStorage.setItem(projInfo.id, stringifiedSettings);\n    },\n    { deep: true }\n);\nexport default window.settings = state as Settings;\n\nexport function loadSettings(): void {\n    try {\n        let item: string | null = localStorage.getItem(projInfo.id);\n        if (item != null && item !== \"\") {\n            if (item[0] === \"{\") {\n                // plaintext. No processing needed\n            } else if (item[0] === \"e\") {\n                // Assumed to be base64, which starts with e\n                item = decodeURIComponent(escape(atob(item)));\n            } else if (item[0] === \"ᯡ\") {\n                // Assumed to be lz, which starts with ᯡ\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                item = LZString.decompressFromUTF16(item)!;\n            } else {\n                console.warn(\"Unable to determine settings encoding\", item);\n                return;\n            }\n            const settings = JSON.parse(item);\n            if (typeof settings === \"object\") {\n                Object.assign(state, settings);\n            }\n        }\n        globalBus.emit(\"loadSettings\", state);\n        // eslint-disable-next-line no-empty\n    } catch {}\n}\n\nexport const hardResetSettings = (window.hardResetSettings = () => {\n    const settings = {\n        active: \"\",\n        saves: [],\n        showTPS: true,\n        theme: Themes.Nordic\n    };\n    globalBus.emit(\"loadSettings\", settings);\n    Object.assign(state, settings);\n    hardReset();\n});\n\nexport const settingFields: CoercableComponent[] = reactive([]);\nexport function registerSettingField(component: CoercableComponent) {\n    settingFields.push(component);\n}\n\nexport const infoComponents: CoercableComponent[] = reactive([]);\nexport function registerInfoComponent(component: CoercableComponent) {\n    infoComponents.push(component);\n}\n\nexport const gameComponents: CoercableComponent[] = reactive([]);\nexport function registerGameComponent(component: CoercableComponent) {\n    gameComponents.push(component);\n}\n","import { shallowReactive } from \"vue\";\n\nexport interface Transient {\n    lastTenTicks: number[];\n    hasNaN: boolean;\n    NaNPath?: string[];\n    NaNReceiver?: Record<string, unknown>;\n}\n\nexport default window.state = shallowReactive<Transient>({\n    lastTenTicks: [],\n    hasNaN: false,\n    NaNPath: []\n});\n","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Context = _resolveComponent(\"Context\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"layer-container\",\n    style: _normalizeStyle({ '--layer-color': _ctx.unref(_ctx.color) })\n  }, [\n    (_ctx.showGoBack)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 0,\n          class: \"goBack\",\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.goBack && _ctx.goBack(...args)))\n        }, \"←\"))\n      : _createCommentVNode(\"\", true),\n    (_ctx.minimized.value)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 1,\n          class: \"layer-tab minimized\",\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.minimized.value = false))\n        }, [\n          _createElementVNode(\"div\", null, _toDisplayString(_ctx.unref(_ctx.name)), 1)\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", {\n          key: 2,\n          class: _normalizeClass([\"layer-tab\", { showGoBack: _ctx.showGoBack }])\n        }, [\n          _createVNode(_component_Context, { ref: \"contextRef\" }, {\n            default: _withCtx(() => [\n              (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.component)))\n            ]),\n            _: 1\n          }, 512)\n        ], 2)),\n    (_ctx.unref(_ctx.minimizable))\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 3,\n          class: \"minimize\",\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.minimized.value = true))\n        }, \" ▼ \"))\n      : _createCommentVNode(\"\", true)\n  ], 4))\n}","\nimport projInfo from \"data/projInfo.json\";\nimport { CoercableComponent } from \"features/feature\";\nimport { FeatureNode } from \"game/layers\";\nimport { Persistent } from \"game/persistence\";\nimport player from \"game/player\";\nimport { computeComponent, processedPropType, wrapRef } from \"util/vue\";\nimport { computed, defineComponent, nextTick, PropType, Ref, ref, toRefs, unref, watch } from \"vue\";\nimport Context from \"./Context.vue\";\n\nexport default defineComponent({\n    components: { Context },\n    props: {\n        index: {\n            type: Number,\n            required: true\n        },\n        tab: {\n            type: Function as PropType<() => HTMLElement | undefined>,\n            required: true\n        },\n        display: {\n            type: processedPropType<CoercableComponent>(Object, String, Function),\n            required: true\n        },\n        minimized: {\n            type: Object as PropType<Persistent<boolean>>,\n            required: true\n        },\n        minWidth: {\n            type: processedPropType<number | string>(Number, String),\n            required: true\n        },\n        name: {\n            type: processedPropType<string>(String),\n            required: true\n        },\n        color: processedPropType<string>(String),\n        minimizable: processedPropType<boolean>(Boolean),\n        nodes: {\n            type: Object as PropType<Ref<Record<string, FeatureNode | undefined>>>,\n            required: true\n        }\n    },\n    setup(props) {\n        const { display, index, minimized, minWidth, tab } = toRefs(props);\n\n        const component = computeComponent(display);\n        const showGoBack = computed(\n            () => projInfo.allowGoBack && index.value > 0 && !minimized.value\n        );\n\n        function goBack() {\n            player.tabs.splice(unref(props.index), Infinity);\n        }\n\n        nextTick(() => updateTab(minimized.value, unref(minWidth.value)));\n        watch([minimized, wrapRef(minWidth)], ([minimized, minWidth]) =>\n            updateTab(minimized, minWidth)\n        );\n\n        const contextRef = ref<typeof Context | null>(null);\n        watch(\n            () => contextRef.value?.nodes,\n            nodes => {\n                if (nodes) {\n                    props.nodes.value = nodes;\n                }\n            }\n        );\n\n        function updateTab(minimized: boolean, minWidth: number | string) {\n            const width =\n                typeof minWidth === \"number\" || Number.isNaN(parseInt(minWidth))\n                    ? minWidth + \"px\"\n                    : minWidth;\n            const tabValue = tab.value();\n            if (tabValue != undefined) {\n                if (minimized) {\n                    tabValue.style.flexGrow = \"0\";\n                    tabValue.style.flexShrink = \"0\";\n                    tabValue.style.width = \"60px\";\n                    tabValue.style.minWidth = tabValue.style.flexBasis = \"\";\n                    tabValue.style.margin = \"0\";\n                } else {\n                    tabValue.style.flexGrow = \"\";\n                    tabValue.style.flexShrink = \"\";\n                    tabValue.style.width = \"\";\n                    tabValue.style.minWidth = tabValue.style.flexBasis = width;\n                    tabValue.style.margin = \"\";\n                }\n            }\n        }\n\n        return {\n            component,\n            showGoBack,\n            contextRef,\n            unref,\n            goBack\n        };\n    }\n});\n","import { render } from \"./Layer.vue?vue&type=template&id=e6ceea64&scoped=true&ts=true\"\nimport script from \"./Layer.vue?vue&type=script&lang=ts\"\nexport * from \"./Layer.vue?vue&type=script&lang=ts\"\n\nimport \"./Layer.vue?vue&type=style&index=0&id=e6ceea64&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e6ceea64\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5f8298e6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Changelog\", -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"details\", { open: \"\" }, [\n  /*#__PURE__*/_createElementVNode(\"summary\", null, [\n    /*#__PURE__*/_createTextVNode(\"v0.0 Initial Commit - \"),\n    /*#__PURE__*/_createElementVNode(\"time\", null, \"2021-09-04\")\n  ]),\n  /*#__PURE__*/_createTextVNode(\" This is the first release :D \"),\n  /*#__PURE__*/_createElementVNode(\"ul\", null, [\n    /*#__PURE__*/_createElementVNode(\"li\", { class: \"feature\" }, \"Did everything\"),\n    /*#__PURE__*/_createElementVNode(\"li\", { class: \"fix\" }, \"Had some fun\"),\n    /*#__PURE__*/_createElementVNode(\"li\", { class: \"breaking\" }, \"Removed everything\"),\n    /*#__PURE__*/_createElementVNode(\"li\", { class: \"balancing\" }, \"Created some bugs to fix later\")\n  ])\n], -1))\n\nimport Modal from \"components/Modal.vue\";\nimport { ref } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props, { expose }) {\n\nconst isOpen = ref(false);\n\nexpose({\n    open() {\n        isOpen.value = true;\n    }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(Modal, {\n    modelValue: isOpen.value,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((isOpen).value = $event))\n  }, {\n    header: _withCtx(() => [\n      _hoisted_1\n    ]),\n    body: _withCtx(() => [\n      _hoisted_2\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","import script from \"./Changelog.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Changelog.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Changelog.vue?vue&type=style&index=0&id=5f8298e6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5f8298e6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3eb46986\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"info-modal-header\" }\nconst _hoisted_2 = [\"src\", \"alt\"]\nconst _hoisted_3 = { class: \"info-modal-title\" }\nconst _hoisted_4 = { key: 0 }\nconst _hoisted_5 = { key: 0 }\nconst _hoisted_6 = { key: 0 }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, \" Made in Profectus, by thepaperpilot with inspiration from Acameada and Jacorb \", -1))\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_10 = [\"href\"]\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons info-modal-discord\" }, \"discord\", -1))\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, [\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://discord.gg/WzejVAx\",\n    class: \"info-modal-discord-link\"\n  }, [\n    /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons info-modal-discord\" }, \"discord\"),\n    /*#__PURE__*/_createTextVNode(\" The Paper Pilot Community \")\n  ])\n], -1))\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, [\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://discord.gg/F3xveHV\",\n    class: \"info-modal-discord-link\"\n  }, [\n    /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons info-modal-discord\" }, \"discord\"),\n    /*#__PURE__*/_createTextVNode(\" The Modding Tree \")\n  ])\n], -1))\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\n\nimport Modal from \"components/Modal.vue\";\nimport type Changelog from \"data/Changelog.vue\";\nimport projInfo from \"data/projInfo.json\";\nimport { jsx } from \"features/feature\";\nimport player from \"game/player\";\nimport { infoComponents } from \"game/settings\";\nimport { formatTime } from \"util/bignum\";\nimport { coerceComponent, render } from \"util/vue\";\nimport { computed, ref, toRefs, unref } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    changelog: null\n  },\n  setup(__props: any, { expose }) {\n\nconst _props = __props as { changelog: typeof Changelog | null }\n\nconst { title, logo, author, discordName, discordLink, versionNumber, versionTitle } = projInfo;\n\n\nconst props = toRefs(_props);\n\nconst isOpen = ref(false);\n\nconst timePlayed = computed(() => formatTime(player.timePlayed));\n\nconst infoComponent = computed(() => {\n    return coerceComponent(jsx(() => <>{infoComponents.map(render)}</>));\n});\n\nexpose({\n    open() {\n        isOpen.value = true;\n    }\n});\n\nfunction openChangelog() {\n    unref(props.changelog)?.open();\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(Modal, {\n    modelValue: isOpen.value,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((isOpen).value = $event))\n  }, {\n    header: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        (_unref(logo))\n          ? (_openBlock(), _createElementBlock(\"img\", {\n              key: 0,\n              class: \"info-modal-logo\",\n              src: _unref(logo),\n              alt: _unref(title)\n            }, null, 8, _hoisted_2))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"h2\", null, _toDisplayString(_unref(title)), 1),\n          _createElementVNode(\"h4\", null, [\n            _createTextVNode(\" v\" + _toDisplayString(_unref(versionNumber)), 1),\n            (_unref(versionTitle))\n              ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \": \" + _toDisplayString(_unref(versionTitle)), 1))\n              : _createCommentVNode(\"\", true)\n          ])\n        ])\n      ])\n    ]),\n    body: _withCtx(({ shown }) => [\n      shown\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            (_unref(author))\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \"By \" + _toDisplayString(_unref(author)), 1))\n              : _createCommentVNode(\"\", true),\n            _hoisted_7,\n            _hoisted_8,\n            _createElementVNode(\"div\", {\n              class: \"link\",\n              onClick: openChangelog\n            }, \"Changelog\"),\n            _hoisted_9,\n            _createElementVNode(\"div\", null, [\n              (_unref(discordLink) !== 'https://discord.gg/WzejVAx')\n                ? (_openBlock(), _createElementBlock(\"a\", {\n                    key: 0,\n                    href: _unref(discordLink),\n                    class: \"info-modal-discord-link\"\n                  }, [\n                    _hoisted_11,\n                    _createTextVNode(\" \" + _toDisplayString(_unref(discordName)), 1)\n                  ], 8, _hoisted_10))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _hoisted_12,\n            _hoisted_13,\n            _hoisted_14,\n            _createElementVNode(\"div\", null, \"Time Played: \" + _toDisplayString(_unref(timePlayed)), 1),\n            (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(infoComponent))))\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","import script from \"./Info.vue?vue&type=script&setup=true&lang=tsx\"\nexport * from \"./Info.vue?vue&type=script&setup=true&lang=tsx\"\n\nimport \"./Info.vue?vue&type=style&index=0&id=3eb46986&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3eb46986\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, isRef as _isRef, vModelCheckbox as _vModelCheckbox, createElementVNode as _createElementVNode, withDirectives as _withDirectives, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-43cf95d0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"field\" }\n\nimport { CoercableComponent } from \"features/feature\";\nimport { coerceComponent } from \"util/vue\";\nimport { computed, unref } from \"vue\";\nimport \"components/common/fields.css\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    title: null,\n    modelValue: { type: Boolean }\n  },\n  emits: [\"update:modelValue\"],\n  setup(__props: any, { emit }: { emit: ({\n    (e: \"update:modelValue\", value: boolean): void;\n}), expose: any, slots: any, attrs: any }) {\n\nconst props = __props as {\n    title?: CoercableComponent;\n    modelValue?: boolean;\n}\n\n\n\n\nconst component = computed(() => coerceComponent(unref(props.title) || \"<span></span>\", \"span\"));\n\nconst value = computed({\n    get() {\n        return !!props.modelValue;\n    },\n    set(value: boolean) {\n        emit(\"update:modelValue\", value);\n    }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"label\", _hoisted_1, [\n    _withDirectives(_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      class: \"toggle\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(value) ? (value).value = $event : null))\n    }, null, 512), [\n      [_vModelCheckbox, _unref(value)]\n    ]),\n    (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(component))))\n  ]))\n}\n}\n\n})","import script from \"./Toggle.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Toggle.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Toggle.vue?vue&type=style&index=0&id=43cf95d0&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-43cf95d0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, isRef as _isRef, createVNode as _createVNode, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-85d7ae40\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"header\" }, [\n  /*#__PURE__*/_createElementVNode(\"h2\", null, \"Options\")\n], -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1))\n\nimport Modal from \"components/Modal.vue\";\nimport projInfo from \"data/projInfo.json\";\nimport rawThemes from \"data/themes\";\nimport { jsx } from \"features/feature\";\nimport player from \"game/player\";\nimport settings, { settingFields } from \"game/settings\";\nimport { camelToTitle } from \"util/common\";\nimport { coerceComponent, render } from \"util/vue\";\nimport { computed, ref, toRefs } from \"vue\";\nimport Select from \"./fields/Select.vue\";\nimport Toggle from \"./fields/Toggle.vue\";\nimport Tooltip from \"features/tooltips/Tooltip.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props, { expose }) {\n\nconst isOpen = ref(false);\n\nexpose({\n    open() {\n        isOpen.value = true;\n    }\n});\n\nconst themes = Object.keys(rawThemes).map(theme => ({\n    label: camelToTitle(theme),\n    value: theme\n}));\n\nconst settingFieldsComponent = computed(() => {\n    return coerceComponent(jsx(() => <>{settingFields.map(render)}</>));\n});\n\nconst { showTPS, theme, unthrottled } = toRefs(settings);\nconst { autosave, offlineProd } = toRefs(player);\nconst isPaused = computed({\n    get() {\n        return player.devSpeed === 0;\n    },\n    set(value: boolean) {\n        player.devSpeed = value ? 0 : null;\n    }\n});\n\nconst offlineProdTitle = jsx(() => (\n    <span>\n        Offline Production<Tooltip display=\"Save-specific\">*</Tooltip>\n    </span>\n));\nconst autosaveTitle = jsx(() => (\n    <span>\n        Autosave<Tooltip display=\"Save-specific\">*</Tooltip>\n    </span>\n));\nconst isPausedTitle = jsx(() => (\n    <span>\n        Pause game<Tooltip display=\"Save-specific\">*</Tooltip>\n    </span>\n));\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(Modal, {\n    modelValue: isOpen.value,\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((isOpen).value = $event))\n  }, {\n    header: _withCtx(() => [\n      _hoisted_1\n    ]),\n    body: _withCtx(() => [\n      _createVNode(Select, {\n        title: \"Theme\",\n        options: _unref(themes),\n        modelValue: _unref(theme),\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(theme) ? (theme).value = $event : null))\n      }, null, 8, [\"options\", \"modelValue\"]),\n      (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(settingFieldsComponent)))),\n      _createVNode(Toggle, {\n        title: \"Show TPS\",\n        modelValue: _unref(showTPS),\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => (_isRef(showTPS) ? (showTPS).value = $event : null))\n      }, null, 8, [\"modelValue\"]),\n      _hoisted_2,\n      _createVNode(Toggle, {\n        title: \"Unthrottled\",\n        modelValue: _unref(unthrottled),\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => (_isRef(unthrottled) ? (unthrottled).value = $event : null))\n      }, null, 8, [\"modelValue\"]),\n      _createVNode(Toggle, {\n        title: _unref(offlineProdTitle),\n        modelValue: _unref(offlineProd),\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => (_isRef(offlineProd) ? (offlineProd).value = $event : null))\n      }, null, 8, [\"title\", \"modelValue\"]),\n      _createVNode(Toggle, {\n        title: _unref(autosaveTitle),\n        modelValue: _unref(autosave),\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => (_isRef(autosave) ? (autosave).value = $event : null))\n      }, null, 8, [\"title\", \"modelValue\"]),\n      (_unref(projInfo).enablePausing)\n        ? (_openBlock(), _createBlock(Toggle, {\n            key: 0,\n            title: _unref(isPausedTitle),\n            modelValue: _unref(isPaused),\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => (_isRef(isPaused) ? (isPaused).value = $event : null))\n          }, null, 8, [\"title\", \"modelValue\"]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","import script from \"./Options.vue?vue&type=script&setup=true&lang=tsx\"\nexport * from \"./Options.vue?vue&type=script&setup=true&lang=tsx\"\n\nimport \"./Options.vue?vue&type=style&index=0&id=85d7ae40&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-85d7ae40\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, isRef as _isRef, vModelText as _vModelText, normalizeClass as _normalizeClass, withDirectives as _withDirectives, createElementVNode as _createElementVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8bda704a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"onSubmit\"]\nconst _hoisted_2 = { class: \"field\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"field-title\"\n}\nconst _hoisted_4 = [\"placeholder\"]\n\nimport { CoercableComponent } from \"features/feature\";\nimport { coerceComponent } from \"util/vue\";\nimport { computed, onMounted, ref, toRefs, unref } from \"vue\";\nimport VueTextareaAutosize from \"vue-textarea-autosize\";\nimport \"components/common/fields.css\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    title: null,\n    modelValue: null,\n    textArea: { type: Boolean },\n    placeholder: null,\n    maxHeight: null\n  },\n  emits: [\"update:modelValue\", \"submit\"],\n  setup(__props: any, { emit }: { emit: ({\n    (e: \"update:modelValue\", value: string): void;\n    (e: \"submit\"): void;\n}), expose: any, slots: any, attrs: any }) {\n\nconst _props = __props as {\n    title?: CoercableComponent;\n    modelValue?: string;\n    textArea?: boolean;\n    placeholder?: string;\n    maxHeight?: number;\n}\n\n\nconst props = toRefs(_props);\n\n\nconst titleComponent = computed(\n    () => props.title?.value && coerceComponent(unref(props.title.value), \"span\")\n);\n\nconst field = ref<HTMLElement | null>(null);\nonMounted(() => {\n    field.value?.focus();\n});\n\nconst value = computed({\n    get() {\n        return unref(props.modelValue) || \"\";\n    },\n    set(value: string) {\n        emit(\"update:modelValue\", value);\n    }\n});\n\nfunction submit() {\n    emit(\"submit\");\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"form\", {\n    onSubmit: _withModifiers(submit, [\"prevent\"])\n  }, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_unref(titleComponent))\n        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, [\n            (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(titleComponent))))\n          ]))\n        : _createCommentVNode(\"\", true),\n      (__props.textArea)\n        ? (_openBlock(), _createBlock(_unref(VueTextareaAutosize), {\n            key: 1,\n            modelValue: _unref(value),\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(value) ? (value).value = $event : null)),\n            placeholder: __props.placeholder,\n            maxHeight: __props.maxHeight,\n            onBlur: submit,\n            ref_key: \"field\",\n            ref: field\n          }, null, 8, [\"modelValue\", \"placeholder\", \"maxHeight\"]))\n        : _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n            key: 2,\n            type: \"text\",\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => (_isRef(value) ? (value).value = $event : null)),\n            placeholder: __props.placeholder,\n            class: _normalizeClass({ fullWidth: !__props.title }),\n            onBlur: submit,\n            ref_key: \"field\",\n            ref: field\n          }, null, 42, _hoisted_4)), [\n            [_vModelText, _unref(value)]\n          ])\n    ])\n  ], 40, _hoisted_1))\n}\n}\n\n})","import script from \"./Text.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Text.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Text.vue?vue&type=style&index=0&id=8bda704a&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8bda704a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderSlot as _renderSlot, withModifiers as _withModifiers, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-bf59fca4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = [\"onClick\", \"disabled\"]\nconst _hoisted_3 = { key: 0 }\nconst _hoisted_4 = [\"onClick\"]\n\nimport { ref, toRefs, unref, watch } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    disabled: { type: Boolean },\n    skipConfirm: { type: Boolean }\n  },\n  emits: [\"click\", \"confirmingChanged\"],\n  setup(__props: any, { emit }: { emit: ({\n    (e: \"click\"): void;\n    (e: \"confirmingChanged\", value: boolean): void;\n}), expose: any, slots: any, attrs: any }) {\n\nconst _props = __props as {\n    disabled?: boolean;\n    skipConfirm?: boolean;\n}\n\n\nconst props = toRefs(_props);\n\n\nconst isConfirming = ref(false);\n\nwatch(isConfirming, isConfirming => {\n    emit(\"confirmingChanged\", isConfirming);\n});\n\nfunction click() {\n    if (unref(props.skipConfirm)) {\n        emit(\"click\");\n        return;\n    }\n    if (isConfirming.value) {\n        emit(\"click\");\n    }\n    isConfirming.value = !isConfirming.value;\n}\n\nfunction cancel() {\n    isConfirming.value = false;\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"span\", {\n    class: _normalizeClass([\"container\", { confirming: isConfirming.value }])\n  }, [\n    (isConfirming.value)\n      ? (_openBlock(), _createElementBlock(\"span\", _hoisted_1, \"Are you sure?\"))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"button\", {\n      onClick: _withModifiers(click, [\"stop\"]),\n      class: \"button danger\",\n      disabled: __props.disabled\n    }, [\n      (isConfirming.value)\n        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, \"Yes\"))\n        : _renderSlot(_ctx.$slots, \"default\", { key: 1 })\n    ], 8, _hoisted_2),\n    (isConfirming.value)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 1,\n          class: \"button\",\n          onClick: _withModifiers(cancel, [\"stop\"])\n        }, \"No\", 8, _hoisted_4))\n      : _createCommentVNode(\"\", true)\n  ], 2))\n}\n}\n\n})","import script from \"./DangerButton.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DangerButton.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./DangerButton.vue?vue&type=style&index=0&id=bf59fca4&scoped=true&lang=css\"\nimport \"./DangerButton.vue?vue&type=style&index=1&id=bf59fca4&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-bf59fca4\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, withModifiers as _withModifiers, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5bbcedd3\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"onClick\"]\n\nimport { nextTick, ref } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    left: { type: Boolean }\n  },\n  emits: [\"click\"],\n  setup(__props: any, { emit }: { emit: ({\n    (e: \"click\"): void;\n}), expose: any, slots: any, attrs: any }) {\n\n\n\n\nconst activated = ref(false);\nconst activatedTimeout = ref<number | null>(null);\n\nfunction click() {\n    emit(\"click\");\n\n    // Give feedback to user\n    if (activatedTimeout.value) {\n        clearTimeout(activatedTimeout.value);\n    }\n    activated.value = false;\n    nextTick(() => {\n        activated.value = true;\n        activatedTimeout.value = setTimeout(() => (activated.value = false), 500);\n    });\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"button\", {\n    onClick: _withModifiers(click, [\"stop\"]),\n    class: _normalizeClass([\"feedback\", { activated: activated.value, left: __props.left }])\n  }, [\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 10, _hoisted_1))\n}\n}\n\n})","import script from \"./FeedbackButton.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FeedbackButton.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./FeedbackButton.vue?vue&type=style&index=0&id=5bbcedd3&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5bbcedd3\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-335ce270\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"handle material-icons\" }, \"drag_handle\", -1))\nconst _hoisted_2 = {\n  key: 0,\n  class: \"actions\"\n}\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"content_paste\", -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"content_copy\", -1))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"edit\", -1))\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"material-icons\",\n  style: {\"margin\":\"-2px\"}\n}, \"delete\", -1))\nconst _hoisted_7 = {\n  key: 1,\n  class: \"actions\"\n}\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"check\", -1))\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"close\", -1))\nconst _hoisted_10 = {\n  key: 2,\n  class: \"details\"\n}\nconst _hoisted_11 = { class: \"save-version\" }\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_13 = { key: 0 }\nconst _hoisted_14 = {\n  key: 3,\n  class: \"details\"\n}\nconst _hoisted_15 = {\n  key: 4,\n  class: \"details error\"\n}\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\n\nimport Tooltip from \"features/tooltips/Tooltip.vue\";\nimport player from \"game/player\";\nimport { Direction } from \"util/common\";\nimport { computed, ref, toRefs, watch } from \"vue\";\nimport DangerButton from \"./fields/DangerButton.vue\";\nimport FeedbackButton from \"./fields/FeedbackButton.vue\";\nimport Text from \"./fields/Text.vue\";\nimport { LoadablePlayerData } from \"./SavesManager.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    save: null\n  },\n  emits: [\"export\", \"open\", \"duplicate\", \"delete\", \"editName\"],\n  setup(__props: any, { emit }: { emit: ({\n    (e: \"export\"): void;\n    (e: \"open\"): void;\n    (e: \"duplicate\"): void;\n    (e: \"delete\"): void;\n    (e: \"editName\", name: string): void;\n}), expose: any, slots: any, attrs: any }) {\n\nconst _props = __props as {\n    save: LoadablePlayerData;\n}\n\n\nconst { save } = toRefs(_props);\n\n\nconst dateFormat = new Intl.DateTimeFormat(\"en-US\", {\n    year: \"numeric\",\n    month: \"numeric\",\n    day: \"numeric\",\n    hour: \"numeric\",\n    minute: \"numeric\",\n    second: \"numeric\"\n});\n\nconst isEditing = ref(false);\nconst isConfirming = ref(false);\nconst newName = ref(\"\");\n\nwatch(isEditing, () => (newName.value = save.value.name || \"\"));\n\nconst isActive = computed(() => save.value && save.value.id === player.id);\nconst currentTime = computed(() =>\n    isActive.value ? player.time : (save.value && save.value.time) || 0\n);\n\nfunction changeName() {\n    emit(\"editName\", newName.value);\n    isEditing.value = false;\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"save\", { active: _unref(isActive) }])\n  }, [\n    _hoisted_1,\n    (!isEditing.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          (_unref(save).error == undefined && !isConfirming.value)\n            ? (_openBlock(), _createBlock(FeedbackButton, {\n                key: 0,\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (emit('export'))),\n                class: \"button\",\n                left: \"\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(Tooltip, {\n                    display: \"Export\",\n                    direction: _unref(Direction).Left,\n                    class: \"info\"\n                  }, {\n                    default: _withCtx(() => [\n                      _hoisted_3\n                    ]),\n                    _: 1\n                  }, 8, [\"direction\"])\n                ]),\n                _: 1\n              }))\n            : _createCommentVNode(\"\", true),\n          (_unref(save).error == undefined && !isConfirming.value)\n            ? (_openBlock(), _createElementBlock(\"button\", {\n                key: 1,\n                onClick: _cache[1] || (_cache[1] = ($event: any) => (emit('duplicate'))),\n                class: \"button\"\n              }, [\n                _createVNode(Tooltip, {\n                  display: \"Duplicate\",\n                  direction: _unref(Direction).Left,\n                  class: \"info\"\n                }, {\n                  default: _withCtx(() => [\n                    _hoisted_4\n                  ]),\n                  _: 1\n                }, 8, [\"direction\"])\n              ]))\n            : _createCommentVNode(\"\", true),\n          (_unref(save).error == undefined && !isConfirming.value)\n            ? (_openBlock(), _createElementBlock(\"button\", {\n                key: 2,\n                onClick: _cache[2] || (_cache[2] = ($event: any) => (isEditing.value = !isEditing.value)),\n                class: \"button\"\n              }, [\n                _createVNode(Tooltip, {\n                  display: \"Edit Name\",\n                  direction: _unref(Direction).Left,\n                  class: \"info\"\n                }, {\n                  default: _withCtx(() => [\n                    _hoisted_5\n                  ]),\n                  _: 1\n                }, 8, [\"direction\"])\n              ]))\n            : _createCommentVNode(\"\", true),\n          _createVNode(DangerButton, {\n            disabled: _unref(isActive),\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (emit('delete'))),\n            onConfirmingChanged: _cache[4] || (_cache[4] = value => (isConfirming.value = value))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(Tooltip, {\n                display: \"Delete\",\n                direction: _unref(Direction).Left,\n                class: \"info\"\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_6\n                ]),\n                _: 1\n              }, 8, [\"direction\"])\n            ]),\n            _: 1\n          }, 8, [\"disabled\"])\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n          _createElementVNode(\"button\", {\n            onClick: changeName,\n            class: \"button\"\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Save\",\n              direction: _unref(Direction).Left,\n              class: \"info\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_8\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ]),\n          _createElementVNode(\"button\", {\n            onClick: _cache[5] || (_cache[5] = ($event: any) => (isEditing.value = !isEditing.value)),\n            class: \"button\"\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Cancel\",\n              direction: _unref(Direction).Left,\n              class: \"info\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_9\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ])\n        ])),\n    (_unref(save).error == undefined && !isEditing.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n          _createElementVNode(\"button\", {\n            class: \"button open\",\n            onClick: _cache[6] || (_cache[6] = ($event: any) => (emit('open')))\n          }, [\n            _createElementVNode(\"h3\", null, _toDisplayString(_unref(save).name), 1)\n          ]),\n          _createElementVNode(\"span\", _hoisted_11, \"v\" + _toDisplayString(_unref(save).modVersion), 1),\n          _hoisted_12,\n          (_unref(currentTime))\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, \"Last played \" + _toDisplayString(_unref(dateFormat).format(_unref(currentTime))), 1))\n            : _createCommentVNode(\"\", true)\n        ]))\n      : (_unref(save).error == undefined && isEditing.value)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [\n            _createVNode(Text, {\n              modelValue: newName.value,\n              \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((newName).value = $event)),\n              class: \"editname\",\n              onSubmit: changeName\n            }, null, 8, [\"modelValue\"])\n          ]))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n            _createTextVNode(\" Error: Failed to load save with id \" + _toDisplayString(_unref(save).id), 1),\n            _hoisted_16,\n            _createTextVNode(_toDisplayString(_unref(save).error), 1)\n          ]))\n  ], 2))\n}\n}\n\n})","import script from \"./Save.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Save.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Save.vue?vue&type=style&index=0&id=335ce270&scoped=true&lang=css\"\nimport \"./Save.vue?vue&type=style&index=1&id=335ce270&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-335ce270\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2bfdf896\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Saves Manager\", -1))\nconst _hoisted_2 = { class: \"modal-footer\" }\nconst _hoisted_3 = { class: \"field\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"field-title\" }, \"Create Save\", -1))\nconst _hoisted_5 = { class: \"field-buttons\" }\nconst _hoisted_6 = { class: \"footer\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex-grow\":\"1\"} }, null, -1))\n\nimport projInfo from \"data/projInfo.json\";\nimport Modal from \"components/Modal.vue\";\nimport player, { PlayerData, stringifySave } from \"game/player\";\nimport settings from \"game/settings\";\nimport { getUniqueID, loadSave, save, newSave } from \"util/save\";\nimport { ComponentPublicInstance, computed, nextTick, ref, shallowReactive, watch } from \"vue\";\nimport Select from \"./fields/Select.vue\";\nimport Text from \"./fields/Text.vue\";\nimport Save from \"./Save.vue\";\nimport Draggable from \"vuedraggable\";\nimport LZString from \"lz-string\";\nimport { ProxyState } from \"util/proxies\";\n\nexport type LoadablePlayerData = Omit<Partial<PlayerData>, \"id\"> & { id: string; error?: unknown };\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props, { expose }) {\n\nconst isOpen = ref(false);\nconst modal = ref<ComponentPublicInstance<typeof Modal> | null>(null);\n\nexpose({\n    open() {\n        isOpen.value = true;\n    }\n});\n\nconst importingFailed = ref(false);\nconst saveToImport = ref(\"\");\nconst selectedPreset = ref<string | null>(null);\n\nwatch(saveToImport, importedSave => {\n    if (importedSave) {\n        nextTick(() => {\n            try {\n                if (importedSave[0] === \"{\") {\n                    // plaintext. No processing needed\n                } else if (importedSave[0] === \"e\") {\n                    // Assumed to be base64, which starts with e\n                    importedSave = decodeURIComponent(escape(atob(importedSave)));\n                } else if (importedSave[0] === \"ᯡ\") {\n                    // Assumed to be lz, which starts with ᯡ\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    importedSave = LZString.decompressFromUTF16(importedSave)!;\n                } else {\n                    console.warn(\"Unable to determine preset encoding\", importedSave);\n                    importingFailed.value = true;\n                    return;\n                }\n                const playerData = JSON.parse(importedSave);\n                if (typeof playerData !== \"object\") {\n                    importingFailed.value = true;\n                    return;\n                }\n                const id = getUniqueID();\n                playerData.id = id;\n                save(playerData);\n                saveToImport.value = \"\";\n                importingFailed.value = false;\n\n                settings.saves.push(id);\n            } catch (e) {\n                importingFailed.value = true;\n            }\n        });\n    } else {\n        importingFailed.value = false;\n    }\n});\n\nlet bankContext = require.context(\"raw-loader!../../saves\", true, /\\.txt$/);\nlet bank = ref(\n    bankContext.keys().reduce((acc: Array<{ label: string; value: string }>, curr) => {\n        // .slice(2, -4) strips the leading ./ and the trailing .txt\n        acc.push({\n            label: curr.slice(2, -4),\n            value: bankContext(curr).default\n        });\n        return acc;\n    }, [])\n);\n\nconst cachedSaves = shallowReactive<Record<string, LoadablePlayerData | undefined>>({});\nfunction getCachedSave(id: string) {\n    if (cachedSaves[id] == null) {\n        let save = localStorage.getItem(id);\n        if (save == null) {\n            cachedSaves[id] = { error: `Save doesn't exist in localStorage`, id };\n        } else if (save === \"dW5kZWZpbmVk\") {\n            cachedSaves[id] = { error: `Save is undefined`, id };\n        } else {\n            try {\n                if (save[0] === \"{\") {\n                    // plaintext. No processing needed\n                } else if (save[0] === \"e\") {\n                    // Assumed to be base64, which starts with e\n                    save = decodeURIComponent(escape(atob(save)));\n                } else if (save[0] === \"ᯡ\") {\n                    // Assumed to be lz, which starts with ᯡ\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    save = LZString.decompressFromUTF16(save)!;\n                } else {\n                    console.warn(\"Unable to determine preset encoding\", save);\n                    importingFailed.value = true;\n                    cachedSaves[id] = { error: \"Unable to determine preset encoding\", id };\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    return cachedSaves[id]!;\n                }\n                cachedSaves[id] = { ...JSON.parse(save), id };\n            } catch (error) {\n                cachedSaves[id] = { error, id };\n                console.warn(\n                    `SavesManager: Failed to load info about save with id ${id}:\\n${error}\\n${save}`\n                );\n            }\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return cachedSaves[id]!;\n}\n// Wipe cache whenever the modal is opened\nwatch(isOpen, isOpen => {\n    if (isOpen) {\n        Object.keys(cachedSaves).forEach(key => delete cachedSaves[key]);\n    }\n});\n\nconst saves = computed(() =>\n    settings.saves.reduce((acc: Record<string, LoadablePlayerData>, curr: string) => {\n        acc[curr] = getCachedSave(curr);\n        return acc;\n    }, {})\n);\n\nfunction exportSave(id: string) {\n    let saveToExport;\n    if (player.id === id) {\n        saveToExport = stringifySave(player[ProxyState]);\n    } else {\n        saveToExport = JSON.stringify(saves.value[id]);\n    }\n    switch (projInfo.exportEncoding) {\n        default:\n            console.warn(`Unknown save encoding: ${projInfo.exportEncoding}. Defaulting to lz`);\n        case \"lz\":\n            saveToExport = LZString.compressToUTF16(saveToExport);\n            break;\n        case \"base64\":\n            saveToExport = btoa(unescape(encodeURIComponent(saveToExport)));\n            break;\n        case \"plain\":\n            break;\n    }\n\n    // Put on clipboard. Using the clipboard API asks for permissions and stuff\n    const el = document.createElement(\"textarea\");\n    el.value = saveToExport;\n    document.body.appendChild(el);\n    el.select();\n    el.setSelectionRange(0, 99999);\n    document.execCommand(\"copy\");\n    document.body.removeChild(el);\n}\n\nfunction duplicateSave(id: string) {\n    if (player.id === id) {\n        save();\n    }\n\n    const playerData = { ...saves.value[id], id: getUniqueID() };\n    save(playerData as PlayerData);\n\n    settings.saves.push(playerData.id);\n}\n\nfunction deleteSave(id: string) {\n    settings.saves = settings.saves.filter((save: string) => save !== id);\n    localStorage.removeItem(id);\n    cachedSaves[id] = undefined;\n}\n\nfunction openSave(id: string) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    saves.value[player.id]!.time = player.time;\n    save();\n    cachedSaves[player.id] = undefined;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    loadSave(saves.value[id]!);\n    // Delete cached version in case of opening it again\n    cachedSaves[id] = undefined;\n}\n\nfunction newFromPreset(preset: string) {\n    // Reset preset dropdown\n    selectedPreset.value = preset;\n    nextTick(() => {\n        selectedPreset.value = null;\n    });\n\n    if (preset[0] === \"{\") {\n        // plaintext. No processing needed\n    } else if (preset[0] === \"e\") {\n        // Assumed to be base64, which starts with e\n        preset = decodeURIComponent(escape(atob(preset)));\n    } else if (preset[0] === \"ᯡ\") {\n        // Assumed to be lz, which starts with ᯡ\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        preset = LZString.decompressFromUTF16(preset)!;\n    } else {\n        console.warn(\"Unable to determine preset encoding\", preset);\n        return;\n    }\n    const playerData = JSON.parse(preset);\n    playerData.id = getUniqueID();\n    save(playerData as PlayerData);\n\n    settings.saves.push(playerData.id);\n\n    openSave(playerData.id);\n}\n\nfunction editSave(id: string, newName: string) {\n    const currSave = saves.value[id];\n    if (currSave) {\n        currSave.name = newName;\n        if (player.id === id) {\n            player.name = newName;\n            save();\n        } else {\n            save(currSave as PlayerData);\n            cachedSaves[id] = undefined;\n        }\n    }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(Modal, {\n    modelValue: isOpen.value,\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((isOpen).value = $event)),\n    ref_key: \"modal\",\n    ref: modal\n  }, {\n    header: _withCtx(() => [\n      _hoisted_1\n    ]),\n    body: _withCtx(({ shown }) => [\n      shown\n        ? (_openBlock(), _createBlock(_unref(Draggable), {\n            key: 0,\n            list: _unref(settings).saves,\n            handle: \".handle\",\n            itemKey: (save) => save\n          }, {\n            item: _withCtx(({ element }) => [\n              _createVNode(Save, {\n                save: _unref(saves)[element],\n                onOpen: ($event: any) => (openSave(element)),\n                onExport: ($event: any) => (exportSave(element)),\n                onEditName: name => editSave(element, name),\n                onDuplicate: ($event: any) => (duplicateSave(element)),\n                onDelete: ($event: any) => (deleteSave(element))\n              }, null, 8, [\"save\", \"onOpen\", \"onExport\", \"onEditName\", \"onDuplicate\", \"onDelete\"])\n            ]),\n            _: 1\n          }, 8, [\"list\", \"itemKey\"]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    footer: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(Text, {\n          modelValue: saveToImport.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((saveToImport).value = $event)),\n          title: \"Import Save\",\n          placeholder: \"Paste your save here!\",\n          class: _normalizeClass({ importingFailed: importingFailed.value })\n        }, null, 8, [\"modelValue\", \"class\"]),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _hoisted_4,\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createElementVNode(\"button\", {\n              class: \"button\",\n              onClick: _cache[1] || (_cache[1] = ($event: any) => (openSave(_unref(newSave)().id)))\n            }, \"New Game\"),\n            (Object.keys(_unref(bank)).length > 0)\n              ? (_openBlock(), _createBlock(Select, {\n                  key: 0,\n                  options: _unref(bank),\n                  modelValue: selectedPreset.value,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = preset => newFromPreset(preset as string)),\n                  closeOnSelect: \"\",\n                  placeholder: \"Select preset\",\n                  class: \"presets\"\n                }, null, 8, [\"options\", \"modelValue\"]))\n              : _createCommentVNode(\"\", true)\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_6, [\n          _hoisted_7,\n          _createElementVNode(\"button\", {\n            class: \"button modal-default-button\",\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (isOpen.value = false))\n          }, \" Close \")\n        ])\n      ])\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","import script from \"./SavesManager.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SavesManager.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SavesManager.vue?vue&type=style&index=0&id=2bfdf896&scoped=true&lang=css\"\nimport \"./SavesManager.vue?vue&type=style&index=1&id=2bfdf896&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2bfdf896\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, mergeProps as _mergeProps, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-66269b62\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\", \"alt\"]\nconst _hoisted_2 = {\n  key: 1,\n  class: \"title\"\n}\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex-grow\":\"1\",\"cursor\":\"unset\"} }, null, -1))\nconst _hoisted_4 = { class: \"discord\" }\nconst _hoisted_5 = { class: \"discord-links\" }\nconst _hoisted_6 = { key: 0 }\nconst _hoisted_7 = [\"href\"]\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"li\", null, [\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://discord.gg/WzejVAx\",\n    target: \"_blank\"\n  }, \"The Paper Pilot Community\")\n], -1))\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"li\", null, [\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://discord.gg/F3xveHV\",\n    target: \"_blank\"\n  }, \"The Modding Tree\")\n], -1))\nconst _hoisted_10 = {\n  href: \"https://forums.moddingtree.com/\",\n  target: \"_blank\"\n}\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"forum\", -1))\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"info\", -1))\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"library_books\", -1))\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"settings\", -1))\nconst _hoisted_15 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"library_books\", -1))\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"settings\", -1))\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"info\", -1))\nconst _hoisted_18 = {\n  href: \"https://forums.moddingtree.com/\",\n  target: \"_blank\"\n}\nconst _hoisted_19 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"forum\", -1))\nconst _hoisted_20 = { class: \"discord\" }\nconst _hoisted_21 = { class: \"discord-links\" }\nconst _hoisted_22 = { key: 0 }\nconst _hoisted_23 = [\"href\"]\nconst _hoisted_24 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"li\", null, [\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://discord.gg/WzejVAx\",\n    target: \"_blank\"\n  }, \"The Paper Pilot Community\")\n], -1))\nconst _hoisted_25 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"li\", null, [\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://discord.gg/F3xveHV\",\n    target: \"_blank\"\n  }, \"The Modding Tree\")\n], -1))\n\nimport Changelog from \"data/Changelog.vue\";\nimport projInfo from \"data/projInfo.json\";\nimport { ComponentPublicInstance, ref } from \"vue\";\nimport Info from \"./Info.vue\";\nimport Options from \"./Options.vue\";\nimport SavesManager from \"./SavesManager.vue\";\nimport Tooltip from \"features/tooltips/Tooltip.vue\";\nimport { Direction } from \"util/common\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst info = ref<ComponentPublicInstance<typeof Info> | null>(null);\nconst savesManager = ref<ComponentPublicInstance<typeof SavesManager> | null>(null);\nconst options = ref<ComponentPublicInstance<typeof Options> | null>(null);\n// For some reason Info won't accept the changelog unless I do this:\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst changelog = ref<ComponentPublicInstance<any> | null>(null);\n\nconst { useHeader, banner, title, discordName, discordLink, versionNumber } = projInfo;\n\nfunction openDiscord() {\n    window.open(discordLink, \"mywindow\");\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (_unref(useHeader))\n      ? (_openBlock(), _createElementBlock(\"div\", _mergeProps({\n          key: 0,\n          class: \"nav\"\n        }, _ctx.$attrs), [\n          (_unref(banner))\n            ? (_openBlock(), _createElementBlock(\"img\", {\n                key: 0,\n                src: _unref(banner),\n                class: \"banner\",\n                alt: _unref(title),\n                style: {\"margin-left\":\"10px\"}\n              }, null, 8, _hoisted_1))\n            : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _toDisplayString(_unref(title)), 1)),\n          _createElementVNode(\"div\", {\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (changelog.value?.open())),\n            class: \"version-container\"\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Changelog\",\n              direction: _unref(Direction).Down,\n              class: \"version\"\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"span\", null, \"v\" + _toDisplayString(_unref(versionNumber)), 1)\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ]),\n          _hoisted_3,\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createElementVNode(\"span\", {\n              onClick: openDiscord,\n              class: \"material-icons\"\n            }, \"discord\"),\n            _createElementVNode(\"ul\", _hoisted_5, [\n              (_unref(discordLink) !== 'https://discord.gg/WzejVAx')\n                ? (_openBlock(), _createElementBlock(\"li\", _hoisted_6, [\n                    _createElementVNode(\"a\", {\n                      href: _unref(discordLink),\n                      target: \"_blank\"\n                    }, _toDisplayString(_unref(discordName)), 9, _hoisted_7)\n                  ]))\n                : _createCommentVNode(\"\", true),\n              _hoisted_8,\n              _hoisted_9\n            ])\n          ]),\n          _createElementVNode(\"div\", null, [\n            _createElementVNode(\"a\", _hoisted_10, [\n              _createVNode(Tooltip, {\n                display: \"Forums\",\n                direction: _unref(Direction).Down,\n                yoffset: \"5px\"\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_11\n                ]),\n                _: 1\n              }, 8, [\"direction\"])\n            ])\n          ]),\n          _createElementVNode(\"div\", {\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (info.value?.open()))\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Info\",\n              direction: _unref(Direction).Down,\n              class: \"info\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_12\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ]),\n          _createElementVNode(\"div\", {\n            onClick: _cache[2] || (_cache[2] = ($event: any) => (savesManager.value?.open()))\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Saves\",\n              direction: _unref(Direction).Down,\n              xoffset: \"-20px\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_13\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ]),\n          _createElementVNode(\"div\", {\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (options.value?.open()))\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Options\",\n              direction: _unref(Direction).Down,\n              xoffset: \"-66px\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_14\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ])\n        ], 16))\n      : (_openBlock(), _createElementBlock(\"div\", _mergeProps({\n          key: 1,\n          class: \"overlay-nav\"\n        }, _ctx.$attrs), [\n          _createElementVNode(\"div\", {\n            onClick: _cache[4] || (_cache[4] = ($event: any) => (changelog.value?.open())),\n            class: \"version-container\"\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Changelog\",\n              direction: _unref(Direction).Right,\n              xoffset: \"25%\",\n              class: \"version\"\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"span\", null, \"v\" + _toDisplayString(_unref(versionNumber)), 1)\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ]),\n          _createElementVNode(\"div\", {\n            onClick: _cache[5] || (_cache[5] = ($event: any) => (savesManager.value?.open()))\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Saves\",\n              direction: _unref(Direction).Right\n            }, {\n              default: _withCtx(() => [\n                _hoisted_15\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ]),\n          _createElementVNode(\"div\", {\n            onClick: _cache[6] || (_cache[6] = ($event: any) => (options.value?.open()))\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Options\",\n              direction: _unref(Direction).Right\n            }, {\n              default: _withCtx(() => [\n                _hoisted_16\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ]),\n          _createElementVNode(\"div\", {\n            onClick: _cache[7] || (_cache[7] = ($event: any) => (info.value?.open()))\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Info\",\n              direction: _unref(Direction).Right\n            }, {\n              default: _withCtx(() => [\n                _hoisted_17\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ]),\n          _createElementVNode(\"div\", null, [\n            _createElementVNode(\"a\", _hoisted_18, [\n              _createVNode(Tooltip, {\n                display: \"Forums\",\n                direction: _unref(Direction).Right,\n                xoffset: \"7px\"\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_19\n                ]),\n                _: 1\n              }, 8, [\"direction\"])\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_20, [\n            _createElementVNode(\"span\", {\n              onClick: openDiscord,\n              class: \"material-icons\"\n            }, \"discord\"),\n            _createElementVNode(\"ul\", _hoisted_21, [\n              (_unref(discordLink) !== 'https://discord.gg/WzejVAx')\n                ? (_openBlock(), _createElementBlock(\"li\", _hoisted_22, [\n                    _createElementVNode(\"a\", {\n                      href: _unref(discordLink),\n                      target: \"_blank\"\n                    }, _toDisplayString(_unref(discordName)), 9, _hoisted_23)\n                  ]))\n                : _createCommentVNode(\"\", true),\n              _hoisted_24,\n              _hoisted_25\n            ])\n          ])\n        ], 16)),\n    _createVNode(Info, {\n      ref_key: \"info\",\n      ref: info,\n      changelog: changelog.value\n    }, null, 8, [\"changelog\"]),\n    _createVNode(SavesManager, {\n      ref_key: \"savesManager\",\n      ref: savesManager\n    }, null, 512),\n    _createVNode(Options, {\n      ref_key: \"options\",\n      ref: options\n    }, null, 512),\n    _createVNode(Changelog, {\n      ref_key: \"changelog\",\n      ref: changelog\n    }, null, 512)\n  ], 64))\n}\n}\n\n})","import script from \"./Nav.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Nav.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Nav.vue?vue&type=style&index=0&id=66269b62&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-66269b62\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, mergeProps as _mergeProps, resolveDynamicComponent as _resolveDynamicComponent, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7e494d3c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"inner-tab\" }\n\nimport projInfo from \"data/projInfo.json\";\nimport { GenericLayer, layers } from \"game/layers\";\nimport player from \"game/player\";\nimport { computed, toRef, unref } from \"vue\";\nimport Layer from \"./Layer.vue\";\nimport Nav from \"./Nav.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst tabs = toRef(player, \"tabs\");\nconst layerKeys = computed(() => Object.keys(layers));\nconst useHeader = projInfo.useHeader;\n\nfunction gatherLayerProps(layer: GenericLayer) {\n    const { display, minimized, minWidth, name, color, minimizable, nodes } = layer;\n    return { display, minimized, minWidth, name, color, minimizable, nodes };\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"tabs-container\", { useHeader: _unref(useHeader) }])\n  }, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(tabs), (tab, index) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: _normalizeClass([\"tab\", unref(_unref(layers)[tab]?.classes)]),\n        ref_for: true,\n        ref: `tab-${index}`,\n        style: _normalizeStyle(unref(_unref(layers)[tab]?.style))\n      }, [\n        (index === 0 && !_unref(useHeader))\n          ? (_openBlock(), _createBlock(Nav, { key: 0 }))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"div\", _hoisted_1, [\n          (_unref(layerKeys).includes(tab))\n            ? (_openBlock(), _createBlock(Layer, _mergeProps({ key: 0 }, gatherLayerProps(_unref(layers)[tab]!), {\n                index: index,\n                tab: () => ((_ctx.$refs[`tab-${index}`] as HTMLElement[] | undefined)?.[0])\n              }), null, 16, [\"index\", \"tab\"]))\n            : (_openBlock(), _createBlock(_resolveDynamicComponent(tab), {\n                key: 1,\n                index: index\n              }, null, 8, [\"index\"]))\n        ])\n      ], 6))\n    }), 128))\n  ], 2))\n}\n}\n\n})","import script from \"./Game.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Game.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Game.vue?vue&type=style&index=0&id=7e494d3c&scoped=true&lang=css\"\nimport \"./Game.vue?vue&type=style&index=1&id=7e494d3c&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7e494d3c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, isRef as _isRef, createVNode as _createVNode, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-06188cc8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"game-over-modal-header\" }\nconst _hoisted_2 = [\"src\", \"alt\"]\nconst _hoisted_3 = { class: \"game-over-modal-title\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Congratulations!\", -1))\nconst _hoisted_5 = { key: 0 }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, \" Please check the Discord to discuss the game or to check for new content updates! \", -1))\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_9 = [\"href\"]\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons game-over-modal-discord\" }, \"discord\", -1))\n\nimport Modal from \"components/Modal.vue\";\nimport { hasWon } from \"data/projEntry\";\nimport projInfo from \"data/projInfo.json\";\nimport player from \"game/player\";\nimport { formatTime } from \"util/bignum\";\nimport { loadSave, newSave } from \"util/save\";\nimport { computed, toRef } from \"vue\";\nimport Toggle from \"./fields/Toggle.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst { title, logo, discordName, discordLink, versionNumber, versionTitle } = projInfo;\n\nconst timePlayed = computed(() => formatTime(player.timePlayed));\nconst isOpen = computed(() => hasWon.value && !player.keepGoing);\nconst autosave = toRef(player, \"autosave\");\n\nfunction keepGoing() {\n    player.keepGoing = true;\n}\n\nfunction playAgain() {\n    loadSave(newSave());\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(Modal, { \"model-value\": _unref(isOpen) }, {\n    header: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        (_unref(logo))\n          ? (_openBlock(), _createElementBlock(\"img\", {\n              key: 0,\n              class: \"game-over-modal-logo\",\n              src: _unref(logo),\n              alt: _unref(title)\n            }, null, 8, _hoisted_2))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _hoisted_4,\n          _createElementVNode(\"h4\", null, \"You've beaten \" + _toDisplayString(_unref(title)) + \" v\" + _toDisplayString(_unref(versionNumber)) + \": \" + _toDisplayString(_unref(versionTitle)), 1)\n        ])\n      ])\n    ]),\n    body: _withCtx(({ shown }) => [\n      shown\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            _createElementVNode(\"div\", null, \"It took you \" + _toDisplayString(_unref(timePlayed)) + \" to beat the game.\", 1),\n            _hoisted_6,\n            _hoisted_7,\n            _hoisted_8,\n            _createElementVNode(\"div\", null, [\n              _createElementVNode(\"a\", {\n                href: _unref(discordLink),\n                class: \"game-over-modal-discord-link\"\n              }, [\n                _hoisted_10,\n                _createTextVNode(\" \" + _toDisplayString(_unref(discordName)), 1)\n              ], 8, _hoisted_9)\n            ]),\n            _createVNode(Toggle, {\n              title: \"Autosave\",\n              modelValue: _unref(autosave),\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(autosave) ? (autosave).value = $event : null))\n            }, null, 8, [\"modelValue\"])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    footer: _withCtx(() => [\n      _createElementVNode(\"div\", { class: \"game-over-footer\" }, [\n        _createElementVNode(\"button\", {\n          onClick: keepGoing,\n          class: \"button\"\n        }, \"Keep Going\"),\n        _createElementVNode(\"button\", {\n          onClick: playAgain,\n          class: \"button danger\"\n        }, \"Play Again\")\n      ])\n    ]),\n    _: 1\n  }, 8, [\"model-value\"]))\n}\n}\n\n})","import script from \"./GameOverScreen.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./GameOverScreen.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./GameOverScreen.vue?vue&type=style&index=0&id=06188cc8&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-06188cc8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, isRef as _isRef, createVNode as _createVNode, createBlock as _createBlock, mergeProps as _mergeProps, withCtx as _withCtx, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5935214c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"nan-modal-header\" }, [\n  /*#__PURE__*/_createElementVNode(\"h2\", null, \"NaN value detected!\")\n], -1))\nconst _hoisted_2 = { key: 0 }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_4 = [\"href\"]\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons nan-modal-discord\" }, \"discord\", -1))\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_7 = { class: \"nan-footer\" }\n\nimport Modal from \"components/Modal.vue\";\nimport projInfo from \"data/projInfo.json\";\nimport player from \"game/player\";\nimport state from \"game/state\";\nimport Decimal, { DecimalSource, format } from \"util/bignum\";\nimport { ComponentPublicInstance, computed, ref, toRef } from \"vue\";\nimport Toggle from \"./fields/Toggle.vue\";\nimport SavesManager from \"./SavesManager.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst { discordName, discordLink } = projInfo;\nconst autosave = toRef(player, \"autosave\");\nconst hasNaN = toRef(state, \"hasNaN\");\nconst savesManager = ref<ComponentPublicInstance<typeof SavesManager> | null>(null);\n\nconst path = computed(() => state.NaNPath?.join(\".\"));\nconst property = computed(() => state.NaNPath?.slice(-1)[0]);\nconst previous = computed<DecimalSource | null>(() => {\n    if (state.NaNReceiver && property.value) {\n        return state.NaNReceiver[property.value] as DecimalSource;\n    }\n    return null;\n});\nconst isPaused = computed({\n    get() {\n        return player.devSpeed === 0;\n    },\n    set(value: boolean) {\n        player.devSpeed = value ? null : 0;\n    }\n});\n\nfunction setZero() {\n    if (state.NaNReceiver && property.value) {\n        state.NaNReceiver[property.value] = new Decimal(0);\n        state.hasNaN = false;\n    }\n}\n\nfunction setOne() {\n    if (state.NaNReceiver && property.value) {\n        state.NaNReceiver[property.value] = new Decimal(1);\n        state.hasNaN = false;\n    }\n}\n\nfunction ignore() {\n    if (state.NaNReceiver && property.value) {\n        state.NaNReceiver[property.value] = new Decimal(NaN);\n        state.hasNaN = false;\n    }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(Modal, _mergeProps({\n      modelValue: _unref(hasNaN),\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => (_isRef(hasNaN) ? (hasNaN).value = $event : null))\n    }, _ctx.$attrs), {\n      header: _withCtx(() => [\n        _hoisted_1\n      ]),\n      body: _withCtx(() => [\n        _createElementVNode(\"div\", null, [\n          _createTextVNode(\" Attempted to assign \\\"\" + _toDisplayString(_unref(path)) + \"\\\" to NaN\", 1),\n          (_unref(previous))\n            ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, _toDisplayString(\" \") + \"(previously \" + _toDisplayString(_unref(format)(_unref(previous))) + \")\", 1))\n            : _createCommentVNode(\"\", true),\n          _createTextVNode(\". Auto-saving has been \" + _toDisplayString(_unref(autosave) ? \"enabled\" : \"disabled\") + \". Check the console for more details, and consider sharing it with the developers on discord. \", 1)\n        ]),\n        _hoisted_3,\n        _createElementVNode(\"div\", null, [\n          _createElementVNode(\"a\", {\n            href: _unref(discordLink),\n            class: \"nan-modal-discord-link\"\n          }, [\n            _hoisted_5,\n            _createTextVNode(\" \" + _toDisplayString(_unref(discordName)), 1)\n          ], 8, _hoisted_4)\n        ]),\n        _hoisted_6,\n        _createVNode(Toggle, {\n          title: \"Autosave\",\n          modelValue: _unref(autosave),\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(autosave) ? (autosave).value = $event : null))\n        }, null, 8, [\"modelValue\"]),\n        (_unref(projInfo).enablePausing)\n          ? (_openBlock(), _createBlock(Toggle, {\n              key: 0,\n              title: \"Pause game\",\n              modelValue: _unref(isPaused),\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => (_isRef(isPaused) ? (isPaused).value = $event : null))\n            }, null, 8, [\"modelValue\"]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      footer: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_7, [\n          _createElementVNode(\"button\", {\n            onClick: _cache[2] || (_cache[2] = ($event: any) => (savesManager.value?.open())),\n            class: \"button\"\n          }, \"Open Saves Manager\"),\n          _createElementVNode(\"button\", {\n            onClick: setZero,\n            class: \"button\"\n          }, \"Set to 0\"),\n          _createElementVNode(\"button\", {\n            onClick: setOne,\n            class: \"button\"\n          }, \"Set to 1\"),\n          (_unref(previous) && _unref(Decimal).neq(_unref(previous), 0) && _unref(Decimal).neq(_unref(previous), 1))\n            ? (_openBlock(), _createElementBlock(\"button\", {\n                key: 0,\n                onClick: _cache[3] || (_cache[3] = ($event: any) => (hasNaN.value = false)),\n                class: \"button\"\n              }, \" Set to previous \"))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"button\", {\n            onClick: ignore,\n            class: \"button danger\"\n          }, \"Ignore\")\n        ])\n      ]),\n      _: 1\n    }, 16, [\"modelValue\"]),\n    _createVNode(SavesManager, {\n      ref_key: \"savesManager\",\n      ref: savesManager\n    }, null, 512)\n  ], 64))\n}\n}\n\n})","import script from \"./NaNScreen.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./NaNScreen.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./NaNScreen.vue?vue&type=style&index=0&id=5935214c&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5935214c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-c0663118\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"tpsDisplay\"\n}\nconst _hoisted_2 = {\n  key: 0,\n  class: \"low\"\n}\n\nimport state from \"game/state\";\nimport Decimal, { DecimalSource, formatWhole } from \"util/bignum\";\nimport { computed, ref, watchEffect } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst tps = computed(() =>\n    Decimal.div(\n        state.lastTenTicks.length,\n        state.lastTenTicks.reduce((acc, curr) => acc + curr, 0)\n    )\n);\n\nconst lastTenFPS = ref<number[]>([]);\nwatchEffect(() => {\n    lastTenFPS.value.push(Math.round(tps.value.toNumber()));\n    if (lastTenFPS.value.length > 10) {\n        lastTenFPS.value = lastTenFPS.value.slice(1);\n    }\n});\n\nconst low = computed(() =>\n    lastTenFPS.value.reduce<DecimalSource>((acc, curr) => Decimal.max(acc, curr), 0)\n);\n\nconst showLow = computed(() => Decimal.sub(tps.value, low.value).gt(1));\n\nreturn (_ctx: any,_cache: any) => {\n  return (!_unref(tps).isNan())\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createTextVNode(\" TPS: \" + _toDisplayString(_unref(formatWhole)(_unref(tps))) + \" \", 1),\n        _createVNode(_Transition, { name: \"fade\" }, {\n          default: _withCtx(() => [\n            (_unref(showLow))\n              ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, _toDisplayString(_unref(formatWhole)(_unref(low))), 1))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        })\n      ]))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./TPS.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TPS.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TPS.vue?vue&type=style&index=0&id=c0663118&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c0663118\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, resolveDynamicComponent as _resolveDynamicComponent, normalizeClass as _normalizeClass, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { jsx } from \"features/feature\";\nimport { coerceComponent, render } from \"util/vue\";\nimport { computed, toRef, unref } from \"vue\";\nimport Game from \"./components/Game.vue\";\nimport GameOverScreen from \"./components/GameOverScreen.vue\";\nimport NaNScreen from \"./components/NaNScreen.vue\";\nimport Nav from \"./components/Nav.vue\";\nimport TPS from \"./components/TPS.vue\";\nimport projInfo from \"./data/projInfo.json\";\nimport themes from \"./data/themes\";\nimport settings, { gameComponents } from \"./game/settings\";\nimport \"./main.css\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst useHeader = projInfo.useHeader;\nconst theme = computed(() => themes[settings.theme].variables);\nconst showTPS = toRef(settings, \"showTPS\");\n\nconst gameComponent = computed(() => {\n    return coerceComponent(jsx(() => <>{gameComponents.map(render)}</>));\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", {\n      id: \"modal-root\",\n      style: _normalizeStyle(_unref(theme))\n    }, null, 4),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"app\", { useHeader: _unref(useHeader) }]),\n      style: _normalizeStyle(_unref(theme))\n    }, [\n      (_unref(useHeader))\n        ? (_openBlock(), _createBlock(Nav, { key: 0 }))\n        : _createCommentVNode(\"\", true),\n      _createVNode(Game),\n      (unref(_unref(showTPS)))\n        ? (_openBlock(), _createBlock(TPS, { key: 1 }))\n        : _createCommentVNode(\"\", true),\n      _createVNode(GameOverScreen),\n      _createVNode(NaNScreen),\n      (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(gameComponent))))\n    ], 6)\n  ], 64))\n}\n}\n\n})","import script from \"./App.vue?vue&type=script&setup=true&lang=tsx\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=tsx\"\n\nimport \"./App.vue?vue&type=style&index=0&id=f13f28b6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f13f28b6\"]])\n\nexport default __exports__","import { App as VueApp, createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport projInfo from \"./data/projInfo.json\";\nimport { GenericLayer } from \"./game/layers\";\nimport { PlayerData } from \"./game/player\";\nimport { Settings } from \"./game/settings\";\nimport { Transient } from \"./game/state\";\nimport Decimal, { DecimalSource } from \"./util/bignum\";\nimport { load } from \"./util/save\";\n\ndocument.title = projInfo.title;\nif (projInfo.id === \"\") {\n    throw \"Project ID is empty! Please select a unique ID for this project in /src/data/projInfo.json\";\n}\n\ndeclare global {\n    interface Window {\n        vue: VueApp;\n        save: VoidFunction;\n        hardReset: VoidFunction;\n        hardResetSettings: VoidFunction;\n        layers: Record<string, Readonly<GenericLayer> | undefined>;\n        player: PlayerData;\n        state: Transient;\n        settings: Settings;\n        Decimal: typeof Decimal;\n        exponentialFormat: (num: DecimalSource, precision: number, mantissa: boolean) => string;\n        commaFormat: (num: DecimalSource, precision: number) => string;\n        regularFormat: (num: DecimalSource, precision: number) => string;\n        format: (num: DecimalSource, precision?: number, small?: boolean) => string;\n        formatWhole: (num: DecimalSource) => string;\n        formatTime: (s: number) => string;\n        toPlaces: (x: DecimalSource, precision: number, maxAccepted: DecimalSource) => string;\n        formatSmall: (x: DecimalSource, precision?: number) => string;\n        invertOOM: (x: DecimalSource) => Decimal;\n        projInfo: typeof projInfo;\n    }\n}\n\nrequestAnimationFrame(async () => {\n    console.log(\n        \"%cMade in Profectus%c\\nLearn more at www.moddingtree.com\",\n        \"font-weight: bold; font-size: 24px; color: #A3BE8C; background: #2E3440; padding: 4px 8px; border-radius: 8px;\",\n        \"padding: 4px;\"\n    );\n    await load();\n    const { globalBus, startGameLoop } = await require(\"./game/events\");\n\n    // Create Vue\n    const vue = (window.vue = createApp(App));\n    globalBus.emit(\"setupVue\", vue);\n    vue.mount(\"#app\");\n\n    startGameLoop();\n});\n\nwindow.projInfo = projInfo;\n","// Import Decimal and numberUtils from a different file to globally change which big num library gets used\n// This way switching out big number libraries just needs to happen here, not every file that needs big numbers\nimport { DecimalSource as RawDecimalSource } from \"lib/break_eternity\";\nimport Decimal, * as numberUtils from \"util/break_eternity\";\n\nexport const {\n    exponentialFormat,\n    commaFormat,\n    regularFormat,\n    format,\n    formatWhole,\n    formatTime,\n    toPlaces,\n    formatSmall,\n    invertOOM\n} = numberUtils;\n\nexport type DecimalSource = RawDecimalSource;\n\nwindow.Decimal = Decimal;\nwindow.exponentialFormat = exponentialFormat;\nwindow.commaFormat = commaFormat;\nwindow.regularFormat = regularFormat;\nwindow.format = format;\nwindow.formatWhole = formatWhole;\nwindow.formatTime = formatTime;\nwindow.toPlaces = toPlaces;\nwindow.formatSmall = formatSmall;\nwindow.invertOOM = invertOOM;\n\nexport default Decimal;\n","/* eslint-disable @typescript-eslint/no-this-alias */\nexport type CompareResult = -1 | 0 | 1;\n\nconst MAX_SIGNIFICANT_DIGITS = 17; //Maximum number of digits of precision to assume in Number\n\nconst EXP_LIMIT = 9e15; //If we're ABOVE this value, increase a layer. (9e15 is close to the largest integer that can fit in a Number.)\n\nconst LAYER_DOWN: number = Math.log10(9e15);\n\nconst FIRST_NEG_LAYER = 1 / 9e15; //At layer 0, smaller non-zero numbers than this become layer 1 numbers with negative mag. After that the pattern continues as normal.\n\nconst NUMBER_EXP_MAX = 308; //The largest exponent that can appear in a Number, though not all mantissas are valid here.\n\nconst NUMBER_EXP_MIN = -324; //The smallest exponent that can appear in a Number, though not all mantissas are valid here.\n\nconst MAX_ES_IN_A_ROW = 5; //For default toString behaviour, when to swap from eee... to (e^n) syntax.\n\nconst IGNORE_COMMAS = true;\nconst COMMAS_ARE_DECIMAL_POINTS = false;\n\nconst powerOf10 = (function() {\n    // We need this lookup table because Math.pow(10, exponent)\n    // when exponent's absolute value is large is slightly inaccurate.\n    // You can fix it with the power of math... or just make a lookup table.\n    // Faster AND simpler\n    const powersOf10: number[] = [];\n\n    for (let i = NUMBER_EXP_MIN + 1; i <= NUMBER_EXP_MAX; i++) {\n        powersOf10.push(Number(\"1e\" + i));\n    }\n\n    const indexOf0InPowersOf10 = 323;\n    return function(power: number) {\n        return powersOf10[power + indexOf0InPowersOf10];\n    };\n})();\n\n//tetration/slog to real height stuff\n//background info and tables of values for critical functions taken here: https://github.com/Patashu/break_eternity.js/issues/22\nconst critical_headers = [2, Math.E, 3, 4, 5, 6, 7, 8, 9, 10];\nconst critical_tetr_values = [\n    [\n        // Base 2\n        1,\n        1.0891168053867777,\n        1.1789745164521264,\n        1.2701428397304229,\n        1.3632066654400328,\n        1.4587804913784246,\n        1.557523817412741,\n        1.660158301473385,\n        1.767487542936873,\n        1.8804205225512542,\n        2\n    ],\n    [\n        // Base E\n        1, //0.0\n        1.1121114330934, //0.1\n        1.23103892493161, //0.2\n        1.35838369631113, //0.3\n        1.49605193039935, //0.4\n        1.64635423375119, //0.5\n        1.81213853570186, //0.6\n        1.99697132461829, //0.7\n        2.20538955455724, //0.8\n        2.44325744833852, //0.9\n        Math.E //1.0\n    ],\n    [\n        // Base 3\n        1,\n        1.1187738849693603,\n        1.2464963939368214,\n        1.38527004705667,\n        1.5376664685821402,\n        1.7068895236551784,\n        1.897001227148399,\n        2.1132403089001035,\n        2.362480153784171,\n        2.6539010333870774,\n        3\n    ],\n    [\n        // Base 4\n        1,\n        1.1367350847096405,\n        1.2889510672956703,\n        1.4606478703324786,\n        1.6570295196661111,\n        1.8850062585672889,\n        2.1539465047453485,\n        2.476829779693097,\n        2.872061932789197,\n        3.3664204535587183,\n        4\n    ],\n    [\n        // Base 5\n        1,\n        1.1494592900767588,\n        1.319708228183931,\n        1.5166291280087583,\n        1.748171114438024,\n        2.0253263297298045,\n        2.3636668498288547,\n        2.7858359149579424,\n        3.3257226212448145,\n        4.035730287722532,\n        5\n    ],\n    [\n        // Base 6\n        1,\n        1.159225940787673,\n        1.343712473580932,\n        1.5611293155111927,\n        1.8221199554561318,\n        2.14183924486326,\n        2.542468319282638,\n        3.0574682501653316,\n        3.7390572020926873,\n        4.6719550537360774,\n        6\n    ],\n    [\n        // Base 7\n        1,\n        1.1670905356972596,\n        1.3632807444991446,\n        1.5979222279405536,\n        1.8842640123816674,\n        2.2416069644878687,\n        2.69893426559423,\n        3.3012632110403577,\n        4.121250340630164,\n        5.281493033448316,\n        7\n    ],\n    [\n        // Base 8\n        1,\n        1.1736630594087796,\n        1.379783782386201,\n        1.6292821855668218,\n        1.9378971836180754,\n        2.3289975651071977,\n        2.8384347394720835,\n        3.5232708454565906,\n        4.478242031114584,\n        5.868592169644505,\n        8\n    ],\n    [\n        // Base 9\n        1,\n        1.1793017514670474,\n        1.394054150657457,\n        1.65664127441059,\n        1.985170999970283,\n        2.4069682290577457,\n        2.9647310119960752,\n        3.7278665320924946,\n        4.814462547283592,\n        6.436522247411611,\n        9\n    ],\n    [\n        // Base 10\n        1,\n        1.18422737399915,\n        1.4066113788546144,\n        1.680911177655277,\n        2.027492094355525,\n        2.4775152854601967,\n        3.080455730250329,\n        3.918234505962507,\n        5.1332705696484595,\n        6.9878696918072905,\n        10\n    ]\n];\nconst critical_slog_values = [\n    [\n        // Base 2\n        -1,\n        -0.9194161097107025,\n        -0.8335625019330468,\n        -0.7425599821143978,\n        -0.6466611521029437,\n        -0.5462617907227869,\n        -0.4419033816638769,\n        -0.3342645487554494,\n        -0.224140440909962,\n        -0.11241087890006762,\n        0\n    ],\n    [\n        // Base E\n        -1, //0.0\n        -0.90603157029014, //0.1\n        -0.80786507256596, //0.2\n        -0.7064666939634, //0.3\n        -0.60294836853664, //0.4\n        -0.49849837513117, //0.5\n        -0.39430303318768, //0.6\n        -0.29147201034755, //0.7\n        -0.19097820800866, //0.8\n        -0.09361896280296, //0.9\n        0 //1.0\n    ],\n    [\n        // Base 3\n        -1,\n        -0.9021579584316141,\n        -0.8005762598234203,\n        -0.6964780623319391,\n        -0.5911906810998454,\n        -0.486050182576545,\n        -0.3823089430815083,\n        -0.28106046722897615,\n        -0.1831906535795894,\n        -0.08935809204418144,\n        0\n    ],\n    [\n        // Base 4\n        -1,\n        -0.8917227442365535,\n        -0.781258746326964,\n        -0.6705130326902455,\n        -0.5612813129406509,\n        -0.4551067709033134,\n        -0.35319256652135966,\n        -0.2563741554088552,\n        -0.1651412821106526,\n        -0.0796919581982668,\n        0\n    ],\n    [\n        // Base 5\n        -1,\n        -0.8843387974366064,\n        -0.7678744063886243,\n        -0.6529563724510552,\n        -0.5415870994657841,\n        -0.4352842206588936,\n        -0.33504449124791424,\n        -0.24138853420685147,\n        -0.15445285440944467,\n        -0.07409659641336663,\n        0\n    ],\n    [\n        // Base 6\n        -1,\n        -0.8786709358426346,\n        -0.7577735191184886,\n        -0.6399546189952064,\n        -0.527284921869926,\n        -0.4211627631006314,\n        -0.3223479611761232,\n        -0.23107655627789858,\n        -0.1472057700818259,\n        -0.07035171210706326,\n        0\n    ],\n    [\n        // Base 7\n        -1,\n        -0.8740862815291583,\n        -0.7497032990976209,\n        -0.6297119746181752,\n        -0.5161838335958787,\n        -0.41036238255751956,\n        -0.31277212146489963,\n        -0.2233976621705518,\n        -0.1418697367979619,\n        -0.06762117662323441,\n        0\n    ],\n    [\n        // Base 8\n        -1,\n        -0.8702632331800649,\n        -0.7430366914122081,\n        -0.6213373075161548,\n        -0.5072025698095242,\n        -0.40171437727184167,\n        -0.30517930701410456,\n        -0.21736343968190863,\n        -0.137710238299109,\n        -0.06550774483471955,\n        0\n    ],\n    [\n        // Base 9\n        -1,\n        -0.8670016295947213,\n        -0.7373984232432306,\n        -0.6143173985094293,\n        -0.49973884395492807,\n        -0.394584953527678,\n        -0.2989649949848695,\n        -0.21245647317021688,\n        -0.13434688362382652,\n        -0.0638072667348083,\n        0\n    ],\n    [\n        // Base 10\n        -1,\n        -0.8641642839543857,\n        -0.732534623168535,\n        -0.6083127477059322,\n        -0.4934049257184696,\n        -0.3885773075899922,\n        -0.29376029055315767,\n        -0.2083678561173622,\n        -0.13155653399373268,\n        -0.062401588652553186,\n        0\n    ]\n];\n\nconst D = function D(value: DecimalSource): Decimal {\n    return Decimal.fromValue_noAlloc(value);\n};\n\nconst FC = function(sign: number, layer: number, mag: number) {\n    return Decimal.fromComponents(sign, layer, mag);\n};\n\nconst FC_NN = function FC_NN(sign: number, layer: number, mag: number) {\n    return Decimal.fromComponents_noNormalize(sign, layer, mag);\n};\n\nconst ME = function ME(mantissa: number, exponent: number) {\n    return Decimal.fromMantissaExponent(mantissa, exponent);\n};\n\nconst ME_NN = function ME_NN(mantissa: number, exponent: number) {\n    return Decimal.fromMantissaExponent_noNormalize(mantissa, exponent);\n};\n\nconst decimalPlaces = function decimalPlaces(value: number, places: number): number {\n    const len = places + 1;\n    const numDigits = Math.ceil(Math.log10(Math.abs(value)));\n    const rounded =\n        Math.round(value * Math.pow(10, len - numDigits)) * Math.pow(10, numDigits - len);\n    return parseFloat(rounded.toFixed(Math.max(len - numDigits, 0)));\n};\n\nconst f_maglog10 = function(n: number) {\n    return Math.sign(n) * Math.log10(Math.abs(n));\n};\n\n//from HyperCalc source code\nconst f_gamma = function(n: number) {\n    if (!isFinite(n)) {\n        return n;\n    }\n    if (n < -50) {\n        if (n === Math.trunc(n)) {\n            return Number.NEGATIVE_INFINITY;\n        }\n        return 0;\n    }\n\n    let scal1 = 1;\n    while (n < 10) {\n        scal1 = scal1 * n;\n        ++n;\n    }\n\n    n -= 1;\n    let l = 0.9189385332046727; //0.5*Math.log(2*Math.PI)\n    l = l + (n + 0.5) * Math.log(n);\n    l = l - n;\n    const n2 = n * n;\n    let np = n;\n    l = l + 1 / (12 * np);\n    np = np * n2;\n    l = l + 1 / (360 * np);\n    np = np * n2;\n    l = l + 1 / (1260 * np);\n    np = np * n2;\n    l = l + 1 / (1680 * np);\n    np = np * n2;\n    l = l + 1 / (1188 * np);\n    np = np * n2;\n    l = l + 691 / (360360 * np);\n    np = np * n2;\n    l = l + 7 / (1092 * np);\n    np = np * n2;\n    l = l + 3617 / (122400 * np);\n\n    return Math.exp(l) / scal1;\n};\n\nconst _twopi = 6.2831853071795864769252842; // 2*pi\nconst _EXPN1 = 0.36787944117144232159553; // exp(-1)\nconst OMEGA = 0.56714329040978387299997; // W(1, 0)\n//from https://math.stackexchange.com/a/465183\n// The evaluation can become inaccurate very close to the branch point\nconst f_lambertw = function(z: number, tol = 1e-10): number {\n    let w;\n    let wn;\n\n    if (!Number.isFinite(z)) {\n        return z;\n    }\n    if (z === 0) {\n        return z;\n    }\n    if (z === 1) {\n        return OMEGA;\n    }\n\n    if (z < 10) {\n        w = 0;\n    } else {\n        w = Math.log(z) - Math.log(Math.log(z));\n    }\n\n    for (let i = 0; i < 100; ++i) {\n        wn = (z * Math.exp(-w) + w * w) / (w + 1);\n        if (Math.abs(wn - w) < tol * Math.abs(wn)) {\n            return wn;\n        } else {\n            w = wn;\n        }\n    }\n\n    throw Error(`Iteration failed to converge: ${z.toString()}`);\n    //return Number.NaN;\n};\n\n//from https://github.com/scipy/scipy/blob/8dba340293fe20e62e173bdf2c10ae208286692f/scipy/special/lambertw.pxd\n// The evaluation can become inaccurate very close to the branch point\n// at ``-1/e``. In some corner cases, `lambertw` might currently\n// fail to converge, or can end up on the wrong branch.\nfunction d_lambertw(z: Decimal, tol = 1e-10): Decimal {\n    let w;\n    let ew, wew, wewz, wn;\n\n    if (!Number.isFinite(z.mag)) {\n        return z;\n    }\n    if (z === Decimal.dZero) {\n        return z;\n    }\n    if (z === Decimal.dOne) {\n        //Split out this case because the asymptotic series blows up\n        return D(OMEGA);\n    }\n\n    const absz = Decimal.abs(z);\n    //Get an initial guess for Halley's method\n    w = Decimal.ln(z);\n\n    //Halley's method; see 5.9 in [1]\n\n    for (let i = 0; i < 100; ++i) {\n        ew = Decimal.exp(-w);\n        wewz = w.sub(z.mul(ew));\n        wn = w.sub(\n            wewz.div(\n                w.add(1).sub(\n                    w\n                        .add(2)\n                        .mul(wewz)\n                        .div(Decimal.mul(2, w).add(2))\n                )\n            )\n        );\n        if (Decimal.abs(wn.sub(w)).lt(Decimal.abs(wn).mul(tol))) {\n            return wn;\n        } else {\n            w = wn;\n        }\n    }\n\n    throw Error(`Iteration failed to converge: ${z.toString()}`);\n    //return Decimal.dNaN;\n}\n\nexport type DecimalSource = Decimal | number | string;\n\n/**\n * The Decimal's value is simply mantissa * 10^exponent.\n */\nexport default class Decimal {\n    public static readonly dZero = FC_NN(0, 0, 0);\n    public static readonly dOne = FC_NN(1, 0, 1);\n    public static readonly dNegOne = FC_NN(-1, 0, 1);\n    public static readonly dTwo = FC_NN(1, 0, 2);\n    public static readonly dTen = FC_NN(1, 0, 10);\n    public static readonly dNaN = FC_NN(Number.NaN, Number.NaN, Number.NaN);\n    public static readonly dInf = FC_NN(1, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY);\n    public static readonly dNegInf = FC_NN(-1, Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY);\n    public static readonly dNumberMax = FC(1, 0, Number.MAX_VALUE);\n    public static readonly dNumberMin = FC(1, 0, Number.MIN_VALUE);\n\n    public sign: number = Number.NaN;\n    public mag: number = Number.NaN;\n    public layer: number = Number.NaN;\n\n    constructor(value?: DecimalSource) {\n        if (value instanceof Decimal || (value != null && typeof value === \"object\" && \"sign\" in value && \"mag\" in value && \"layer\" in value)) {\n            this.fromDecimal(value);\n        } else if (typeof value === \"number\") {\n            this.fromNumber(value);\n        } else if (typeof value === \"string\") {\n            this.fromString(value);\n        } else {\n            this.sign = 0;\n            this.layer = 0;\n            this.mag = 0;\n        }\n    }\n\n    get m(): number {\n        if (this.sign === 0) {\n            return 0;\n        } else if (this.layer === 0) {\n            const exp = Math.floor(Math.log10(this.mag));\n            //handle special case 5e-324\n            let man;\n            if (this.mag === 5e-324) {\n                man = 5;\n            } else {\n                man = this.mag / powerOf10(exp);\n            }\n            return this.sign * man;\n        } else if (this.layer === 1) {\n            const residue = this.mag - Math.floor(this.mag);\n            return this.sign * Math.pow(10, residue);\n        } else {\n            //mantissa stops being relevant past 1e9e15 / ee15.954\n            return this.sign;\n        }\n    }\n\n    set m(value: number) {\n        if (this.layer <= 2) {\n            this.fromMantissaExponent(value, this.e);\n        } else {\n            //don't even pretend mantissa is meaningful\n            this.sign = Math.sign(value);\n            if (this.sign === 0) {\n                this.layer === 0;\n                this.exponent === 0;\n            }\n        }\n    }\n\n    get e(): number {\n        if (this.sign === 0) {\n            return 0;\n        } else if (this.layer === 0) {\n            return Math.floor(Math.log10(this.mag));\n        } else if (this.layer === 1) {\n            return Math.floor(this.mag);\n        } else if (this.layer === 2) {\n            return Math.floor(Math.sign(this.mag) * Math.pow(10, Math.abs(this.mag)));\n        } else {\n            return this.mag * Number.POSITIVE_INFINITY;\n        }\n    }\n    set e(value: number) {\n        this.fromMantissaExponent(this.m, value);\n    }\n\n    get s(): number {\n        return this.sign;\n    }\n    set s(value: number) {\n        if (value === 0) {\n            this.sign = 0;\n            this.layer = 0;\n            this.mag = 0;\n        } else {\n            this.sign = value;\n        }\n    }\n\n    // Object.defineProperty(Decimal.prototype, \"mantissa\", {\n    get mantissa(): number {\n        return this.m;\n    }\n\n    set mantissa(value: number) {\n        this.m = value;\n    }\n\n    get exponent(): number {\n        return this.e;\n    }\n    set exponent(value: number) {\n        this.e = value;\n    }\n\n    public static fromComponents(sign: number, layer: number, mag: number): Decimal {\n        return new Decimal().fromComponents(sign, layer, mag);\n    }\n\n    public static fromComponents_noNormalize(sign: number, layer: number, mag: number): Decimal {\n        return new Decimal().fromComponents_noNormalize(sign, layer, mag);\n    }\n\n    public static fromMantissaExponent(mantissa: number, exponent: number): Decimal {\n        return new Decimal().fromMantissaExponent(mantissa, exponent);\n    }\n\n    public static fromMantissaExponent_noNormalize(mantissa: number, exponent: number): Decimal {\n        return new Decimal().fromMantissaExponent_noNormalize(mantissa, exponent);\n    }\n\n    public static fromDecimal(value: Decimal): Decimal {\n        return new Decimal().fromDecimal(value);\n    }\n\n    public static fromNumber(value: number): Decimal {\n        return new Decimal().fromNumber(value);\n    }\n\n    public static fromString(value: string): Decimal {\n        return new Decimal().fromString(value);\n    }\n\n    public static fromValue(value: DecimalSource): Decimal {\n        return new Decimal().fromValue(value);\n    }\n\n    public static fromValue_noAlloc(value: DecimalSource): Decimal {\n        return value instanceof Decimal ? value : new Decimal(value);\n    }\n\n    public static abs(value: DecimalSource): Decimal {\n        return D(value).abs();\n    }\n\n    public static neg(value: DecimalSource): Decimal {\n        return D(value).neg();\n    }\n\n    public static negate(value: DecimalSource): Decimal {\n        return D(value).neg();\n    }\n\n    public static negated(value: DecimalSource): Decimal {\n        return D(value).neg();\n    }\n\n    public static sign(value: DecimalSource): number {\n        return D(value).sign;\n    }\n\n    public static sgn(value: DecimalSource): number {\n        return D(value).sign;\n    }\n\n    public static round(value: DecimalSource): Decimal {\n        return D(value).round();\n    }\n\n    public static floor(value: DecimalSource): Decimal {\n        return D(value).floor();\n    }\n\n    public static ceil(value: DecimalSource): Decimal {\n        return D(value).ceil();\n    }\n\n    public static trunc(value: DecimalSource): Decimal {\n        return D(value).trunc();\n    }\n\n    public static add(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).add(other);\n    }\n\n    public static plus(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).add(other);\n    }\n\n    public static sub(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).sub(other);\n    }\n\n    public static subtract(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).sub(other);\n    }\n\n    public static minus(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).sub(other);\n    }\n\n    public static mul(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).mul(other);\n    }\n\n    public static multiply(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).mul(other);\n    }\n\n    public static times(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).mul(other);\n    }\n\n    public static div(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).div(other);\n    }\n\n    public static divide(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).div(other);\n    }\n\n    public static recip(value: DecimalSource): Decimal {\n        return D(value).recip();\n    }\n\n    public static reciprocal(value: DecimalSource): Decimal {\n        return D(value).recip();\n    }\n\n    public static reciprocate(value: DecimalSource): Decimal {\n        return D(value).reciprocate();\n    }\n\n    public static cmp(value: DecimalSource, other: DecimalSource): CompareResult {\n        return D(value).cmp(other);\n    }\n\n    public static cmpabs(value: DecimalSource, other: DecimalSource): CompareResult {\n        return D(value).cmpabs(other);\n    }\n\n    public static compare(value: DecimalSource, other: DecimalSource): CompareResult {\n        return D(value).cmp(other);\n    }\n\n    public static isNaN(value: DecimalSource): boolean {\n        value = D(value);\n        return isNaN(value.sign) || isNaN(value.layer) || isNaN(value.mag);\n    }\n\n    public static isFinite(value: DecimalSource): boolean {\n        value = D(value);\n        return isFinite(value.sign) && isFinite(value.layer) && isFinite(value.mag);\n    }\n\n    public static eq(value: DecimalSource, other: DecimalSource): boolean {\n        return D(value).eq(other);\n    }\n\n    public static equals(value: DecimalSource, other: DecimalSource): boolean {\n        return D(value).eq(other);\n    }\n\n    public static neq(value: DecimalSource, other: DecimalSource): boolean {\n        return D(value).neq(other);\n    }\n\n    public static notEquals(value: DecimalSource, other: DecimalSource): boolean {\n        return D(value).notEquals(other);\n    }\n\n    public static lt(value: DecimalSource, other: DecimalSource): boolean {\n        return D(value).lt(other);\n    }\n\n    public static lte(value: DecimalSource, other: DecimalSource): boolean {\n        return D(value).lte(other);\n    }\n\n    public static gt(value: DecimalSource, other: DecimalSource): boolean {\n        return D(value).gt(other);\n    }\n\n    public static gte(value: DecimalSource, other: DecimalSource): boolean {\n        return D(value).gte(other);\n    }\n\n    public static max(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).max(other);\n    }\n\n    public static min(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).min(other);\n    }\n\n    public static minabs(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).minabs(other);\n    }\n\n    public static maxabs(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).maxabs(other);\n    }\n\n    public static clamp(value: DecimalSource, min: DecimalSource, max: DecimalSource): Decimal {\n        return D(value).clamp(min, max);\n    }\n\n    public static clampMin(value: DecimalSource, min: DecimalSource): Decimal {\n        return D(value).clampMin(min);\n    }\n\n    public static clampMax(value: DecimalSource, max: DecimalSource): Decimal {\n        return D(value).clampMax(max);\n    }\n\n    public static cmp_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): CompareResult {\n        return D(value).cmp_tolerance(other, tolerance);\n    }\n\n    public static compare_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): CompareResult {\n        return D(value).cmp_tolerance(other, tolerance);\n    }\n\n    public static eq_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): boolean {\n        return D(value).eq_tolerance(other, tolerance);\n    }\n\n    public static equals_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): boolean {\n        return D(value).eq_tolerance(other, tolerance);\n    }\n\n    public static neq_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): boolean {\n        return D(value).neq_tolerance(other, tolerance);\n    }\n\n    public static notEquals_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): boolean {\n        return D(value).notEquals_tolerance(other, tolerance);\n    }\n\n    public static lt_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): boolean {\n        return D(value).lt_tolerance(other, tolerance);\n    }\n\n    public static lte_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): boolean {\n        return D(value).lte_tolerance(other, tolerance);\n    }\n\n    public static gt_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): boolean {\n        return D(value).gt_tolerance(other, tolerance);\n    }\n\n    public static gte_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): boolean {\n        return D(value).gte_tolerance(other, tolerance);\n    }\n\n    public static pLog10(value: DecimalSource): Decimal {\n        return D(value).pLog10();\n    }\n\n    public static absLog10(value: DecimalSource): Decimal {\n        return D(value).absLog10();\n    }\n\n    public static log10(value: DecimalSource): Decimal {\n        return D(value).log10();\n    }\n\n    public static log(value: DecimalSource, base: DecimalSource): Decimal {\n        return D(value).log(base);\n    }\n\n    public static log2(value: DecimalSource): Decimal {\n        return D(value).log2();\n    }\n\n    public static ln(value: DecimalSource): Decimal {\n        return D(value).ln();\n    }\n\n    public static logarithm(value: DecimalSource, base: DecimalSource): Decimal {\n        return D(value).logarithm(base);\n    }\n\n    public static pow(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).pow(other);\n    }\n\n    public static pow10(value: DecimalSource): Decimal {\n        return D(value).pow10();\n    }\n\n    public static root(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).root(other);\n    }\n\n    public static factorial(value: DecimalSource, _other?: never): Decimal {\n        return D(value).factorial();\n    }\n\n    public static gamma(value: DecimalSource, _other?: never): Decimal {\n        return D(value).gamma();\n    }\n\n    public static lngamma(value: DecimalSource, _other?: never): Decimal {\n        return D(value).lngamma();\n    }\n\n    public static exp(value: DecimalSource): Decimal {\n        return D(value).exp();\n    }\n\n    public static sqr(value: DecimalSource): Decimal {\n        return D(value).sqr();\n    }\n\n    public static sqrt(value: DecimalSource): Decimal {\n        return D(value).sqrt();\n    }\n\n    public static cube(value: DecimalSource): Decimal {\n        return D(value).cube();\n    }\n\n    public static cbrt(value: DecimalSource): Decimal {\n        return D(value).cbrt();\n    }\n\n    public static tetrate(\n        value: DecimalSource,\n        height = 2,\n        payload: DecimalSource = FC_NN(1, 0, 1)\n    ): Decimal {\n        return D(value).tetrate(height, payload);\n    }\n\n    public static iteratedexp(value: DecimalSource, height = 2, payload = FC_NN(1, 0, 1)): Decimal {\n        return D(value).iteratedexp(height, payload);\n    }\n\n    public static iteratedlog(value: DecimalSource, base: DecimalSource = 10, times = 1): Decimal {\n        return D(value).iteratedlog(base, times);\n    }\n\n    public static layeradd10(value: DecimalSource, diff: DecimalSource): Decimal {\n        return D(value).layeradd10(diff);\n    }\n\n    public static layeradd(value: DecimalSource, diff: number, base = 10): Decimal {\n        return D(value).layeradd(diff, base);\n    }\n\n    public static slog(value: DecimalSource, base = 10): Decimal {\n        return D(value).slog(base);\n    }\n\n    public static lambertw(value: DecimalSource): Decimal {\n        return D(value).lambertw();\n    }\n\n    public static ssqrt(value: DecimalSource): Decimal {\n        return D(value).ssqrt();\n    }\n\n    public static pentate(\n        value: DecimalSource,\n        height = 2,\n        payload: DecimalSource = FC_NN(1, 0, 1)\n    ): Decimal {\n        return D(value).pentate(height, payload);\n    }\n\n    /**\n     * If you're willing to spend 'resourcesAvailable' and want to buy something\n     * with exponentially increasing cost each purchase (start at priceStart,\n     * multiply by priceRatio, already own currentOwned), how much of it can you buy?\n     * Adapted from Trimps source code.\n     */\n\n    public static affordGeometricSeries(\n        resourcesAvailable: DecimalSource,\n        priceStart: DecimalSource,\n        priceRatio: DecimalSource,\n        currentOwned: DecimalSource\n    ): Decimal {\n        return this.affordGeometricSeries_core(\n            D(resourcesAvailable),\n            D(priceStart),\n            D(priceRatio),\n            currentOwned\n        );\n    }\n    /**\n     * How much resource would it cost to buy (numItems) items if you already have currentOwned,\n     * the initial price is priceStart and it multiplies by priceRatio each purchase?\n     */\n\n    public static sumGeometricSeries(\n        numItems: DecimalSource,\n        priceStart: DecimalSource,\n        priceRatio: DecimalSource,\n        currentOwned: DecimalSource\n    ): Decimal {\n        return this.sumGeometricSeries_core(numItems, D(priceStart), D(priceRatio), currentOwned);\n    }\n    /**\n     * If you're willing to spend 'resourcesAvailable' and want to buy something with additively\n     * increasing cost each purchase (start at priceStart, add by priceAdd, already own currentOwned),\n     * how much of it can you buy?\n     */\n\n    public static affordArithmeticSeries(\n        resourcesAvailable: DecimalSource,\n        priceStart: DecimalSource,\n        priceAdd: DecimalSource,\n        currentOwned: DecimalSource\n    ): Decimal {\n        return this.affordArithmeticSeries_core(\n            D(resourcesAvailable),\n            D(priceStart),\n            D(priceAdd),\n            D(currentOwned)\n        );\n    }\n    /**\n     * How much resource would it cost to buy (numItems) items if you already have currentOwned,\n     * the initial price is priceStart and it adds priceAdd each purchase?\n     * Adapted from http://www.mathwords.com/a/arithmetic_series.htm\n     */\n\n    public static sumArithmeticSeries(\n        numItems: DecimalSource,\n        priceStart: DecimalSource,\n        priceAdd: DecimalSource,\n        currentOwned: DecimalSource\n    ): Decimal {\n        return this.sumArithmeticSeries_core(\n            D(numItems),\n            D(priceStart),\n            D(priceAdd),\n            D(currentOwned)\n        );\n    }\n    /**\n     * When comparing two purchases that cost (resource) and increase your resource/sec by (deltaRpS),\n     * the lowest efficiency score is the better one to purchase.\n     * From Frozen Cookies:\n     * http://cookieclicker.wikia.com/wiki/Frozen_Cookies_(JavaScript_Add-on)#Efficiency.3F_What.27s_that.3F\n     */\n\n    public static efficiencyOfPurchase(\n        cost: DecimalSource,\n        currentRpS: DecimalSource,\n        deltaRpS: DecimalSource\n    ): Decimal {\n        return this.efficiencyOfPurchase_core(D(cost), D(currentRpS), D(deltaRpS));\n    }\n\n    public static randomDecimalForTesting(maxLayers: number): Decimal {\n        // NOTE: This doesn't follow any kind of sane random distribution, so use this for testing purposes only.\n        //5% of the time, return 0\n        if (Math.random() * 20 < 1) {\n            return FC_NN(0, 0, 0);\n        }\n\n        const randomsign = Math.random() > 0.5 ? 1 : -1;\n\n        //5% of the time, return 1 or -1\n        if (Math.random() * 20 < 1) {\n            return FC_NN(randomsign, 0, 1);\n        }\n\n        //pick a random layer\n        const layer = Math.floor(Math.random() * (maxLayers + 1));\n\n        let randomexp = layer === 0 ? Math.random() * 616 - 308 : Math.random() * 16;\n        //10% of the time, make it a simple power of 10\n        if (Math.random() > 0.9) {\n            randomexp = Math.trunc(randomexp);\n        }\n        let randommag = Math.pow(10, randomexp);\n        //10% of the time, trunc mag\n        if (Math.random() > 0.9) {\n            randommag = Math.trunc(randommag);\n        }\n        return FC(randomsign, layer, randommag);\n    }\n\n    public static affordGeometricSeries_core(\n        resourcesAvailable: Decimal,\n        priceStart: Decimal,\n        priceRatio: Decimal,\n        currentOwned: DecimalSource\n    ): Decimal {\n        const actualStart = priceStart.mul(priceRatio.pow(currentOwned));\n        return Decimal.floor(\n            resourcesAvailable\n                .div(actualStart)\n                .mul(priceRatio.sub(1))\n                .add(1)\n                .log10()\n                .div(priceRatio.log10())\n        );\n    }\n\n    public static sumGeometricSeries_core(\n        numItems: DecimalSource,\n        priceStart: Decimal,\n        priceRatio: Decimal,\n        currentOwned: DecimalSource\n    ): Decimal {\n        return priceStart\n            .mul(priceRatio.pow(currentOwned))\n            .mul(Decimal.sub(1, priceRatio.pow(numItems)))\n            .div(Decimal.sub(1, priceRatio));\n    }\n\n    public static affordArithmeticSeries_core(\n        resourcesAvailable: Decimal,\n        priceStart: Decimal,\n        priceAdd: Decimal,\n        currentOwned: Decimal\n    ): Decimal {\n        // n = (-(a-d/2) + sqrt((a-d/2)^2+2dS))/d\n        // where a is actualStart, d is priceAdd and S is resourcesAvailable\n        // then floor it and you're done!\n        const actualStart = priceStart.add(currentOwned.mul(priceAdd));\n        const b = actualStart.sub(priceAdd.div(2));\n        const b2 = b.pow(2);\n        return b\n            .neg()\n            .add(b2.add(priceAdd.mul(resourcesAvailable).mul(2)).sqrt())\n            .div(priceAdd)\n            .floor();\n    }\n\n    public static sumArithmeticSeries_core(\n        numItems: Decimal,\n        priceStart: Decimal,\n        priceAdd: Decimal,\n        currentOwned: Decimal\n    ): Decimal {\n        const actualStart = priceStart.add(currentOwned.mul(priceAdd)); // (n/2)*(2*a+(n-1)*d)\n\n        return numItems.div(2).mul(actualStart.mul(2).plus(numItems.sub(1).mul(priceAdd)));\n    }\n\n    public static efficiencyOfPurchase_core(\n        cost: Decimal,\n        currentRpS: Decimal,\n        deltaRpS: Decimal\n    ): Decimal {\n        return cost.div(currentRpS).add(cost.div(deltaRpS));\n    }\n\n    public [Symbol.for(\"+\")](other: DecimalSource): DecimalSource {\n        return this.add(other);\n    }\n\n    public [Symbol.for(\"-\")](other: DecimalSource): DecimalSource {\n        return this.sub(other);\n    }\n\n    public [Symbol.for(\"*\")](other: DecimalSource): DecimalSource {\n        return this.times(other);\n    }\n\n    public [Symbol.for(\"/\")](other: DecimalSource): DecimalSource {\n        return this.div(other);\n    }\n\n    public [Symbol.for(\"minus\")](): DecimalSource {\n        return this.neg();\n    }\n\n    public [Symbol.for(\"==\")](other: DecimalSource): boolean {\n        return this.eq(other);\n    }\n\n    public [Symbol.for(\">\")](other: DecimalSource): boolean {\n        return this.gt(other);\n    }\n\n    public [Symbol.for(\"<\")](other: DecimalSource): boolean {\n        return this.lt(other);\n    }\n\n    public [Symbol.for(\">=\")](other: DecimalSource): boolean {\n        return this.gte(other);\n    }\n\n    public [Symbol.for(\"<=\")](other: DecimalSource): boolean {\n        return this.lte(other);\n    }\n\n    public [Symbol.for(\"!=\")](other: DecimalSource): boolean {\n        return this.neq(other);\n    }\n\n    public normalize(): this {\n        /*\n    PSEUDOCODE:\n    Whenever we are partially 0 (sign is 0 or mag and layer is 0), make it fully 0.\n    Whenever we are at or hit layer 0, extract sign from negative mag.\n    If layer === 0 and mag < FIRST_NEG_LAYER (1/9e15), shift to 'first negative layer' (add layer, log10 mag).\n    While abs(mag) > EXP_LIMIT (9e15), layer += 1, mag = maglog10(mag).\n    While abs(mag) < LAYER_DOWN (15.954) and layer > 0, layer -= 1, mag = pow(10, mag).\n\n    When we're done, all of the following should be true OR one of the numbers is not IsFinite OR layer is not IsInteger (error state):\n    Any 0 is totally zero (0, 0, 0).\n    Anything layer 0 has mag 0 OR mag > 1/9e15 and < 9e15.\n    Anything layer 1 or higher has abs(mag) >= 15.954 and < 9e15.\n    We will assume in calculations that all Decimals are either erroneous or satisfy these criteria. (Otherwise: Garbage in, garbage out.)\n    */\n        if (this.sign === 0 || (this.mag === 0 && this.layer === 0)) {\n            this.sign = 0;\n            this.mag = 0;\n            this.layer = 0;\n            return this;\n        }\n\n        if (this.layer === 0 && this.mag < 0) {\n            //extract sign from negative mag at layer 0\n            this.mag = -this.mag;\n            this.sign = -this.sign;\n        }\n\n        //Handle shifting from layer 0 to negative layers.\n        if (this.layer === 0 && this.mag < FIRST_NEG_LAYER) {\n            this.layer += 1;\n            this.mag = Math.log10(this.mag);\n            return this;\n        }\n\n        let absmag = Math.abs(this.mag);\n        let signmag = Math.sign(this.mag);\n\n        if (absmag >= EXP_LIMIT) {\n            this.layer += 1;\n            this.mag = signmag * Math.log10(absmag);\n            return this;\n        } else {\n            while (absmag < LAYER_DOWN && this.layer > 0) {\n                this.layer -= 1;\n                if (this.layer === 0) {\n                    this.mag = Math.pow(10, this.mag);\n                } else {\n                    this.mag = signmag * Math.pow(10, absmag);\n                    absmag = Math.abs(this.mag);\n                    signmag = Math.sign(this.mag);\n                }\n            }\n            if (this.layer === 0) {\n                if (this.mag < 0) {\n                    //extract sign from negative mag at layer 0\n                    this.mag = -this.mag;\n                    this.sign = -this.sign;\n                } else if (this.mag === 0) {\n                    //excessive rounding can give us all zeroes\n                    this.sign = 0;\n                }\n            }\n        }\n\n        return this;\n    }\n\n    public fromComponents(sign: number, layer: number, mag: number): this {\n        this.sign = sign;\n        this.layer = layer;\n        this.mag = mag;\n\n        this.normalize();\n        return this;\n    }\n\n    public fromComponents_noNormalize(sign: number, layer: number, mag: number): this {\n        this.sign = sign;\n        this.layer = layer;\n        this.mag = mag;\n        return this;\n    }\n\n    public fromMantissaExponent(mantissa: number, exponent: number): this {\n        this.layer = 1;\n        this.sign = Math.sign(mantissa);\n        mantissa = Math.abs(mantissa);\n        this.mag = exponent + Math.log10(mantissa);\n\n        this.normalize();\n        return this;\n    }\n\n    public fromMantissaExponent_noNormalize(mantissa: number, exponent: number): this {\n        //The idea of 'normalizing' a break_infinity.js style Decimal doesn't really apply. So just do the same thing.\n        this.fromMantissaExponent(mantissa, exponent);\n        return this;\n    }\n\n    public fromDecimal(value: Decimal): this {\n        this.sign = value.sign;\n        this.layer = value.layer;\n        this.mag = value.mag;\n        return this;\n    }\n\n    public fromNumber(value: number): this {\n        this.mag = Math.abs(value);\n        this.sign = Math.sign(value);\n        this.layer = 0;\n        this.normalize();\n        return this;\n    }\n\n    public fromString(value: string): Decimal {\n        if (IGNORE_COMMAS) {\n            value = value.replace(\",\", \"\");\n        } else if (COMMAS_ARE_DECIMAL_POINTS) {\n            value = value.replace(\",\", \".\");\n        }\n\n        //Handle x^^^y format.\n        const pentationparts = value.split(\"^^^\");\n        if (pentationparts.length === 2) {\n            const base = parseFloat(pentationparts[0]);\n            const height = parseFloat(pentationparts[1]);\n            const heightparts = pentationparts[1].split(\";\");\n            let payload = 1;\n            if (heightparts.length === 2) {\n                payload = parseFloat(heightparts[1]);\n                if (!isFinite(payload)) {\n                    payload = 1;\n                }\n            }\n            if (isFinite(base) && isFinite(height)) {\n                const result = Decimal.pentate(base, height, payload);\n                this.sign = result.sign;\n                this.layer = result.layer;\n                this.mag = result.mag;\n                return this;\n            }\n        }\n\n        //Handle x^^y format.\n        const tetrationparts = value.split(\"^^\");\n        if (tetrationparts.length === 2) {\n            const base = parseFloat(tetrationparts[0]);\n            const height = parseFloat(tetrationparts[1]);\n            const heightparts = tetrationparts[1].split(\";\");\n            let payload = 1;\n            if (heightparts.length === 2) {\n                payload = parseFloat(heightparts[1]);\n                if (!isFinite(payload)) {\n                    payload = 1;\n                }\n            }\n            if (isFinite(base) && isFinite(height)) {\n                const result = Decimal.tetrate(base, height, payload);\n                this.sign = result.sign;\n                this.layer = result.layer;\n                this.mag = result.mag;\n                return this;\n            }\n        }\n\n        //Handle x^y format.\n        const powparts = value.split(\"^\");\n        if (powparts.length === 2) {\n            const base = parseFloat(powparts[0]);\n            const exponent = parseFloat(powparts[1]);\n            if (isFinite(base) && isFinite(exponent)) {\n                const result = Decimal.pow(base, exponent);\n                this.sign = result.sign;\n                this.layer = result.layer;\n                this.mag = result.mag;\n                return this;\n            }\n        }\n\n        //Handle various cases involving it being a Big Number.\n        value = value.trim().toLowerCase();\n\n        //handle X PT Y format.\n        let base;\n        let height;\n        let ptparts = value.split(\"pt\");\n        if (ptparts.length === 2) {\n            base = 10;\n            height = parseFloat(ptparts[0]);\n            ptparts[1] = ptparts[1].replace(\"(\", \"\");\n            ptparts[1] = ptparts[1].replace(\")\", \"\");\n            let payload = parseFloat(ptparts[1]);\n            if (!isFinite(payload)) {\n                payload = 1;\n            }\n            if (isFinite(base) && isFinite(height)) {\n                const result = Decimal.tetrate(base, height, payload);\n                this.sign = result.sign;\n                this.layer = result.layer;\n                this.mag = result.mag;\n                return this;\n            }\n        }\n\n        //handle XpY format (it's the same thing just with p).\n        ptparts = value.split(\"p\");\n        if (ptparts.length === 2) {\n            base = 10;\n            height = parseFloat(ptparts[0]);\n            ptparts[1] = ptparts[1].replace(\"(\", \"\");\n            ptparts[1] = ptparts[1].replace(\")\", \"\");\n            let payload = parseFloat(ptparts[1]);\n            if (!isFinite(payload)) {\n                payload = 1;\n            }\n            if (isFinite(base) && isFinite(height)) {\n                const result = Decimal.tetrate(base, height, payload);\n                this.sign = result.sign;\n                this.layer = result.layer;\n                this.mag = result.mag;\n                return this;\n            }\n        }\n\n        const parts = value.split(\"e\");\n        const ecount = parts.length - 1;\n\n        //Handle numbers that are exactly floats (0 or 1 es).\n        if (ecount === 0) {\n            const numberAttempt = parseFloat(value);\n            if (isFinite(numberAttempt)) {\n                return this.fromNumber(numberAttempt);\n            }\n        } else if (ecount === 1) {\n            //Very small numbers (\"2e-3000\" and so on) may look like valid floats but round to 0.\n            const numberAttempt = parseFloat(value);\n            if (isFinite(numberAttempt) && numberAttempt !== 0) {\n                return this.fromNumber(numberAttempt);\n            }\n        }\n\n        //Handle new (e^N)X format.\n        const newparts = value.split(\"e^\");\n        if (newparts.length === 2) {\n            this.sign = 1;\n            if (newparts[0].charAt(0) == \"-\") {\n                this.sign = -1;\n            }\n            let layerstring = \"\";\n            for (let i = 0; i < newparts[1].length; ++i) {\n                const chrcode = newparts[1].charCodeAt(i);\n                if ((chrcode >= 43 && chrcode <= 57) || chrcode === 101) {\n                    //is \"0\" to \"9\" or \"+\" or \"-\" or \".\" or \"e\" (or \",\" or \"/\")\n                    layerstring += newparts[1].charAt(i);\n                } //we found the end of the layer count\n                else {\n                    this.layer = parseFloat(layerstring);\n                    this.mag = parseFloat(newparts[1].substr(i + 1));\n                    this.normalize();\n                    return this;\n                }\n            }\n        }\n\n        if (ecount < 1) {\n            this.sign = 0;\n            this.layer = 0;\n            this.mag = 0;\n            return this;\n        }\n        const mantissa = parseFloat(parts[0]);\n        if (mantissa === 0) {\n            this.sign = 0;\n            this.layer = 0;\n            this.mag = 0;\n            return this;\n        }\n        let exponent = parseFloat(parts[parts.length - 1]);\n        //handle numbers like AeBeC and AeeeeBeC\n        if (ecount >= 2) {\n            const me = parseFloat(parts[parts.length - 2]);\n            if (isFinite(me)) {\n                exponent *= Math.sign(me);\n                exponent += f_maglog10(me);\n            }\n        }\n\n        //Handle numbers written like eee... (N es) X\n        if (!isFinite(mantissa)) {\n            this.sign = parts[0] === \"-\" ? -1 : 1;\n            this.layer = ecount;\n            this.mag = exponent;\n        }\n        //Handle numbers written like XeY\n        else if (ecount === 1) {\n            this.sign = Math.sign(mantissa);\n            this.layer = 1;\n            //Example: 2e10 is equal to 10^log10(2e10) which is equal to 10^(10+log10(2))\n            this.mag = exponent + Math.log10(Math.abs(mantissa));\n        }\n        //Handle numbers written like Xeee... (N es) Y\n        else {\n            this.sign = Math.sign(mantissa);\n            this.layer = ecount;\n            if (ecount === 2) {\n                const result = Decimal.mul(FC(1, 2, exponent), D(mantissa));\n                this.sign = result.sign;\n                this.layer = result.layer;\n                this.mag = result.mag;\n                return this;\n            } else {\n                //at eee and above, mantissa is too small to be recognizable!\n                this.mag = exponent;\n            }\n        }\n\n        this.normalize();\n        return this;\n    }\n\n    public fromValue(value: DecimalSource): Decimal {\n        if (value instanceof Decimal || (value != null && typeof value === \"object\" && \"sign\" in value && \"mag\" in value && \"layer\" in value)) {\n            return this.fromDecimal(value);\n        }\n\n        if (typeof value === \"number\") {\n            return this.fromNumber(value);\n        }\n\n        if (typeof value === \"string\") {\n            return this.fromString(value);\n        }\n\n        this.sign = 0;\n        this.layer = 0;\n        this.mag = 0;\n        return this;\n    }\n\n    public toNumber(): number {\n        if (!Number.isFinite(this.layer)) {\n            return Number.NaN;\n        }\n        if (this.layer === 0) {\n            return this.sign * this.mag;\n        } else if (this.layer === 1) {\n            return this.sign * Math.pow(10, this.mag);\n        } //overflow for any normalized Decimal\n        else {\n            return this.mag > 0\n                ? this.sign > 0\n                    ? Number.POSITIVE_INFINITY\n                    : Number.NEGATIVE_INFINITY\n                : 0;\n        }\n    }\n\n    public mantissaWithDecimalPlaces(places: number): number {\n        // https://stackoverflow.com/a/37425022\n        if (isNaN(this.m)) {\n            return Number.NaN;\n        }\n\n        if (this.m === 0) {\n            return 0;\n        }\n\n        return decimalPlaces(this.m, places);\n    }\n\n    public magnitudeWithDecimalPlaces(places: number): number {\n        // https://stackoverflow.com/a/37425022\n        if (isNaN(this.mag)) {\n            return Number.NaN;\n        }\n\n        if (this.mag === 0) {\n            return 0;\n        }\n\n        return decimalPlaces(this.mag, places);\n    }\n\n    public toString(): string {\n        if (isNaN(this.layer) || isNaN(this.sign) || isNaN(this.mag)) {\n            return \"NaN\";\n        }\n        if (this.mag === Number.POSITIVE_INFINITY || this.layer === Number.POSITIVE_INFINITY) {\n            return this.sign === 1 ? \"Infinity\" : \"-Infinity\";\n        }\n\n        if (this.layer === 0) {\n            if ((this.mag < 1e21 && this.mag > 1e-7) || this.mag === 0) {\n                return (this.sign * this.mag).toString();\n            }\n            return this.m + \"e\" + this.e;\n        } else if (this.layer === 1) {\n            return this.m + \"e\" + this.e;\n        } else {\n            //layer 2+\n            if (this.layer <= MAX_ES_IN_A_ROW) {\n                return (this.sign === -1 ? \"-\" : \"\") + \"e\".repeat(this.layer) + this.mag;\n            } else {\n                return (this.sign === -1 ? \"-\" : \"\") + \"(e^\" + this.layer + \")\" + this.mag;\n            }\n        }\n    }\n\n    public toExponential(places: number): string {\n        if (this.layer === 0) {\n            return (this.sign * this.mag).toExponential(places);\n        }\n        return this.toStringWithDecimalPlaces(places);\n    }\n\n    public toFixed(places: number): string {\n        if (this.layer === 0) {\n            return (this.sign * this.mag).toFixed(places);\n        }\n        return this.toStringWithDecimalPlaces(places);\n    }\n\n    public toPrecision(places: number): string {\n        if (this.e <= -7) {\n            return this.toExponential(places - 1);\n        }\n\n        if (places > this.e) {\n            return this.toFixed(places - this.exponent - 1);\n        }\n\n        return this.toExponential(places - 1);\n    }\n\n    public valueOf(): string {\n        return this.toString();\n    }\n\n    public toJSON(): string {\n        return this.toString();\n    }\n\n    public toStringWithDecimalPlaces(places: number): string {\n        if (this.layer === 0) {\n            if ((this.mag < 1e21 && this.mag > 1e-7) || this.mag === 0) {\n                return (this.sign * this.mag).toFixed(places);\n            }\n            return decimalPlaces(this.m, places) + \"e\" + decimalPlaces(this.e, places);\n        } else if (this.layer === 1) {\n            return decimalPlaces(this.m, places) + \"e\" + decimalPlaces(this.e, places);\n        } else {\n            //layer 2+\n            if (this.layer <= MAX_ES_IN_A_ROW) {\n                return (\n                    (this.sign === -1 ? \"-\" : \"\") +\n                    \"e\".repeat(this.layer) +\n                    decimalPlaces(this.mag, places)\n                );\n            } else {\n                return (\n                    (this.sign === -1 ? \"-\" : \"\") +\n                    \"(e^\" +\n                    this.layer +\n                    \")\" +\n                    decimalPlaces(this.mag, places)\n                );\n            }\n        }\n    }\n\n    public abs(): Decimal {\n        return FC_NN(this.sign === 0 ? 0 : 1, this.layer, this.mag);\n    }\n\n    public neg(): Decimal {\n        return FC_NN(-this.sign, this.layer, this.mag);\n    }\n\n    public negate(): Decimal {\n        return this.neg();\n    }\n\n    public negated(): Decimal {\n        return this.neg();\n    }\n\n    // public sign () {\n    //     return this.sign;\n    //   }\n\n    public sgn(): number {\n        return this.sign;\n    }\n\n    public round(): this | Decimal {\n        if (this.mag < 0) {\n            return Decimal.dZero;\n        }\n        if (this.layer === 0) {\n            return FC(this.sign, 0, Math.round(this.mag));\n        }\n        return this;\n    }\n\n    public floor(): this | Decimal {\n        if (this.mag < 0) {\n            return Decimal.dZero;\n        }\n        if (this.layer === 0) {\n            return FC(this.sign, 0, Math.floor(this.mag));\n        }\n        return this;\n    }\n\n    public ceil(): this | Decimal {\n        if (this.mag < 0) {\n            return Decimal.dZero;\n        }\n        if (this.layer === 0) {\n            return FC(this.sign, 0, Math.ceil(this.mag));\n        }\n        return this;\n    }\n\n    public trunc(): this | Decimal {\n        if (this.mag < 0) {\n            return Decimal.dZero;\n        }\n        if (this.layer === 0) {\n            return FC(this.sign, 0, Math.trunc(this.mag));\n        }\n        return this;\n    }\n\n    public add(value: DecimalSource): this | Decimal {\n        const decimal = D(value);\n\n        //inf/nan check\n        if (!Number.isFinite(this.layer)) {\n            return this;\n        }\n        if (!Number.isFinite(decimal.layer)) {\n            return decimal;\n        }\n\n        //Special case - if one of the numbers is 0, return the other number.\n        if (this.sign === 0) {\n            return decimal;\n        }\n        if (decimal.sign === 0) {\n            return this;\n        }\n\n        //Special case - Adding a number to its negation produces 0, no matter how large.\n        if (\n            this.sign === -decimal.sign &&\n            this.layer === decimal.layer &&\n            this.mag === decimal.mag\n        ) {\n            return FC_NN(0, 0, 0);\n        }\n\n        let a;\n        let b;\n\n        //Special case: If one of the numbers is layer 2 or higher, just take the bigger number.\n        if (this.layer >= 2 || decimal.layer >= 2) {\n            return this.maxabs(decimal);\n        }\n\n        if (Decimal.cmpabs(this, decimal) > 0) {\n            a = this;\n            b = decimal;\n        } else {\n            a = decimal;\n            b = this;\n        }\n\n        if (a.layer === 0 && b.layer === 0) {\n            return D(a.sign * a.mag + b.sign * b.mag);\n        }\n\n        const layera = a.layer * Math.sign(a.mag);\n        const layerb = b.layer * Math.sign(b.mag);\n\n        //If one of the numbers is 2+ layers higher than the other, just take the bigger number.\n        if (layera - layerb >= 2) {\n            return a;\n        }\n\n        if (layera === 0 && layerb === -1) {\n            if (Math.abs(b.mag - Math.log10(a.mag)) > MAX_SIGNIFICANT_DIGITS) {\n                return a;\n            } else {\n                const magdiff = Math.pow(10, Math.log10(a.mag) - b.mag);\n                const mantissa = b.sign + a.sign * magdiff;\n                return FC(Math.sign(mantissa), 1, b.mag + Math.log10(Math.abs(mantissa)));\n            }\n        }\n\n        if (layera === 1 && layerb === 0) {\n            if (Math.abs(a.mag - Math.log10(b.mag)) > MAX_SIGNIFICANT_DIGITS) {\n                return a;\n            } else {\n                const magdiff = Math.pow(10, a.mag - Math.log10(b.mag));\n                const mantissa = b.sign + a.sign * magdiff;\n                return FC(\n                    Math.sign(mantissa),\n                    1,\n                    Math.log10(b.mag) + Math.log10(Math.abs(mantissa))\n                );\n            }\n        }\n\n        if (Math.abs(a.mag - b.mag) > MAX_SIGNIFICANT_DIGITS) {\n            return a;\n        } else {\n            const magdiff = Math.pow(10, a.mag - b.mag);\n            const mantissa = b.sign + a.sign * magdiff;\n            return FC(Math.sign(mantissa), 1, b.mag + Math.log10(Math.abs(mantissa)));\n        }\n\n        throw Error(\"Bad arguments to add: \" + this + \", \" + value);\n    }\n\n    public plus(value: DecimalSource): Decimal {\n        return this.add(value);\n    }\n\n    public sub(value: DecimalSource): Decimal {\n        return this.add(D(value).neg());\n    }\n\n    public subtract(value: DecimalSource): Decimal {\n        return this.sub(value);\n    }\n\n    public minus(value: DecimalSource): Decimal {\n        return this.sub(value);\n    }\n\n    public mul(value: DecimalSource): Decimal {\n        const decimal = D(value);\n\n        //inf/nan check\n        if (!Number.isFinite(this.layer)) {\n            return this;\n        }\n        if (!Number.isFinite(decimal.layer)) {\n            return decimal;\n        }\n\n        //Special case - if one of the numbers is 0, return 0.\n        if (this.sign === 0 || decimal.sign === 0) {\n            return FC_NN(0, 0, 0);\n        }\n\n        //Special case - Multiplying a number by its own reciprocal yields +/- 1, no matter how large.\n        if (this.layer === decimal.layer && this.mag === -decimal.mag) {\n            return FC_NN(this.sign * decimal.sign, 0, 1);\n        }\n\n        let a;\n        let b;\n\n        //Which number is bigger in terms of its multiplicative distance from 1?\n        if (\n            this.layer > decimal.layer ||\n            (this.layer == decimal.layer && Math.abs(this.mag) > Math.abs(decimal.mag))\n        ) {\n            a = this;\n            b = decimal;\n        } else {\n            a = decimal;\n            b = this;\n        }\n\n        if (a.layer === 0 && b.layer === 0) {\n            return D(a.sign * b.sign * a.mag * b.mag);\n        }\n\n        //Special case: If one of the numbers is layer 3 or higher or one of the numbers is 2+ layers bigger than the other, just take the bigger number.\n        if (a.layer >= 3 || a.layer - b.layer >= 2) {\n            return FC(a.sign * b.sign, a.layer, a.mag);\n        }\n\n        if (a.layer === 1 && b.layer === 0) {\n            return FC(a.sign * b.sign, 1, a.mag + Math.log10(b.mag));\n        }\n\n        if (a.layer === 1 && b.layer === 1) {\n            return FC(a.sign * b.sign, 1, a.mag + b.mag);\n        }\n\n        if (a.layer === 2 && b.layer === 1) {\n            const newmag = FC(Math.sign(a.mag), a.layer - 1, Math.abs(a.mag)).add(\n                FC(Math.sign(b.mag), b.layer - 1, Math.abs(b.mag))\n            );\n            return FC(a.sign * b.sign, newmag.layer + 1, newmag.sign * newmag.mag);\n        }\n\n        if (a.layer === 2 && b.layer === 2) {\n            const newmag = FC(Math.sign(a.mag), a.layer - 1, Math.abs(a.mag)).add(\n                FC(Math.sign(b.mag), b.layer - 1, Math.abs(b.mag))\n            );\n            return FC(a.sign * b.sign, newmag.layer + 1, newmag.sign * newmag.mag);\n        }\n\n        throw Error(\"Bad arguments to mul: \" + this + \", \" + value);\n    }\n\n    public multiply(value: DecimalSource): Decimal {\n        return this.mul(value);\n    }\n\n    public times(value: DecimalSource): Decimal {\n        return this.mul(value);\n    }\n\n    public div(value: DecimalSource): Decimal {\n        const decimal = D(value);\n        return this.mul(decimal.recip());\n    }\n\n    public divide(value: DecimalSource): Decimal {\n        return this.div(value);\n    }\n\n    public divideBy(value: DecimalSource): Decimal {\n        return this.div(value);\n    }\n\n    public dividedBy(value: DecimalSource): Decimal {\n        return this.div(value);\n    }\n\n    public recip(): Decimal {\n        if (this.mag === 0) {\n            return Decimal.dNaN;\n        } else if (this.layer === 0) {\n            return FC(this.sign, 0, 1 / this.mag);\n        } else {\n            return FC(this.sign, this.layer, -this.mag);\n        }\n    }\n\n    public reciprocal(): Decimal {\n        return this.recip();\n    }\n\n    public reciprocate(): Decimal {\n        return this.recip();\n    }\n\n    /**\n     * -1 for less than value, 0 for equals value, 1 for greater than value\n     */\n    public cmp(value: DecimalSource): CompareResult {\n        const decimal = D(value);\n        if (this.sign > decimal.sign) {\n            return 1;\n        }\n        if (this.sign < decimal.sign) {\n            return -1;\n        }\n        return (this.sign * this.cmpabs(value)) as CompareResult;\n    }\n\n    public cmpabs(value: DecimalSource): CompareResult {\n        const decimal = D(value);\n        const layera = this.mag > 0 ? this.layer : -this.layer;\n        const layerb = decimal.mag > 0 ? decimal.layer : -decimal.layer;\n        if (layera > layerb) {\n            return 1;\n        }\n        if (layera < layerb) {\n            return -1;\n        }\n        if (this.mag > decimal.mag) {\n            return 1;\n        }\n        if (this.mag < decimal.mag) {\n            return -1;\n        }\n        return 0;\n    }\n\n    public compare(value: DecimalSource): CompareResult {\n        return this.cmp(value);\n    }\n\n    public isNan(): boolean {\n        return isNaN(this.sign) || isNaN(this.layer) || isNaN(this.mag);\n    }\n\n    public isFinite(): boolean {\n        return isFinite(this.sign) && isFinite(this.layer) && isFinite(this.mag);\n    }\n\n    public eq(value: DecimalSource): boolean {\n        const decimal = D(value);\n        return (\n            this.sign === decimal.sign && this.layer === decimal.layer && this.mag === decimal.mag\n        );\n    }\n\n    public equals(value: DecimalSource): boolean {\n        return this.eq(value);\n    }\n\n    public neq(value: DecimalSource): boolean {\n        return !this.eq(value);\n    }\n\n    public notEquals(value: DecimalSource): boolean {\n        return this.neq(value);\n    }\n\n    public lt(value: DecimalSource): boolean {\n        return this.cmp(value) === -1;\n    }\n\n    public lte(value: DecimalSource): boolean {\n        return !this.gt(value);\n    }\n\n    public gt(value: DecimalSource): boolean {\n        return this.cmp(value) === 1;\n    }\n\n    public gte(value: DecimalSource): boolean {\n        return !this.lt(value);\n    }\n\n    public max(value: DecimalSource): Decimal {\n        const decimal = D(value);\n        return this.lt(decimal) ? decimal : this;\n    }\n\n    public min(value: DecimalSource): Decimal {\n        const decimal = D(value);\n        return this.gt(decimal) ? decimal : this;\n    }\n\n    public maxabs(value: DecimalSource): Decimal {\n        const decimal = D(value);\n        return this.cmpabs(decimal) < 0 ? decimal : this;\n    }\n\n    public minabs(value: DecimalSource): Decimal {\n        const decimal = D(value);\n        return this.cmpabs(decimal) > 0 ? decimal : this;\n    }\n\n    public clamp(min: DecimalSource, max: DecimalSource): Decimal {\n        return this.max(min).min(max);\n    }\n\n    public clampMin(min: DecimalSource): Decimal {\n        return this.max(min);\n    }\n\n    public clampMax(max: DecimalSource): Decimal {\n        return this.min(max);\n    }\n\n    public cmp_tolerance(value: DecimalSource, tolerance: number): CompareResult {\n        const decimal = D(value);\n        return this.eq_tolerance(decimal, tolerance) ? 0 : this.cmp(decimal);\n    }\n\n    public compare_tolerance(value: DecimalSource, tolerance: number): CompareResult {\n        return this.cmp_tolerance(value, tolerance);\n    }\n\n    /**\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\n     * For example, if you put in 1e-9, then any number closer to the\n     * larger number than (larger number)*1e-9 will be considered equal.\n     */\n    public eq_tolerance(value: DecimalSource, tolerance: number): boolean {\n        const decimal = D(value); // https://stackoverflow.com/a/33024979\n        if (tolerance == null) {\n            tolerance = 1e-7;\n        }\n        //Numbers that are too far away are never close.\n        if (this.sign !== decimal.sign) {\n            return false;\n        }\n        if (Math.abs(this.layer - decimal.layer) > 1) {\n            return false;\n        }\n        // return abs(a-b) <= tolerance * max(abs(a), abs(b))\n        let magA = this.mag;\n        let magB = decimal.mag;\n        if (this.layer > decimal.layer) {\n            magB = f_maglog10(magB);\n        }\n        if (this.layer < decimal.layer) {\n            magA = f_maglog10(magA);\n        }\n        return Math.abs(magA - magB) <= tolerance * Math.max(Math.abs(magA), Math.abs(magB));\n    }\n\n    public equals_tolerance(value: DecimalSource, tolerance: number): boolean {\n        return this.eq_tolerance(value, tolerance);\n    }\n\n    public neq_tolerance(value: DecimalSource, tolerance: number): boolean {\n        return !this.eq_tolerance(value, tolerance);\n    }\n\n    public notEquals_tolerance(value: DecimalSource, tolerance: number): boolean {\n        return this.neq_tolerance(value, tolerance);\n    }\n\n    public lt_tolerance(value: DecimalSource, tolerance: number): boolean {\n        const decimal = D(value);\n        return !this.eq_tolerance(decimal, tolerance) && this.lt(decimal);\n    }\n\n    public lte_tolerance(value: DecimalSource, tolerance: number): boolean {\n        const decimal = D(value);\n        return this.eq_tolerance(decimal, tolerance) || this.lt(decimal);\n    }\n\n    public gt_tolerance(value: DecimalSource, tolerance: number): boolean {\n        const decimal = D(value);\n        return !this.eq_tolerance(decimal, tolerance) && this.gt(decimal);\n    }\n\n    public gte_tolerance(value: DecimalSource, tolerance: number): boolean {\n        const decimal = D(value);\n        return this.eq_tolerance(decimal, tolerance) || this.gt(decimal);\n    }\n\n    public pLog10(): Decimal {\n        if (this.lt(Decimal.dZero)) {\n            return Decimal.dZero;\n        }\n        return this.log10();\n    }\n\n    public absLog10(): Decimal {\n        if (this.sign === 0) {\n            return Decimal.dNaN;\n        } else if (this.layer > 0) {\n            return FC(Math.sign(this.mag), this.layer - 1, Math.abs(this.mag));\n        } else {\n            return FC(1, 0, Math.log10(this.mag));\n        }\n    }\n\n    public log10(): Decimal {\n        if (this.sign <= 0) {\n            return Decimal.dNaN;\n        } else if (this.layer > 0) {\n            return FC(Math.sign(this.mag), this.layer - 1, Math.abs(this.mag));\n        } else {\n            return FC(this.sign, 0, Math.log10(this.mag));\n        }\n    }\n\n    public log(base: DecimalSource): Decimal {\n        base = D(base);\n        if (this.sign <= 0) {\n            return Decimal.dNaN;\n        }\n        if (base.sign <= 0) {\n            return Decimal.dNaN;\n        }\n        if (base.sign === 1 && base.layer === 0 && base.mag === 1) {\n            return Decimal.dNaN;\n        } else if (this.layer === 0 && base.layer === 0) {\n            return FC(this.sign, 0, Math.log(this.mag) / Math.log(base.mag));\n        }\n\n        return Decimal.div(this.log10(), base.log10());\n    }\n\n    public log2(): Decimal {\n        if (this.sign <= 0) {\n            return Decimal.dNaN;\n        } else if (this.layer === 0) {\n            return FC(this.sign, 0, Math.log2(this.mag));\n        } else if (this.layer === 1) {\n            return FC(Math.sign(this.mag), 0, Math.abs(this.mag) * 3.321928094887362); //log2(10)\n        } else if (this.layer === 2) {\n            return FC(Math.sign(this.mag), 1, Math.abs(this.mag) + 0.5213902276543247); //-log10(log10(2))\n        } else {\n            return FC(Math.sign(this.mag), this.layer - 1, Math.abs(this.mag));\n        }\n    }\n\n    public ln(): Decimal {\n        if (this.sign <= 0) {\n            return Decimal.dNaN;\n        } else if (this.layer === 0) {\n            return FC(this.sign, 0, Math.log(this.mag));\n        } else if (this.layer === 1) {\n            return FC(Math.sign(this.mag), 0, Math.abs(this.mag) * 2.302585092994046); //ln(10)\n        } else if (this.layer === 2) {\n            return FC(Math.sign(this.mag), 1, Math.abs(this.mag) + 0.36221568869946325); //log10(log10(e))\n        } else {\n            return FC(Math.sign(this.mag), this.layer - 1, Math.abs(this.mag));\n        }\n    }\n\n    public logarithm(base: DecimalSource): Decimal {\n        return this.log(base);\n    }\n\n    public pow(value: DecimalSource): Decimal {\n        const decimal = D(value);\n        const a = this;\n        const b = decimal;\n\n        //special case: if a is 0, then return 0 (UNLESS b is 0, then return 1)\n        if (a.sign === 0) {\n            return b.eq(0) ? FC_NN(1, 0, 1) : a;\n        }\n        //special case: if a is 1, then return 1\n        if (a.sign === 1 && a.layer === 0 && a.mag === 1) {\n            return a;\n        }\n        //special case: if b is 0, then return 1\n        if (b.sign === 0) {\n            return FC_NN(1, 0, 1);\n        }\n        //special case: if b is 1, then return a\n        if (b.sign === 1 && b.layer === 0 && b.mag === 1) {\n            return a;\n        }\n\n        const result = a\n            .absLog10()\n            .mul(b)\n            .pow10();\n\n        if (this.sign === -1) {\n            if (Math.abs(b.toNumber() % 2) % 2 === 1) {\n                return result.neg();\n            } else if (Math.abs(b.toNumber() % 2) % 2 === 0) {\n                return result;\n            }\n            return Decimal.dNaN;\n        }\n\n        return result;\n    }\n\n    public pow10(): Decimal {\n        /*\n    There are four cases we need to consider:\n    1) positive sign, positive mag (e15, ee15): +1 layer (e.g. 10^15 becomes e15, 10^e15 becomes ee15)\n    2) negative sign, positive mag (-e15, -ee15): +1 layer but sign and mag sign are flipped (e.g. 10^-15 becomes e-15, 10^-e15 becomes ee-15)\n    3) positive sign, negative mag (e-15, ee-15): layer 0 case would have been handled in the Math.pow check, so just return 1\n    4) negative sign, negative mag (-e-15, -ee-15): layer 0 case would have been handled in the Math.pow check, so just return 1\n    */\n\n        if (!Number.isFinite(this.layer) || !Number.isFinite(this.mag)) {\n            return Decimal.dNaN;\n        }\n\n        let a = this;\n\n        //handle layer 0 case - if no precision is lost just use Math.pow, else promote one layer\n        if (a.layer === 0) {\n            const newmag = Math.pow(10, a.sign * a.mag);\n            if (Number.isFinite(newmag) && Math.abs(newmag) >= 0.1) {\n                return FC(1, 0, newmag);\n            } else {\n                if (a.sign === 0) {\n                    return Decimal.dOne;\n                } else {\n                    a = FC_NN(a.sign, a.layer + 1, Math.log10(a.mag)) as this;\n                }\n            }\n        }\n\n        //handle all 4 layer 1+ cases individually\n        if (a.sign > 0 && a.mag >= 0) {\n            return FC(a.sign, a.layer + 1, a.mag);\n        }\n        if (a.sign < 0 && a.mag >= 0) {\n            return FC(-a.sign, a.layer + 1, -a.mag);\n        }\n        //both the negative mag cases are identical: one +/- rounding error\n        return Decimal.dOne;\n    }\n\n    public pow_base(value: DecimalSource): Decimal {\n        return D(value).pow(this);\n    }\n\n    public root(value: DecimalSource): Decimal {\n        const decimal = D(value);\n        return this.pow(decimal.recip());\n    }\n\n    public factorial(): Decimal {\n        if (this.mag < 0) {\n            return this.add(1).gamma();\n        } else if (this.layer === 0) {\n            return this.add(1).gamma();\n        } else if (this.layer === 1) {\n            return Decimal.exp(Decimal.mul(this, Decimal.ln(this).sub(1)));\n        } else {\n            return Decimal.exp(this);\n        }\n    }\n\n    //from HyperCalc source code\n    public gamma(): Decimal {\n        if (this.mag < 0) {\n            return this.recip();\n        } else if (this.layer === 0) {\n            if (this.lt(FC_NN(1, 0, 24))) {\n                return D(f_gamma(this.sign * this.mag));\n            }\n\n            const t = this.mag - 1;\n            let l = 0.9189385332046727; //0.5*Math.log(2*Math.PI)\n            l = l + (t + 0.5) * Math.log(t);\n            l = l - t;\n            const n2 = t * t;\n            let np = t;\n            let lm = 12 * np;\n            let adj = 1 / lm;\n            let l2 = l + adj;\n            if (l2 === l) {\n                return Decimal.exp(l);\n            }\n\n            l = l2;\n            np = np * n2;\n            lm = 360 * np;\n            adj = 1 / lm;\n            l2 = l - adj;\n            if (l2 === l) {\n                return Decimal.exp(l);\n            }\n\n            l = l2;\n            np = np * n2;\n            lm = 1260 * np;\n            let lt = 1 / lm;\n            l = l + lt;\n            np = np * n2;\n            lm = 1680 * np;\n            lt = 1 / lm;\n            l = l - lt;\n            return Decimal.exp(l);\n        } else if (this.layer === 1) {\n            return Decimal.exp(Decimal.mul(this, Decimal.ln(this).sub(1)));\n        } else {\n            return Decimal.exp(this);\n        }\n    }\n\n    public lngamma(): Decimal {\n        return this.gamma().ln();\n    }\n\n    public exp(): Decimal {\n        if (this.mag < 0) {\n            return Decimal.dOne;\n        }\n        if (this.layer === 0 && this.mag <= 709.7) {\n            return D(Math.exp(this.sign * this.mag));\n        } else if (this.layer === 0) {\n            return FC(1, 1, this.sign * Math.log10(Math.E) * this.mag);\n        } else if (this.layer === 1) {\n            return FC(1, 2, this.sign * (Math.log10(0.4342944819032518) + this.mag));\n        } else {\n            return FC(1, this.layer + 1, this.sign * this.mag);\n        }\n    }\n\n    public sqr(): Decimal {\n        return this.pow(2);\n    }\n\n    public sqrt(): Decimal {\n        if (this.layer === 0) {\n            return D(Math.sqrt(this.sign * this.mag));\n        } else if (this.layer === 1) {\n            return FC(1, 2, Math.log10(this.mag) - 0.3010299956639812);\n        } else {\n            const result = Decimal.div(FC_NN(this.sign, this.layer - 1, this.mag), FC_NN(1, 0, 2));\n            result.layer += 1;\n            result.normalize();\n            return result;\n        }\n    }\n\n    public cube(): Decimal {\n        return this.pow(3);\n    }\n\n    public cbrt(): Decimal {\n        return this.pow(1 / 3);\n    }\n\n    //Tetration/tetrate: The result of exponentiating 'this' to 'this' 'height' times in a row.  https://en.wikipedia.org/wiki/Tetration\n    //If payload != 1, then this is 'iterated exponentiation', the result of exping (payload) to base (this) (height) times. https://andydude.github.io/tetration/archives/tetration2/ident.html\n    //Works with negative and positive real heights.\n    public tetrate(height = 2, payload: DecimalSource = FC_NN(1, 0, 1)): Decimal {\n        //x^^1 == x\n        if (height === 1) {\n            return Decimal.pow(this, payload);\n        }\n        //x^^0 == 1\n        if (height === 0) {\n            return new Decimal(payload);\n        }\n        //1^^x == 1\n        if (this.eq(Decimal.dOne)) {\n            return Decimal.dOne;\n        }\n        //-1^^x == -1\n        if (this.eq(-1)) {\n            return Decimal.pow(this, payload);\n        }\n\n        if (height === Number.POSITIVE_INFINITY) {\n            const this_num = this.toNumber();\n            //within the convergence range?\n            if (this_num <= 1.44466786100976613366 && this_num >= 0.06598803584531253708) {\n                //hotfix for the very edge of the number range not being handled properly\n                if (this_num > 1.444667861009099) {\n                    return new Decimal(Math.E);\n                }\n                //Formula for infinite height power tower.\n                const negln = Decimal.ln(this).neg();\n                return negln.lambertw().div(negln);\n            } else if (this_num > 1.44466786100976613366) {\n                //explodes to infinity\n                return new Decimal(Number.POSITIVE_INFINITY);\n            } else {\n                //0.06598803584531253708 > this_num >= 0: never converges\n                //this_num < 0: quickly becomes a complex number\n                return Decimal.dNaN;\n            }\n        }\n\n        //0^^x oscillates if we define 0^0 == 1 (which in javascript land we do), since then 0^^1 is 0, 0^^2 is 1, 0^^3 is 0, etc. payload is ignored\n        //using the linear approximation for height (TODO: don't know a better way to calculate it ATM, but it wouldn't surprise me if it's just NaN)\n        if (this.eq(Decimal.dZero)) {\n            let result = Math.abs((height + 1) % 2);\n            if (result > 1) {\n                result = 2 - result;\n            }\n            return new Decimal(result);\n        }\n\n        if (height < 0) {\n            return Decimal.iteratedlog(payload, this, -height);\n        }\n\n        payload = D(payload);\n        const oldheight = height;\n        height = Math.trunc(height);\n        const fracheight = oldheight - height;\n\n        if (this.gt(Decimal.dZero) && this.lte(1.44466786100976613366)) {\n            //similar to 0^^n, flip-flops between two values, converging slowly (or if it's below 0.06598803584531253708, never. so once again, the fractional part at the end will be a linear approximation (TODO: again pending knowledge of how to approximate better, although tbh I think it should in reality just be NaN)\n            height = Math.min(10000, height);\n            for (let i = 0; i < height; ++i) {\n                const old_payload: Decimal = payload;\n                payload = this.pow(payload);\n                //stop early if we converge\n                if (old_payload.eq(payload)) {\n                    return payload;\n                }\n            }\n            if (fracheight != 0) {\n                const next_payload = this.pow(payload);\n                return payload.mul(1 - fracheight).add(next_payload.mul(fracheight));\n            }\n            return payload;\n        }\n        //TODO: base < 0, but it's hard for me to reason about (probably all non-integer heights are NaN automatically?)\n\n        if (fracheight !== 0) {\n            if (payload.eq(Decimal.dOne)) {\n                //TODO: for bases above 10, revert to old linear approximation until I can think of something better\n                if (this.gt(10)) {\n                    payload = this.pow(fracheight);\n                } else {\n                    payload = D(Decimal.tetrate_critical(this.toNumber(), fracheight));\n                    //TODO: until the critical section grid can handle numbers below 2, scale them to the base\n                    //TODO: maybe once the critical section grid has very large bases, this math can be appropriate for them too? I'll think about it\n                    if (this.lt(2)) {\n                        payload = payload\n                            .sub(1)\n                            .mul(this.minus(1))\n                            .plus(1);\n                    }\n                }\n            } else {\n                if (this.eq(10)) {\n                    payload = payload.layeradd10(fracheight);\n                } else {\n                    payload = payload.layeradd(fracheight, this);\n                }\n            }\n        }\n\n        for (let i = 0; i < height; ++i) {\n            payload = this.pow(payload);\n            //bail if we're NaN\n            if (!isFinite(payload.layer) || !isFinite(payload.mag)) {\n                return payload.normalize();\n            }\n            //shortcut\n            if (payload.layer - this.layer > 3) {\n                return FC_NN(payload.sign, payload.layer + (height - i - 1), payload.mag);\n            }\n            //give up after 10000 iterations if nothing is happening\n            if (i > 10000) {\n                return payload;\n            }\n        }\n        return payload;\n    }\n\n    //iteratedexp/iterated exponentiation: - all cases handled in tetrate, so just call it\n    public iteratedexp(height = 2, payload = FC_NN(1, 0, 1)): Decimal {\n        return this.tetrate(height, payload);\n    }\n\n    //iterated log/repeated log: The result of applying log(base) 'times' times in a row. Approximately equal to subtracting (times) from the number's slog representation. Equivalent to tetrating to a negative height.\n    //Works with negative and positive real heights.\n    public iteratedlog(base: DecimalSource = 10, times = 1): Decimal {\n        if (times < 0) {\n            return Decimal.tetrate(base, -times, this);\n        }\n\n        base = D(base);\n        let result = D(this);\n        const fulltimes = times;\n        times = Math.trunc(times);\n        const fraction = fulltimes - times;\n        if (result.layer - base.layer > 3) {\n            const layerloss = Math.min(times, result.layer - base.layer - 3);\n            times -= layerloss;\n            result.layer -= layerloss;\n        }\n\n        for (let i = 0; i < times; ++i) {\n            result = result.log(base);\n            //bail if we're NaN\n            if (!isFinite(result.layer) || !isFinite(result.mag)) {\n                return result.normalize();\n            }\n            //give up after 10000 iterations if nothing is happening\n            if (i > 10000) {\n                return result;\n            }\n        }\n\n        //handle fractional part\n        if (fraction > 0 && fraction < 1) {\n            if (base.eq(10)) {\n                result = result.layeradd10(-fraction);\n            } else {\n                result = result.layeradd(-fraction, base);\n            }\n        }\n\n        return result;\n    }\n\n    //Super-logarithm, one of tetration's inverses, tells you what size power tower you'd have to tetrate base to to get number. By definition, will never be higher than 1.8e308 in break_eternity.js, since a power tower 1.8e308 numbers tall is the largest representable number.\n    // https://en.wikipedia.org/wiki/Super-logarithm\n    public slog(base: DecimalSource = 10): Decimal {\n        base = D(base);\n\n        //special cases:\n        //slog base 0 or lower is NaN\n        if (base.lte(Decimal.dZero)) {\n            return Decimal.dNaN;\n        }\n        //slog base 1 is NaN\n        if (base.eq(Decimal.dOne)) {\n            return Decimal.dNaN;\n        }\n        //need to handle these small, wobbling bases specially\n        if (base.lt(Decimal.dOne)) {\n            if (this.eq(Decimal.dOne)) {\n                return Decimal.dZero;\n            }\n            if (this.eq(Decimal.dZero)) {\n                return Decimal.dNegOne;\n            }\n            //0 < this < 1: ambiguous (happens multiple times)\n            //this < 0: impossible (as far as I can tell)\n            //this > 1: partially complex (http://myweb.astate.edu/wpaulsen/tetcalc/tetcalc.html base 0.25 for proof)\n            return Decimal.dNaN;\n        }\n        //slog_n(0) is -1\n        if (this.mag < 0 || this.eq(Decimal.dZero)) {\n            return Decimal.dNegOne;\n        }\n\n        let result = 0;\n        let copy = D(this);\n        if (copy.layer - base.layer > 3) {\n            const layerloss = copy.layer - base.layer - 3;\n            result += layerloss;\n            copy.layer -= layerloss;\n        }\n\n        for (let i = 0; i < 100; ++i) {\n            if (copy.lt(Decimal.dZero)) {\n                copy = Decimal.pow(base, copy);\n                result -= 1;\n            } else if (copy.lte(Decimal.dOne)) {\n                return D(result + Decimal.slog_critical(base.toNumber(), copy.toNumber()));\n            } else {\n                result += 1;\n                copy = Decimal.log(copy, base);\n            }\n        }\n        return D(result);\n    }\n\n    //background info and tables of values for critical functions taken here: https://github.com/Patashu/break_eternity.js/issues/22\n    public static slog_critical(base: number, height: number): number {\n        //TODO: for bases above 10, revert to old linear approximation until I can think of something better\n        if (base > 10) {\n            return height - 1;\n        }\n        return Decimal.critical_section(base, height, critical_slog_values);\n    }\n\n    public static tetrate_critical(base: number, height: number): number {\n        return Decimal.critical_section(base, height, critical_tetr_values);\n    }\n\n    public static critical_section(base: number, height: number, grid: number[][]): number {\n        //this part is simple at least, since it's just 0.1 to 0.9\n        height *= 10;\n        if (height < 0) {\n            height = 0;\n        }\n        if (height > 10) {\n            height = 10;\n        }\n        //have to do this complicated song and dance since one of the critical_headers is Math.E, and in the future I'd like 1.5 as well\n        if (base < 2) {\n            base = 2;\n        }\n        if (base > 10) {\n            base = 10;\n        }\n        let lower = 0;\n        let upper = 0;\n        //basically, if we're between bases, we interpolate each bases' relevant values together\n        //then we interpolate based on what the fractional height is.\n        //accuracy could be improved by doing a non-linear interpolation (maybe), by adding more bases and heights (definitely) but this is AFAIK the best you can get without running some pari.gp or mathematica program to calculate exact values\n        for (let i = 0; i < critical_headers.length; ++i) {\n            if (critical_headers[i] == base) {\n                // exact match\n                lower = grid[i][Math.floor(height)];\n                upper = grid[i][Math.ceil(height)];\n                break;\n            } else if (critical_headers[i] < base && critical_headers[i + 1] > base) {\n                // interpolate between this and the next\n                const basefrac =\n                    (base - critical_headers[i]) / (critical_headers[i + 1] - critical_headers[i]);\n                lower =\n                    grid[i][Math.floor(height)] * (1 - basefrac) +\n                    grid[i + 1][Math.floor(height)] * basefrac;\n                upper =\n                    grid[i][Math.ceil(height)] * (1 - basefrac) +\n                    grid[i + 1][Math.ceil(height)] * basefrac;\n                break;\n            }\n        }\n        const frac = height - Math.floor(height);\n        const result = lower * (1 - frac) + upper * frac;\n        return result;\n    }\n\n    //Function for adding/removing layers from a Decimal, even fractional layers (e.g. its slog10 representation).\n    //Moved this over to use the same critical section as tetrate/slog.\n    public layeradd10(diff: DecimalSource): Decimal {\n        diff = Decimal.fromValue_noAlloc(diff).toNumber();\n        const result = D(this);\n        if (diff >= 1) {\n            //bug fix: if result is very smol (mag < 0, layer > 0) turn it into 0 first\n            if (result.mag < 0 && result.layer > 0) {\n                result.sign = 0;\n                result.mag = 0;\n                result.layer = 0;\n            } else if (result.sign === -1 && result.layer == 0) {\n                //bug fix - for stuff like -3.layeradd10(1) we need to move the sign to the mag\n                result.sign = 1;\n                result.mag = -result.mag;\n            }\n            const layeradd = Math.trunc(diff);\n            diff -= layeradd;\n            result.layer += layeradd;\n        }\n        if (diff <= -1) {\n            const layeradd = Math.trunc(diff);\n            diff -= layeradd;\n            result.layer += layeradd;\n            if (result.layer < 0) {\n                for (let i = 0; i < 100; ++i) {\n                    result.layer++;\n                    result.mag = Math.log10(result.mag);\n                    if (!isFinite(result.mag)) {\n                        //another bugfix: if we hit -Infinity mag, then we should return negative infinity, not 0. 0.layeradd10(-1) h its this\n                        if (result.sign === 0) {\n                            result.sign = 1;\n                        }\n                        //also this, for 0.layeradd10(-2)\n                        if (result.layer < 0) {\n                            result.layer = 0;\n                        }\n                        return result.normalize();\n                    }\n                    if (result.layer >= 0) {\n                        break;\n                    }\n                }\n            }\n        }\n\n        while (result.layer < 0) {\n            result.layer++;\n            result.mag = Math.log10(result.mag);\n        }\n        //bugfix: before we normalize: if we started with 0, we now need to manually fix a layer ourselves!\n        if (result.sign === 0) {\n            result.sign = 1;\n            if (result.mag === 0 && result.layer >= 1) {\n                result.layer -= 1;\n                result.mag = 1;\n            }\n        }\n        result.normalize();\n\n        //layeradd10: like adding 'diff' to the number's slog(base) representation. Very similar to tetrate base 10 and iterated log base 10. Also equivalent to adding a fractional amount to the number's layer in its break_eternity.js representation.\n        if (diff !== 0) {\n            return result.layeradd(diff, 10); //safe, only calls positive height 1 payload tetration, slog and log\n        }\n\n        return result;\n    }\n\n    //layeradd: like adding 'diff' to the number's slog(base) representation. Very similar to tetrate base 'base' and iterated log base 'base'.\n    public layeradd(diff: number, base: DecimalSource): Decimal {\n        const slogthis = this.slog(base).toNumber();\n        const slogdest = slogthis + diff;\n        if (slogdest >= 0) {\n            return Decimal.tetrate(base, slogdest);\n        } else if (!Number.isFinite(slogdest)) {\n            return Decimal.dNaN;\n        } else if (slogdest >= -1) {\n            return Decimal.log(Decimal.tetrate(base, slogdest + 1), base);\n        } else {\n            return Decimal.log(Decimal.log(Decimal.tetrate(base, slogdest + 2), base), base);\n        }\n    }\n\n    //The Lambert W function, also called the omega function or product logarithm, is the solution W(x) === x*e^x.\n    // https://en.wikipedia.org/wiki/Lambert_W_function\n    //Some special values, for testing: https://en.wikipedia.org/wiki/Lambert_W_function#Special_values\n    public lambertw(): Decimal {\n        if (this.lt(-0.3678794411710499)) {\n            throw Error(\"lambertw is unimplemented for results less than -1, sorry!\");\n        } else if (this.mag < 0) {\n            return D(f_lambertw(this.toNumber()));\n        } else if (this.layer === 0) {\n            return D(f_lambertw(this.sign * this.mag));\n        } else if (this.layer === 1) {\n            return d_lambertw(this);\n        } else if (this.layer === 2) {\n            return d_lambertw(this);\n        }\n        if (this.layer >= 3) {\n            return FC_NN(this.sign, this.layer - 1, this.mag);\n        }\n\n        throw \"Unhandled behavior in lambertw()\";\n    }\n\n    //The super square-root function - what number, tetrated to height 2, equals this?\n    //Other sroots are possible to calculate probably through guess and check methods, this one is easy though.\n    // https://en.wikipedia.org/wiki/Tetration#Super-root\n    public ssqrt(): Decimal {\n        if (this.sign == 1 && this.layer >= 3) {\n            return FC_NN(this.sign, this.layer - 1, this.mag);\n        }\n        const lnx = this.ln();\n        return lnx.div(lnx.lambertw());\n    }\n    /*\n\nUnit tests for tetrate/iteratedexp/iteratedlog/layeradd10/layeradd/slog:\n(note: these won't be exactly precise with the new slog implementation, but that's okay)\n\nfor (var i = 0; i < 1000; ++i)\n{\n  var first = Math.random()*100;\n  var both = Math.random()*100;\n  var expected = first+both+1;\n  var result = new Decimal(10).layeradd10(first).layeradd10(both).slog();\n  if (Number.isFinite(result.mag) && !Decimal.eq_tolerance(expected, result))\n  {\n      console.log(first + \", \" + both);\n  }\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\n  var first = Math.random()*100;\n  var both = Math.random()*100;\n  first += both;\n  var expected = first-both+1;\n  var result = new Decimal(10).layeradd10(first).layeradd10(-both).slog();\n  if (Number.isFinite(result.mag) && !Decimal.eq_tolerance(expected, result))\n  {\n      console.log(first + \", \" + both);\n  }\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\n  var first = Math.random()*100;\n  var both = Math.random()*100;\n  var base = Math.random()*8+2;\n  var expected = first+both+1;\n  var result = new Decimal(base).layeradd(first, base).layeradd(both, base).slog(base);\n  if (Number.isFinite(result.mag) && !Decimal.eq_tolerance(expected, result))\n  {\n      console.log(first + \", \" + both);\n  }\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\n  var first = Math.random()*100;\n  var both = Math.random()*100;\n  var base = Math.random()*8+2;\n  first += both;\n  var expected = first-both+1;\n  var result = new Decimal(base).layeradd(first, base).layeradd(-both, base).slog(base);\n  if (Number.isFinite(result.mag) && !Decimal.eq_tolerance(expected, result))\n  {\n      console.log(first + \", \" + both);\n  }\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\nvar first = Math.round((Math.random()*30))/10;\nvar both = Math.round((Math.random()*30))/10;\nvar tetrateonly = Decimal.tetrate(10, first);\nvar tetrateandlog = Decimal.tetrate(10, first+both).iteratedlog(10, both);\nif (!Decimal.eq_tolerance(tetrateonly, tetrateandlog))\n{\n  console.log(first + \", \" + both);\n}\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\nvar first = Math.round((Math.random()*30))/10;\nvar both = Math.round((Math.random()*30))/10;\nvar base = Math.random()*8+2;\nvar tetrateonly = Decimal.tetrate(base, first);\nvar tetrateandlog = Decimal.tetrate(base, first+both).iteratedlog(base, both);\nif (!Decimal.eq_tolerance(tetrateonly, tetrateandlog))\n{\n  console.log(first + \", \" + both);\n}\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\nvar first = Math.round((Math.random()*30))/10;\nvar both = Math.round((Math.random()*30))/10;\nvar base = Math.random()*8+2;\nvar tetrateonly = Decimal.tetrate(base, first, base);\nvar tetrateandlog = Decimal.tetrate(base, first+both, base).iteratedlog(base, both);\nif (!Decimal.eq_tolerance(tetrateonly, tetrateandlog))\n{\n  console.log(first + \", \" + both);\n}\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\n  var xex = new Decimal(-0.3678794411710499+Math.random()*100);\n  var x = Decimal.lambertw(xex);\n  if (!Decimal.eq_tolerance(xex, x.mul(Decimal.exp(x))))\n  {\n      console.log(xex);\n  }\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\n  var xex = new Decimal(-0.3678794411710499+Math.exp(Math.random()*100));\n  var x = Decimal.lambertw(xex);\n  if (!Decimal.eq_tolerance(xex, x.mul(Decimal.exp(x))))\n  {\n      console.log(xex);\n  }\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\n  var a = Decimal.randomDecimalForTesting(Math.random() > 0.5 ? 0 : 1);\n  var b = Decimal.randomDecimalForTesting(Math.random() > 0.5 ? 0 : 1);\n  if (Math.random() > 0.5) { a = a.recip(); }\n  if (Math.random() > 0.5) { b = b.recip(); }\n  var c = a.add(b).toNumber();\n  if (Number.isFinite(c) && !Decimal.eq_tolerance(c, a.toNumber()+b.toNumber()))\n  {\n      console.log(a + \", \" + b);\n  }\n}\n\nfor (var i = 0; i < 100; ++i)\n{\n  var a = Decimal.randomDecimalForTesting(Math.round(Math.random()*4));\n  var b = Decimal.randomDecimalForTesting(Math.round(Math.random()*4));\n  if (Math.random() > 0.5) { a = a.recip(); }\n  if (Math.random() > 0.5) { b = b.recip(); }\n  var c = a.mul(b).toNumber();\n  if (Number.isFinite(c) && Number.isFinite(a.toNumber()) && Number.isFinite(b.toNumber()) && a.toNumber() != 0 && b.toNumber() != 0 && c != 0 && !Decimal.eq_tolerance(c, a.toNumber()*b.toNumber()))\n  {\n      console.log(\"Test 1: \" + a + \", \" + b);\n  }\n  else if (!Decimal.mul(a.recip(), b.recip()).eq_tolerance(Decimal.mul(a, b).recip()))\n  {\n      console.log(\"Test 3: \" + a + \", \" + b);\n  }\n}\n\nfor (var i = 0; i < 10; ++i)\n{\n  var a = Decimal.randomDecimalForTesting(Math.round(Math.random()*4));\n  var b = Decimal.randomDecimalForTesting(Math.round(Math.random()*4));\n  if (Math.random() > 0.5 && a.sign !== 0) { a = a.recip(); }\n  if (Math.random() > 0.5 && b.sign !== 0) { b = b.recip(); }\n  var c = a.pow(b);\n  var d = a.root(b.recip());\n  var e = a.pow(b.recip());\n  var f = a.root(b);\n\n  if (!c.eq_tolerance(d) && a.sign !== 0 && b.sign !== 0)\n  {\n    console.log(\"Test 1: \" + a + \", \" + b);\n  }\n  if (!e.eq_tolerance(f) && a.sign !== 0 && b.sign !== 0)\n  {\n    console.log(\"Test 2: \" + a + \", \" + b);\n  }\n}\n\nfor (var i = 0; i < 10; ++i)\n{\n  var a = Math.round(Math.random()*18-9);\n  var b = Math.round(Math.random()*100-50);\n  var c = Math.round(Math.random()*18-9);\n  var d = Math.round(Math.random()*100-50);\n  console.log(\"Decimal.pow(Decimal.fromMantissaExponent(\" + a + \", \" + b + \"), Decimal.fromMantissaExponent(\" + c + \", \" + d + \")).toString()\");\n}\n\n*/\n\n    //Pentation/pentate: The result of tetrating 'height' times in a row. An absurdly strong operator - Decimal.pentate(2, 4.28) and Decimal.pentate(10, 2.37) are already too huge for break_eternity.js!\n    // https://en.wikipedia.org/wiki/Pentation\n    public pentate(height = 2, payload: DecimalSource = FC_NN(1, 0, 1)): Decimal {\n        payload = D(payload);\n        const oldheight = height;\n        height = Math.trunc(height);\n        const fracheight = oldheight - height;\n\n        //I have no idea if this is a meaningful approximation for pentation to continuous heights, but it is monotonic and continuous.\n        if (fracheight !== 0) {\n            if (payload.eq(Decimal.dOne)) {\n                ++height;\n                payload = new Decimal(fracheight);\n            } else {\n                if (this.eq(10)) {\n                    payload = payload.layeradd10(fracheight);\n                } else {\n                    payload = payload.layeradd(fracheight, this);\n                }\n            }\n        }\n\n        for (let i = 0; i < height; ++i) {\n            payload = this.tetrate(payload.toNumber());\n            //bail if we're NaN\n            if (!isFinite(payload.layer) || !isFinite(payload.mag)) {\n                return payload.normalize();\n            }\n            //give up after 10 iterations if nothing is happening\n            if (i > 10) {\n                return payload;\n            }\n        }\n\n        return payload;\n    }\n\n    // trig functions!\n    public sin(): this | Decimal {\n        if (this.mag < 0) {\n            return this;\n        }\n        if (this.layer === 0) {\n            return D(Math.sin(this.sign * this.mag));\n        }\n        return FC_NN(0, 0, 0);\n    }\n\n    public cos(): Decimal {\n        if (this.mag < 0) {\n            return Decimal.dOne;\n        }\n        if (this.layer === 0) {\n            return D(Math.cos(this.sign * this.mag));\n        }\n        return FC_NN(0, 0, 0);\n    }\n\n    public tan(): this | Decimal {\n        if (this.mag < 0) {\n            return this;\n        }\n        if (this.layer === 0) {\n            return D(Math.tan(this.sign * this.mag));\n        }\n        return FC_NN(0, 0, 0);\n    }\n\n    public asin(): this | Decimal {\n        if (this.mag < 0) {\n            return this;\n        }\n        if (this.layer === 0) {\n            return D(Math.asin(this.sign * this.mag));\n        }\n        return FC_NN(Number.NaN, Number.NaN, Number.NaN);\n    }\n\n    public acos(): Decimal {\n        if (this.mag < 0) {\n            return D(Math.acos(this.toNumber()));\n        }\n        if (this.layer === 0) {\n            return D(Math.acos(this.sign * this.mag));\n        }\n        return FC_NN(Number.NaN, Number.NaN, Number.NaN);\n    }\n\n    public atan(): this | Decimal {\n        if (this.mag < 0) {\n            return this;\n        }\n        if (this.layer === 0) {\n            return D(Math.atan(this.sign * this.mag));\n        }\n        return D(Math.atan(this.sign * 1.8e308));\n    }\n\n    public sinh(): Decimal {\n        return this.exp()\n            .sub(this.negate().exp())\n            .div(2);\n    }\n\n    public cosh(): Decimal {\n        return this.exp()\n            .add(this.negate().exp())\n            .div(2);\n    }\n\n    public tanh(): Decimal {\n        return this.sinh().div(this.cosh());\n    }\n\n    public asinh(): Decimal {\n        return Decimal.ln(\n            this.add(\n                this.sqr()\n                    .add(1)\n                    .sqrt()\n            )\n        );\n    }\n\n    public acosh(): Decimal {\n        return Decimal.ln(\n            this.add(\n                this.sqr()\n                    .sub(1)\n                    .sqrt()\n            )\n        );\n    }\n\n    public atanh(): Decimal {\n        if (this.abs().gte(1)) {\n            return FC_NN(Number.NaN, Number.NaN, Number.NaN);\n        }\n\n        return Decimal.ln(this.add(1).div(D(1).sub(this))).div(2);\n    }\n\n    /**\n     * Joke function from Realm Grinder\n     */\n    public ascensionPenalty(ascensions: DecimalSource): Decimal {\n        if (ascensions === 0) {\n            return this;\n        }\n\n        return this.root(Decimal.pow(10, ascensions));\n    }\n\n    /**\n     * Joke function from Cookie Clicker. It's 'egg'\n     */\n    public egg(): Decimal {\n        return this.add(9);\n    }\n\n    public lessThanOrEqualTo(other: DecimalSource): boolean {\n        return this.cmp(other) < 1;\n    }\n\n    public lessThan(other: DecimalSource): boolean {\n        return this.cmp(other) < 0;\n    }\n\n    public greaterThanOrEqualTo(other: DecimalSource): boolean {\n        return this.cmp(other) > -1;\n    }\n\n    public greaterThan(other: DecimalSource): boolean {\n        return this.cmp(other) > 0;\n    }\n\n    // return Decimal;\n}\n\n// return Decimal;\n","import Decimal, { DecimalSource } from \"lib/break_eternity\";\nimport projInfo from \"data/projInfo.json\";\n\nexport default Decimal;\n\nconst decimalOne = new Decimal(1);\n\nexport function exponentialFormat(num: DecimalSource, precision: number, mantissa = true): string {\n    let e = Decimal.log10(num).floor();\n    let m = Decimal.div(num, Decimal.pow(10, e));\n    if (m.toStringWithDecimalPlaces(precision) === \"10\") {\n        m = decimalOne;\n        e = e.add(1);\n    }\n    const eString = e.gte(1e9)\n        ? format(e, Math.max(Math.max(precision, 3), projInfo.defaultDecimalsShown))\n        : e.gte(10000)\n        ? commaFormat(e, 0)\n        : e.toStringWithDecimalPlaces(0);\n    if (mantissa) {\n        return m.toStringWithDecimalPlaces(precision) + \"e\" + eString;\n    } else {\n        return \"e\" + eString;\n    }\n}\n\nexport function commaFormat(num: DecimalSource, precision: number): string {\n    if (num === null || num === undefined) {\n        return \"NaN\";\n    }\n    num = new Decimal(num);\n    if (num.mag < 0.001) {\n        return (0).toFixed(precision);\n    }\n    const init = num.toStringWithDecimalPlaces(precision);\n    const portions = init.split(\".\");\n    portions[0] = portions[0].replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\n    if (portions.length == 1) return portions[0];\n    return portions[0] + \".\" + portions[1];\n}\n\nexport function regularFormat(num: DecimalSource, precision: number): string {\n    if (num === null || num === undefined) {\n        return \"NaN\";\n    }\n    num = new Decimal(num);\n    if (num.mag < 0.0001) {\n        return (0).toFixed(precision);\n    }\n    if (num.mag < 0.1 && precision !== 0) {\n        precision = Math.max(\n            Math.max(precision, num.log10().negate().ceil().toNumber()),\n            projInfo.defaultDecimalsShown\n        );\n    }\n    return num.toStringWithDecimalPlaces(precision);\n}\n\nconst eeee1000 = new Decimal(\"eeee1000\");\nconst e100000 = new Decimal(\"e100000\");\nconst e1000 = new Decimal(\"e1000\");\nconst e9 = new Decimal(1e9);\nconst e6 = new Decimal(1e6);\nconst e3 = new Decimal(1e3);\nconst nearOne = new Decimal(0.98);\nconst thousandth = new Decimal(0.001);\nconst zero = new Decimal(0);\nexport function format(num: DecimalSource, precision?: number, small?: boolean): string {\n    if (precision == null) precision = projInfo.defaultDecimalsShown;\n    small = small ?? projInfo.defaultShowSmall;\n    num = new Decimal(num);\n    if (isNaN(num.sign) || isNaN(num.layer) || isNaN(num.mag)) {\n        return \"NaN\";\n    }\n    if (num.sign < 0) {\n        return \"-\" + format(num.neg(), precision);\n    }\n    if (num.mag === Number.POSITIVE_INFINITY) {\n        return \"Infinity\";\n    }\n    if (num.gte(eeee1000)) {\n        const slog = num.slog();\n        if (slog.gte(e6)) {\n            return \"F\" + format(slog.floor());\n        } else {\n            return (\n                Decimal.pow(10, slog.sub(slog.floor())).toStringWithDecimalPlaces(3) +\n                \"F\" +\n                commaFormat(slog.floor(), 0)\n            );\n        }\n    } else if (num.gte(e100000)) {\n        return exponentialFormat(num, 0, false);\n    } else if (num.gte(e1000)) {\n        return exponentialFormat(num, 0);\n    } else if (num.gte(e9)) {\n        return exponentialFormat(num, precision);\n    } else if (num.gte(e3)) {\n        return commaFormat(num, 0);\n    } else if (num.gte(thousandth) || !small) {\n        return regularFormat(num, precision);\n    } else if (num.eq(zero)) {\n        return (0).toFixed(precision);\n    }\n\n    num = invertOOM(num);\n    if (num.lt(e1000)) {\n        const val = exponentialFormat(num, precision);\n        return val.replace(/([^(?:e|F)]*)$/, \"-$1\");\n    } else {\n        return format(num, precision) + \"⁻¹\";\n    }\n}\n\nexport function formatWhole(num: DecimalSource): string {\n    num = new Decimal(num);\n    if (num.sign < 0) {\n        return \"-\" + formatWhole(num.neg());\n    }\n    if (num.gte(e9)) {\n        return format(num);\n    }\n    if (num.lte(nearOne) && !num.eq(zero)) {\n        return format(num);\n    }\n    return format(num, 0);\n}\n\nexport function formatTime(seconds: DecimalSource): string {\n    if (Decimal.lt(seconds, 0)) {\n        return \"-\" + formatTime(Decimal.neg(seconds));\n    }\n    if (Decimal.gt(seconds, 2 ** 51)) {\n        // integer precision limit\n        return format(Decimal.div(seconds, 31536000)) + \"y\";\n    }\n    seconds = new Decimal(seconds).toNumber();\n    if (seconds < 60) {\n        return format(seconds) + \"s\";\n    } else if (seconds < 3600) {\n        return formatWhole(Math.floor(seconds / 60)) + \"m \" + format(seconds % 60) + \"s\";\n    } else if (seconds < 86400) {\n        return (\n            formatWhole(Math.floor(seconds / 3600)) +\n            \"h \" +\n            formatWhole(Math.floor(seconds / 60) % 60) +\n            \"m \" +\n            formatWhole(seconds % 60) +\n            \"s\"\n        );\n    } else if (seconds < 31536000) {\n        return (\n            formatWhole(Math.floor(seconds / 84600) % 365) +\n            \"d \" +\n            formatWhole(Math.floor(seconds / 3600) % 24) +\n            \"h \" +\n            formatWhole(Math.floor(seconds / 60) % 60) +\n            \"m\"\n        );\n    } else {\n        return (\n            formatWhole(Math.floor(seconds / 31536000)) +\n            \"y \" +\n            formatWhole(Math.floor(seconds / 84600) % 365) +\n            \"d \" +\n            formatWhole(Math.floor(seconds / 3600) % 24) +\n            \"h\"\n        );\n    }\n}\n\nexport function toPlaces(x: DecimalSource, precision: number, maxAccepted: DecimalSource): string {\n    x = new Decimal(x);\n    let result = x.toStringWithDecimalPlaces(precision);\n    if (new Decimal(result).gte(maxAccepted)) {\n        result = Decimal.sub(maxAccepted, Math.pow(0.1, precision)).toStringWithDecimalPlaces(\n            precision\n        );\n    }\n    return result;\n}\n\n// Will also display very small numbers\nexport function formatSmall(x: DecimalSource, precision?: number): string {\n    return format(x, precision, true);\n}\n\nexport function invertOOM(x: DecimalSource): Decimal {\n    let e = Decimal.log10(x).ceil();\n    const m = Decimal.div(x, Decimal.pow(10, e));\n    e = e.neg();\n    x = new Decimal(10).pow(e).times(m);\n\n    return x;\n}\n","export type WithRequired<T, K extends keyof T> = T & { [P in K]-?: T[P] };\n\n// Reference:\n// https://stackoverflow.com/questions/7225407/convert-camelcasetext-to-sentence-case-text\nexport function camelToTitle(camel: string): string {\n    let title = camel.replace(/([A-Z])/g, \" $1\");\n    title = title.charAt(0).toUpperCase() + title.slice(1);\n    return title;\n}\n\nexport function isPlainObject(object: unknown): boolean {\n    return Object.prototype.toString.call(object) === \"[object Object]\";\n}\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isFunction(func: unknown): func is Function {\n    return typeof func === \"function\";\n}\n\nexport enum Direction {\n    Up = \"Up\",\n    Down = \"Down\",\n    Left = \"Left\",\n    Right = \"Right\",\n    Default = \"Up\"\n}\n","import { computed, Ref } from \"vue\";\nimport { isFunction } from \"./common\";\n\nexport const DoNotCache = Symbol(\"DoNotCache\");\n\nexport type Computable<T> = T | Ref<T> | (() => T);\nexport type ProcessedComputable<T> = T | Ref<T>;\nexport type GetComputableType<T> = T extends { [DoNotCache]: true }\n    ? T\n    : T extends () => infer S\n    ? Ref<S>\n    : undefined extends T\n    ? undefined\n    : T;\nexport type GetComputableTypeWithDefault<T, S> = undefined extends T\n    ? S\n    : GetComputableType<NonNullable<T>>;\nexport type UnwrapComputableType<T> = T extends Ref<infer S> ? S : T extends () => infer S ? S : T;\n\nexport type ComputableKeysOf<T> = Pick<\n    T,\n    {\n        [K in keyof T]: T[K] extends Computable<unknown> ? K : never;\n    }[keyof T]\n>;\n\n// TODO fix the typing of this function, such that casting isn't necessary and can be used to\n// detect if a createX function is validly written\nexport function processComputable<T, S extends keyof ComputableKeysOf<T>>(\n    obj: T,\n    key: S\n): asserts obj is T & { [K in S]: ProcessedComputable<UnwrapComputableType<T[S]>> } {\n    const computable = obj[key];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (isFunction(computable) && computable.length === 0 && !(computable as any)[DoNotCache]) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        obj[key] = computed(computable.bind(obj));\n    }\n}\n\nexport function convertComputable<T>(obj: Computable<T>): ProcessedComputable<T> {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (isFunction(obj) && !(obj as any)[DoNotCache]) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        obj = computed(obj);\n    }\n    return obj as ProcessedComputable<T>;\n}\n","import Decimal from \"./bignum\";\n\nexport const ProxyState = Symbol(\"ProxyState\");\nexport const ProxyPath = Symbol(\"ProxyPath\");\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type ProxiedWithState<T> = NonNullable<T> extends Record<PropertyKey, any>\n    ? NonNullable<T> extends Decimal\n        ? T\n        : {\n              [K in keyof T]: ProxiedWithState<T[K]>;\n          } & {\n              [ProxyState]: T;\n              [ProxyPath]: string[];\n          }\n    : T;\n\n// Takes a function that returns an object and pretends to be that object\n// Note that the object is lazily calculated\nexport function createLazyProxy<T extends object, S>(\n    objectFunc: (baseObject: S) => T & S,\n    baseObject: S = {} as S\n): T {\n    const obj: S & Partial<T> = baseObject;\n    let calculated = false;\n    function calculateObj(): T {\n        if (!calculated) {\n            Object.assign(obj, objectFunc(obj));\n            calculated = true;\n        }\n        return obj as S & T;\n    }\n\n    return new Proxy(obj, {\n        get(target, key) {\n            if (key === ProxyState) {\n                return calculateObj();\n            }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return (calculateObj() as any)[key];\n        },\n        set(target, key, value) {\n            // TODO give warning about this? It should only be done with caution\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            (calculateObj() as any)[key] = value;\n            return true;\n        },\n        has(target, key) {\n            if (key === ProxyState) {\n                return true;\n            }\n            return Reflect.has(calculateObj(), key);\n        },\n        ownKeys() {\n            return Reflect.ownKeys(calculateObj());\n        },\n        getOwnPropertyDescriptor(target, key) {\n            if (!calculated) {\n                Object.assign(obj, objectFunc(obj));\n                calculated = true;\n            }\n            return Object.getOwnPropertyDescriptor(target, key);\n        }\n    }) as S & T;\n}\n","import projInfo from \"data/projInfo.json\";\nimport player, { Player, PlayerData, stringifySave } from \"game/player\";\nimport settings, { loadSettings } from \"game/settings\";\nimport { ProxyState } from \"./proxies\";\nimport LZString from \"lz-string\";\n\nexport function setupInitialStore(player: Partial<PlayerData> = {}): Player {\n    return Object.assign(\n        {\n            id: `${projInfo.id}-0`,\n            name: \"Default Save\",\n            tabs: projInfo.initialTabs.slice(),\n            time: Date.now(),\n            autosave: true,\n            offlineProd: true,\n            offlineTime: 0,\n            timePlayed: 0,\n            keepGoing: false,\n            modID: projInfo.id,\n            modVersion: projInfo.versionNumber,\n            layers: {}\n        },\n        player\n    ) as Player;\n}\n\nexport function save(playerData?: PlayerData): string {\n    const stringifiedSave = LZString.compressToUTF16(\n        stringifySave(playerData ?? player[ProxyState])\n    );\n    localStorage.setItem((playerData ?? player[ProxyState]).id, stringifiedSave);\n    return stringifiedSave;\n}\n\nexport async function load(): Promise<void> {\n    // Load global settings\n    loadSettings();\n\n    try {\n        let save = localStorage.getItem(settings.active);\n        if (save == null) {\n            await loadSave(newSave());\n            return;\n        }\n        if (save[0] === \"{\") {\n            // plaintext. No processing needed\n        } else if (save[0] === \"e\") {\n            // Assumed to be base64, which starts with e\n            save = decodeURIComponent(escape(atob(save)));\n        } else if (save[0] === \"ᯡ\") {\n            // Assumed to be lz, which starts with ᯡ\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            save = LZString.decompressFromUTF16(save)!;\n        } else {\n            throw `Unable to determine save encoding`;\n        }\n        const player = JSON.parse(save);\n        if (player.modID !== projInfo.id) {\n            await loadSave(newSave());\n            return;\n        }\n        player.id = settings.active;\n        await loadSave(player);\n    } catch (e) {\n        console.error(\"Failed to load save. Falling back to new save.\\n\", e);\n        await loadSave(newSave());\n    }\n}\n\nexport function newSave(): PlayerData {\n    const id = getUniqueID();\n    const player = setupInitialStore({ id });\n    save(player);\n\n    settings.saves.push(id);\n\n    return player;\n}\n\nexport function getUniqueID(): string {\n    let id,\n        i = 0;\n    do {\n        id = `${projInfo.id}-${i++}`;\n    } while (localStorage.getItem(id));\n    return id;\n}\n\nexport async function loadSave(playerObj: Partial<PlayerData>): Promise<void> {\n    console.info(\"Loading save\", playerObj);\n    const { layers, removeLayer, addLayer } = await import(\"game/layers\");\n    const { fixOldSave, getInitialLayers } = await import(\"data/projEntry\");\n\n    for (const layer in layers) {\n        const l = layers[layer];\n        if (l) {\n            removeLayer(l);\n        }\n    }\n    getInitialLayers(playerObj).forEach(layer => addLayer(layer, playerObj));\n\n    playerObj = setupInitialStore(playerObj);\n    if (playerObj.offlineProd && playerObj.time) {\n        if (playerObj.offlineTime == undefined) playerObj.offlineTime = 0;\n        playerObj.offlineTime += (Date.now() - playerObj.time) / 1000;\n    }\n    playerObj.time = Date.now();\n    if (playerObj.modVersion !== projInfo.versionNumber) {\n        fixOldSave(playerObj.modVersion, playerObj);\n    }\n\n    Object.assign(player, playerObj);\n    settings.active = player.id;\n}\n\nsetInterval(() => {\n    if (player.autosave) {\n        save();\n    }\n}, 1000);\nwindow.onbeforeunload = () => {\n    if (player.autosave) {\n        save();\n    }\n};\nwindow.save = save;\nexport const hardReset = (window.hardReset = async () => {\n    await loadSave(newSave());\n});\n","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    width: { default: \"8px\" },\n    height: { default: \"17px\" }\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    style: _normalizeStyle({ width: __props.width, height: __props.height })\n  }, null, 4))\n}\n}\n\n})","import script from \"./Spacer.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Spacer.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    ref: \"resizeListener\",\n    class: _normalizeClass([\"resize-listener\", _ctx.unref(_ctx.classes)]),\n    style: _normalizeStyle(_ctx.unref(_ctx.style))\n  }, null, 6))\n}","\nimport { StyleValue } from \"features/feature\";\nimport { FeatureNode, NodesInjectionKey } from \"game/layers\";\nimport { Application } from \"pixi.js\";\nimport { processedPropType } from \"util/vue\";\nimport {\n    defineComponent,\n    inject,\n    nextTick,\n    onBeforeUnmount,\n    onMounted,\n    PropType,\n    ref,\n    unref\n} from \"vue\";\n\n// TODO get typing support on the Particles component\nexport default defineComponent({\n    props: {\n        style: processedPropType<StyleValue>(String, Object, Array),\n        classes: processedPropType<Record<string, boolean>>(Object),\n        onInit: {\n            type: Function as PropType<(app: Application) => void>,\n            required: true\n        },\n        id: {\n            type: String,\n            required: true\n        },\n        onContainerResized: Function as PropType<(rect: DOMRect) => void>,\n        onHotReload: Function as PropType<VoidFunction>\n    },\n    setup(props) {\n        const app = ref<null | Application>(null);\n\n        const resizeObserver = new ResizeObserver(updateBounds);\n\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const nodes = inject(NodesInjectionKey)!;\n\n        const resizeListener = ref<HTMLElement | null>(null);\n\n        onMounted(() => {\n            // ResizeListener exists because ResizeObserver's don't work when told to observe an SVG element\n            const resListener = resizeListener.value;\n            if (resListener != null) {\n                resizeObserver.observe(resListener);\n                app.value = new Application({\n                    resizeTo: resListener,\n                    backgroundAlpha: 0\n                });\n                resizeListener.value?.appendChild(app.value.view);\n                props.onInit(app.value as Application);\n            }\n            updateBounds();\n            if (module.hot?.status() === \"apply\" && props.onHotReload) {\n                nextTick(props.onHotReload);\n            }\n        });\n        onBeforeUnmount(() => {\n            app.value?.destroy();\n        });\n\n        let isDirty = true;\n        function updateBounds() {\n            if (isDirty) {\n                isDirty = false;\n                nextTick(() => {\n                    if (resizeListener.value != null && props.onContainerResized) {\n                        // TODO don't overlap with Links.vue\n                        (Object.values(nodes.value).filter(n => n) as FeatureNode[]).forEach(\n                            node => (node.rect = node.element.getBoundingClientRect())\n                        );\n                        props.onContainerResized(resizeListener.value.getBoundingClientRect());\n                        app.value?.resize();\n                    }\n                    isDirty = true;\n                });\n            }\n        }\n        document.fonts.ready.then(updateBounds);\n\n        return {\n            unref,\n            resizeListener\n        };\n    }\n});\n","import { render } from \"./Particles.vue?vue&type=template&id=c6c07f60&scoped=true&ts=true\"\nimport script from \"./Particles.vue?vue&type=script&lang=tsx\"\nexport * from \"./Particles.vue?vue&type=script&lang=tsx\"\n\nimport \"./Particles.vue?vue&type=style&index=0&id=c6c07f60&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c6c07f60\"]])\n\nexport default __exports__","import ParticlesComponent from \"features/particles/Particles.vue\";\nimport { Ref, shallowRef, unref } from \"vue\";\nimport {\n    Component,\n    OptionsFunc,\n    GatherProps,\n    getUniqueID,\n    Replace,\n    StyleValue\n} from \"features/feature\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { Application } from \"pixi.js\";\nimport { Emitter, EmitterConfigV3, upgradeConfig } from \"@pixi/particle-emitter\";\nimport { Computable, GetComputableType } from \"util/computed\";\n\nexport const ParticlesType = Symbol(\"Particles\");\n\nexport interface ParticlesOptions {\n    classes?: Computable<Record<string, boolean>>;\n    style?: Computable<StyleValue>;\n    onContainerResized?: (boundingRect: DOMRect) => void;\n    onHotReload?: VoidFunction;\n}\n\nexport interface BaseParticles {\n    id: string;\n    app: Ref<null | Application>;\n    addEmitter: (config: EmitterConfigV3) => Promise<Emitter>;\n    type: typeof ParticlesType;\n    [Component]: typeof ParticlesComponent;\n    [GatherProps]: () => Record<string, unknown>;\n}\n\nexport type Particles<T extends ParticlesOptions> = Replace<\n    T & BaseParticles,\n    {\n        classes: GetComputableType<T[\"classes\"]>;\n        style: GetComputableType<T[\"style\"]>;\n    }\n>;\n\nexport type GenericParticles = Particles<ParticlesOptions>;\n\nexport function createParticles<T extends ParticlesOptions>(\n    optionsFunc?: OptionsFunc<T, Particles<T>, BaseParticles>\n): Particles<T> {\n    return createLazyProxy(() => {\n        const particles = optionsFunc?.() ?? ({} as ReturnType<NonNullable<typeof optionsFunc>>);\n        particles.id = getUniqueID(\"particles-\");\n        particles.type = ParticlesType;\n        particles[Component] = ParticlesComponent;\n\n        particles.app = shallowRef(null);\n        particles.addEmitter = (config: EmitterConfigV3): Promise<Emitter> => {\n            const genericParticles = particles as GenericParticles;\n            if (genericParticles.app.value) {\n                return Promise.resolve(new Emitter(genericParticles.app.value.stage, config));\n            }\n            return new Promise<Emitter>(resolve => {\n                emittersToAdd.push({ resolve, config });\n            });\n        };\n\n        let emittersToAdd: {\n            resolve: (value: Emitter | PromiseLike<Emitter>) => void;\n            config: EmitterConfigV3;\n        }[] = [];\n\n        function onInit(app: Application) {\n            (particles as GenericParticles).app.value = app;\n            emittersToAdd.forEach(({ resolve, config }) => resolve(new Emitter(app.stage, config)));\n            emittersToAdd = [];\n        }\n\n        particles.onContainerResized = particles.onContainerResized?.bind(particles);\n\n        particles[GatherProps] = function (this: GenericParticles) {\n            const { id, style, classes, onContainerResized, onHotReload } = this;\n            return {\n                id,\n                style: unref(style),\n                classes,\n                onContainerResized,\n                onHotReload,\n                onInit\n            };\n        };\n\n        return particles as unknown as Particles<T>;\n    });\n}\n\ndeclare global {\n    interface Window {\n        upgradeConfig: typeof upgradeConfig;\n    }\n}\nwindow.upgradeConfig = upgradeConfig;\n","import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6f164fe2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"disabled\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_MarkNode = _resolveComponent(\"MarkNode\")!\n  const _component_Node = _resolveComponent(\"Node\")!\n\n  return (_ctx.unref(_ctx.visibility) !== _ctx.Visibility.None)\n    ? (_openBlock(), _createElementBlock(\"button\", {\n        key: 0,\n        style: _normalizeStyle([\n            {\n                visibility: _ctx.unref(_ctx.visibility) === _ctx.Visibility.Hidden ? 'hidden' : undefined\n            },\n            _ctx.unref(_ctx.style) ?? {}\n        ]),\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.purchase && _ctx.purchase(...args))),\n        class: _normalizeClass({\n            feature: true,\n            upgrade: true,\n            can: _ctx.unref(_ctx.canPurchase),\n            locked: !_ctx.unref(_ctx.canPurchase),\n            bought: _ctx.unref(_ctx.bought),\n            ..._ctx.unref(_ctx.classes)\n        }),\n        disabled: !_ctx.unref(_ctx.canPurchase)\n      }, [\n        (_ctx.unref(_ctx.component))\n          ? (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.unref(_ctx.component)), { key: 0 }))\n          : _createCommentVNode(\"\", true),\n        _createVNode(_component_MarkNode, {\n          mark: _ctx.unref(_ctx.mark)\n        }, null, 8, [\"mark\"]),\n        _createVNode(_component_Node, { id: _ctx.id }, null, 8, [\"id\"])\n      ], 14, _hoisted_1))\n    : _createCommentVNode(\"\", true)\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { RegisterNodeInjectionKey, UnregisterNodeInjectionKey } from \"game/layers\";\nimport { computed, inject, onUnmounted, ref, toRefs, unref, watch } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    id: null\n  },\n  setup(__props: any) {\n\nconst _props = __props as { id: string }\n\n\nconst props = toRefs(_props);\n\nconst register = inject(RegisterNodeInjectionKey);\nconst unregister = inject(UnregisterNodeInjectionKey);\n\nconst node = ref<HTMLElement | null>(null);\nconst parentNode = computed(() => node.value && node.value.parentElement);\n\nif (register && unregister) {\n    watch([parentNode, props.id], ([newNode, newID], [prevNode, prevID]) => {\n        if (prevNode) {\n            unregister(unref(prevID));\n        }\n        if (newNode) {\n            register(newID, newNode);\n        }\n    });\n\n    onUnmounted(() => unregister(unref(props.id)));\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"node\",\n    ref_key: \"node\",\n    ref: node\n  }, null, 512))\n}\n}\n\n})","import script from \"./Node.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Node.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Node.vue?vue&type=style&index=0&id=63ded336&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-63ded336\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-c476c56a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"mark star\"\n}\nconst _hoisted_3 = [\"src\"]\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    mark: { type: [Boolean, String] }\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.mark)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        (__props.mark === true)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2))\n          : (_openBlock(), _createElementBlock(\"img\", {\n              key: 1,\n              class: \"mark\",\n              src: __props.mark\n            }, null, 8, _hoisted_3))\n      ]))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./MarkNode.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MarkNode.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./MarkNode.vue?vue&type=style&index=0&id=c476c56a&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c476c56a\"]])\n\nexport default __exports__","import Decimal, { DecimalSource, format, formatWhole } from \"util/bignum\";\nimport { computed, ComputedRef, isRef, ref, Ref, watch } from \"vue\";\nimport { globalBus } from \"game/events\";\nimport { State, persistent } from \"game/persistence\";\n\nexport interface Resource<T = DecimalSource> extends Ref<T> {\n    displayName: string;\n    precision: number;\n    small?: boolean;\n}\n\nexport function createResource<T extends State>(\n    defaultValue: T | Ref<T>,\n    displayName = \"points\",\n    precision = 0,\n    small = undefined\n): Resource<T> {\n    const resource: Partial<Resource<T>> = isRef(defaultValue)\n        ? defaultValue\n        : persistent(defaultValue);\n    resource.displayName = displayName;\n    resource.precision = precision;\n    resource.small = small;\n    return resource as Resource<T>;\n}\n\nexport function trackBest(resource: Resource): Ref<DecimalSource> {\n    const best = persistent(resource.value);\n    watch(resource, amount => {\n        if (Decimal.gt(amount, best.value)) {\n            best.value = amount;\n        }\n    });\n    return best;\n}\n\nexport function trackTotal(resource: Resource): Ref<DecimalSource> {\n    const total = persistent(resource.value);\n    watch(resource, (amount, prevAmount) => {\n        if (Decimal.gt(amount, prevAmount)) {\n            total.value = Decimal.add(total.value, Decimal.sub(amount, prevAmount));\n        }\n    });\n    return total;\n}\n\nconst tetra8 = new Decimal(\"10^^8\");\nconst e100 = new Decimal(\"1e100\");\nexport function trackOOMPS(\n    resource: Resource,\n    pointGain?: ComputedRef<DecimalSource>\n): Ref<string> {\n    const oomps = ref<DecimalSource>(0);\n    const oompsMag = ref(0);\n    const lastPoints = ref<DecimalSource>(0);\n\n    globalBus.on(\"update\", diff => {\n        oompsMag.value = 0;\n        if (Decimal.lte(resource.value, e100)) {\n            lastPoints.value = resource.value;\n            return;\n        }\n\n        let curr = resource.value;\n        let prev = lastPoints.value;\n        lastPoints.value = curr;\n        if (Decimal.gt(curr, prev)) {\n            if (Decimal.gte(curr, tetra8)) {\n                curr = Decimal.slog(curr, 1e10);\n                prev = Decimal.slog(prev, 1e10);\n                oomps.value = curr.sub(prev).div(diff);\n                oompsMag.value = -1;\n            } else {\n                while (\n                    Decimal.div(curr, prev).log(10).div(diff).gte(\"100\") &&\n                    oompsMag.value <= 5 &&\n                    Decimal.gt(prev, 0)\n                ) {\n                    curr = Decimal.log10(curr);\n                    prev = Decimal.log10(prev);\n                    oomps.value = curr.sub(prev).div(diff);\n                    oompsMag.value++;\n                }\n            }\n        }\n    });\n\n    const oompsString = computed(() => {\n        if (oompsMag.value === 0) {\n            return pointGain\n                ? format(pointGain.value, resource.precision, resource.small) +\n                      \" \" +\n                      resource.displayName +\n                      \"/s\"\n                : \"\";\n        }\n        return (\n            format(oomps.value) +\n            \" OOM\" +\n            (oompsMag.value < 0 ? \"^OOM\" : \"^\" + oompsMag.value) +\n            \"s/sec\"\n        );\n    });\n    return oompsString;\n}\n\nexport function displayResource(resource: Resource, overrideAmount?: DecimalSource): string {\n    const amount = overrideAmount ?? resource.value;\n    if (Decimal.eq(resource.precision, 0)) {\n        return formatWhole(amount);\n    }\n    return format(amount, resource.precision, resource.small);\n}\n","\nimport \"components/common/features.css\";\nimport Node from \"components/Node.vue\";\nimport MarkNode from \"components/MarkNode.vue\";\nimport { jsx, StyleValue, Visibility } from \"features/feature\";\nimport { displayResource, Resource } from \"features/resources/resource\";\nimport { GenericUpgrade } from \"features/upgrades/upgrade\";\nimport { DecimalSource } from \"util/bignum\";\nimport { coerceComponent, isCoercableComponent, processedPropType, unwrapRef } from \"util/vue\";\nimport {\n    Component,\n    defineComponent,\n    PropType,\n    shallowRef,\n    toRefs,\n    unref,\n    UnwrapRef,\n    watchEffect\n} from \"vue\";\n\nexport default defineComponent({\n    props: {\n        display: {\n            type: processedPropType<UnwrapRef<GenericUpgrade[\"display\"]>>(String, Object, Function),\n            required: true\n        },\n        visibility: {\n            type: processedPropType<Visibility>(Number),\n            required: true\n        },\n        style: processedPropType<StyleValue>(String, Object, Array),\n        classes: processedPropType<Record<string, boolean>>(Object),\n        resource: Object as PropType<Resource>,\n        cost: processedPropType<DecimalSource>(String, Object, Number),\n        canPurchase: {\n            type: processedPropType<boolean>(Boolean),\n            required: true\n        },\n        bought: {\n            type: processedPropType<boolean>(Boolean),\n            required: true\n        },\n        mark: processedPropType<boolean | string>(Boolean, String),\n        id: {\n            type: String,\n            required: true\n        },\n        purchase: {\n            type: Function as PropType<VoidFunction>,\n            required: true\n        }\n    },\n    components: {\n        Node,\n        MarkNode\n    },\n    setup(props) {\n        const { display, cost } = toRefs(props);\n\n        const component = shallowRef<Component | string>(\"\");\n\n        watchEffect(() => {\n            const currDisplay = unwrapRef(display);\n            if (currDisplay == null) {\n                component.value = \"\";\n                return;\n            }\n            if (isCoercableComponent(currDisplay)) {\n                component.value = coerceComponent(currDisplay);\n                return;\n            }\n            const currCost = unwrapRef(cost);\n            const Title = coerceComponent(currDisplay.title || \"\", \"h3\");\n            const Description = coerceComponent(currDisplay.description, \"div\");\n            const EffectDisplay = coerceComponent(currDisplay.effectDisplay || \"\");\n            component.value = coerceComponent(\n                jsx(() => (\n                    <span>\n                        {currDisplay.title ? (\n                            <div>\n                                <Title />\n                            </div>\n                        ) : null}\n                        <Description />\n                        {currDisplay.effectDisplay ? (\n                            <div>\n                                Currently: <EffectDisplay />\n                            </div>\n                        ) : null}\n                        {props.resource != null ? (\n                            <>\n                                <br />\n                                Cost: {props.resource &&\n                                    displayResource(props.resource, currCost)}{\" \"}\n                                {props.resource?.displayName}\n                            </>\n                        ) : null}\n                    </span>\n                ))\n            );\n        });\n\n        return {\n            component,\n            unref,\n            Visibility\n        };\n    }\n});\n","import { render } from \"./Upgrade.vue?vue&type=template&id=6f164fe2&scoped=true&ts=true\"\nimport script from \"./Upgrade.vue?vue&type=script&lang=tsx\"\nexport * from \"./Upgrade.vue?vue&type=script&lang=tsx\"\n\nimport \"./Upgrade.vue?vue&type=style&index=0&id=6f164fe2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6f164fe2\"]])\n\nexport default __exports__","import UpgradeComponent from \"features/upgrades/Upgrade.vue\";\nimport {\n    CoercableComponent,\n    Component,\n    OptionsFunc,\n    findFeatures,\n    GatherProps,\n    getUniqueID,\n    Replace,\n    setDefault,\n    StyleValue,\n    Visibility\n} from \"features/feature\";\nimport { Resource } from \"features/resources/resource\";\nimport { GenericLayer } from \"game/layers\";\nimport Decimal, { DecimalSource } from \"util/bignum\";\nimport { isFunction } from \"util/common\";\nimport {\n    Computable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { computed, Ref, unref } from \"vue\";\nimport { persistent, Persistent } from \"game/persistence\";\n\nexport const UpgradeType = Symbol(\"Upgrade\");\n\nexport interface UpgradeOptions {\n    visibility?: Computable<Visibility>;\n    classes?: Computable<Record<string, boolean>>;\n    style?: Computable<StyleValue>;\n    display?: Computable<\n        | CoercableComponent\n        | {\n              title?: CoercableComponent;\n              description: CoercableComponent;\n              effectDisplay?: CoercableComponent;\n          }\n    >;\n    mark?: Computable<boolean | string>;\n    cost?: Computable<DecimalSource>;\n    resource?: Resource;\n    canAfford?: Computable<boolean>;\n    onPurchase?: VoidFunction;\n}\n\nexport interface BaseUpgrade {\n    id: string;\n    bought: Persistent<boolean>;\n    canPurchase: Ref<boolean>;\n    purchase: VoidFunction;\n    type: typeof UpgradeType;\n    [Component]: typeof UpgradeComponent;\n    [GatherProps]: () => Record<string, unknown>;\n}\n\nexport type Upgrade<T extends UpgradeOptions> = Replace<\n    T & BaseUpgrade,\n    {\n        visibility: GetComputableTypeWithDefault<T[\"visibility\"], Visibility.Visible>;\n        classes: GetComputableType<T[\"classes\"]>;\n        style: GetComputableType<T[\"style\"]>;\n        display: GetComputableType<T[\"display\"]>;\n        mark: GetComputableType<T[\"mark\"]>;\n        cost: GetComputableType<T[\"cost\"]>;\n        canAfford: GetComputableTypeWithDefault<T[\"canAfford\"], Ref<boolean>>;\n    }\n>;\n\nexport type GenericUpgrade = Replace<\n    Upgrade<UpgradeOptions>,\n    {\n        visibility: ProcessedComputable<Visibility>;\n        canPurchase: ProcessedComputable<boolean>;\n    }\n>;\n\nexport function createUpgrade<T extends UpgradeOptions>(\n    optionsFunc: OptionsFunc<T, Upgrade<T>, BaseUpgrade>\n): Upgrade<T> {\n    const bought = persistent<boolean>(false);\n    return createLazyProxy(() => {\n        const upgrade = optionsFunc();\n        upgrade.id = getUniqueID(\"upgrade-\");\n        upgrade.type = UpgradeType;\n        upgrade[Component] = UpgradeComponent;\n\n        if (upgrade.canAfford == null && (upgrade.resource == null || upgrade.cost == null)) {\n            console.warn(\n                \"Error: can't create upgrade without a canAfford property or a resource and cost property\",\n                upgrade\n            );\n        }\n\n        upgrade.bought = bought;\n        if (upgrade.canAfford == null) {\n            upgrade.canAfford = computed(() => {\n                const genericUpgrade = upgrade as GenericUpgrade;\n                return (\n                    genericUpgrade.resource != null &&\n                    genericUpgrade.cost != null &&\n                    Decimal.gte(genericUpgrade.resource.value, unref(genericUpgrade.cost))\n                );\n            });\n        } else {\n            processComputable(upgrade as T, \"canAfford\");\n        }\n        upgrade.canPurchase = computed(\n            () =>\n                unref((upgrade as GenericUpgrade).visibility) === Visibility.Visible &&\n                unref((upgrade as GenericUpgrade).canAfford) &&\n                !unref(upgrade.bought)\n        );\n        upgrade.purchase = function () {\n            const genericUpgrade = upgrade as GenericUpgrade;\n            if (!unref(genericUpgrade.canPurchase)) {\n                return;\n            }\n            if (genericUpgrade.resource != null && genericUpgrade.cost != null) {\n                genericUpgrade.resource.value = Decimal.sub(\n                    genericUpgrade.resource.value,\n                    unref(genericUpgrade.cost)\n                );\n            }\n            bought.value = true;\n            genericUpgrade.onPurchase?.();\n        };\n\n        processComputable(upgrade as T, \"visibility\");\n        setDefault(upgrade, \"visibility\", Visibility.Visible);\n        processComputable(upgrade as T, \"classes\");\n        processComputable(upgrade as T, \"style\");\n        processComputable(upgrade as T, \"display\");\n        processComputable(upgrade as T, \"mark\");\n        processComputable(upgrade as T, \"cost\");\n        processComputable(upgrade as T, \"resource\");\n\n        upgrade[GatherProps] = function (this: GenericUpgrade) {\n            const {\n                display,\n                visibility,\n                style,\n                classes,\n                resource,\n                cost,\n                canPurchase,\n                bought,\n                mark,\n                id,\n                purchase\n            } = this;\n            return {\n                display,\n                visibility,\n                style: unref(style),\n                classes,\n                resource,\n                cost,\n                canPurchase,\n                bought,\n                mark,\n                id,\n                purchase\n            };\n        };\n\n        return upgrade as unknown as Upgrade<T>;\n    });\n}\n\nexport function setupAutoPurchase(\n    layer: GenericLayer,\n    autoActive: Computable<boolean>,\n    upgrades: GenericUpgrade[] = []\n): void {\n    upgrades = upgrades || findFeatures(layer, UpgradeType);\n    const isAutoActive = isFunction(autoActive) ? computed(autoActive) : autoActive;\n    layer.on(\"update\", () => {\n        if (unref(isAutoActive)) {\n            upgrades.forEach(upgrade => upgrade.purchase());\n        }\n    });\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, Teleport as _Teleport, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-42646e22\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  class: \"modal-mask\",\n  style: {\"z-index\":\"10\",\"background-color\":\"var(--raised-background)\",\"top\":\"50px\"}\n}\nconst _hoisted_2 = { class: \"cutscene-positioner\" }\nconst _hoisted_3 = { class: \"modal-container cutscene-container\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"paper-background\" }, null, -1))\nconst _hoisted_5 = { class: \"content\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"caption\"\n}\nconst _hoisted_7 = { style: {\"display\":\"none\"} }\nconst _hoisted_8 = { id: \"wavy2\" }\nconst _hoisted_9 = [\"seed\"]\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"feDisplacementMap\", {\n  in: \"SourceGraphic\",\n  scale: \"20\"\n}, null, -1))\n\nimport { CoercableComponent } from \"features/feature\";\nimport { computeComponent, computeOptionalComponent } from \"util/vue\";\nimport { ref, toRef, watch } from \"vue\";\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    stage: null,\n    caption: null\n  },\n  emits: [\"next\"],\n  setup(__props: any, { emit }: { emit: ({\n    (event: \"next\"): void;\n}), expose: any, slots: any, attrs: any }) {\n\nconst props = __props as {\n    stage: CoercableComponent;\n    caption?: CoercableComponent;\n}\n\n\nconst stage = toRef(props, \"stage\");\nconst caption = toRef(props, \"caption\");\n\n\n\nconst seedToUse = ref<number>(1);\nwatch([stage, caption], () => seedToUse.value++);\n\nconst stageComp = computeComponent(stage);\nconst captionComp = computeOptionalComponent(caption);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_Teleport, { to: \"#modal-root\" }, [\n    _createVNode(_Transition, { name: \"cutscene-modal\" }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_1, [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createElementVNode(\"div\", _hoisted_3, [\n              _hoisted_4,\n              _createElementVNode(\"div\", _hoisted_5, [\n                (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(stageComp)))),\n                (_unref(captionComp))\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                      (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(captionComp))))\n                    ]))\n                  : _createCommentVNode(\"\", true)\n              ]),\n              _createElementVNode(\"button\", {\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (emit('next'))),\n                class: \"button next\"\n              }, \"Next\")\n            ]),\n            (_openBlock(), _createElementBlock(\"svg\", _hoisted_7, [\n              _createElementVNode(\"filter\", _hoisted_8, [\n                _createElementVNode(\"feTurbulence\", {\n                  x: \"-50vw\",\n                  y: \"-50vh\",\n                  width: \"200vw\",\n                  height: \"200vh\",\n                  baseFrequency: \"0.015\",\n                  numOctaves: \"10\",\n                  seed: seedToUse.value\n                }, null, 8, _hoisted_9),\n                _hoisted_10\n              ])\n            ]))\n          ])\n        ])\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","import script from \"./Cutscene.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Cutscene.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Cutscene.vue?vue&type=style&index=0&id=42646e22&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-42646e22\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, unref as _unref, isRef as _isRef, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, normalizeClass as _normalizeClass, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-38661d49\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"field\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"field-title\"\n}\nconst _hoisted_3 = [\"min\", \"max\"]\n\nimport { computed, toRefs, unref } from \"vue\";\nimport Tooltip from \"features/tooltips/Tooltip.vue\";\nimport \"components/common/fields.css\";\nimport { Direction } from \"util/common\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    title: null,\n    modelValue: null,\n    min: null,\n    max: null\n  },\n  emits: [\"update:modelValue\"],\n  setup(__props: any, { emit }: { emit: ({\n    (e: \"update:modelValue\", value: number): void;\n}), expose: any, slots: any, attrs: any }) {\n\nconst _props = __props as {\n    title?: string;\n    modelValue?: number;\n    min?: number;\n    max?: number;\n}\n\n\nconst props = toRefs(_props);\n\n\nconst value = computed({\n    get() {\n        return String(unref(props.modelValue) || 0);\n    },\n    set(value: string) {\n        emit(\"update:modelValue\", Number(value));\n    }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (__props.title)\n      ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, _toDisplayString(__props.title), 1))\n      : _createCommentVNode(\"\", true),\n    _createVNode(Tooltip, {\n      display: `${_unref(value)}`,\n      class: _normalizeClass({ fullWidth: !__props.title }),\n      direction: _unref(Direction).Down\n    }, {\n      default: _withCtx(() => [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"range\",\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(value) ? (value).value = $event : null)),\n          min: __props.min,\n          max: __props.max\n        }, null, 8, _hoisted_3), [\n          [_vModelText, _unref(value)]\n        ])\n      ]),\n      _: 1\n    }, 8, [\"display\", \"class\", \"direction\"])\n  ]))\n}\n}\n\n})","import script from \"./Slider.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Slider.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Slider.vue?vue&type=style&index=0&id=38661d49&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-38661d49\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, withCtx as _withCtx } from \"vue\"\n\nimport { CoercableComponent } from \"features/feature\";\nimport { coerceComponent } from \"util/vue\";\nimport { computed, Ref } from \"vue\";\nimport Col from \"./Column.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    collapsed: null,\n    display: null,\n    content: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\n    collapsed: Ref<boolean>;\n    display: CoercableComponent;\n    content: CoercableComponent;\n}\n\n\n\nconst displayComponent = computed(() => coerceComponent(props.display));\nconst contentComponent = computed(() => coerceComponent(props.content));\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(Col, { class: \"collapsible-container\" }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"button\", {\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (__props.collapsed.value = !__props.collapsed.value)),\n        class: \"feature collapsible-toggle\"\n      }, [\n        (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(displayComponent))))\n      ]),\n      (!__props.collapsed.value)\n        ? (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(contentComponent)), { key: 0 }))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./Collapsible.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Collapsible.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Collapsible.vue?vue&type=style&index=0&id=5acc7780&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5acc7780\"]])\n\nexport default __exports__","import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_MarkNode = _resolveComponent(\"MarkNode\")!\n  const _component_Node = _resolveComponent(\"Node\")!\n\n  return (_ctx.unref(_ctx.visibility) !== _ctx.Visibility.None)\n    ? (_openBlock(), _createElementBlock(\"button\", {\n        key: 0,\n        style: _normalizeStyle([\n            { visibility: _ctx.unref(_ctx.visibility) === _ctx.Visibility.Hidden ? 'hidden' : undefined },\n            _ctx.unref(_ctx.style) ?? []\n        ]),\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onClick && _ctx.onClick(...args))),\n        onMousedown: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.start && _ctx.start(...args))),\n        onMouseleave: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.stop && _ctx.stop(...args))),\n        onMouseup: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.stop && _ctx.stop(...args))),\n        onTouchstartPassive: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.start && _ctx.start(...args))),\n        onTouchendPassive: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.stop && _ctx.stop(...args))),\n        onTouchcancelPassive: _cache[6] || (_cache[6] = \n//@ts-ignore\n(...args) => (_ctx.stop && _ctx.stop(...args))),\n        class: _normalizeClass({\n            feature: true,\n            clickable: true,\n            can: _ctx.unref(_ctx.canClick),\n            locked: !_ctx.unref(_ctx.canClick),\n            small: _ctx.small,\n            ..._ctx.unref(_ctx.classes)\n        })\n      }, [\n        (_ctx.unref(_ctx.comp))\n          ? (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.unref(_ctx.comp)), { key: 0 }))\n          : _createCommentVNode(\"\", true),\n        _createVNode(_component_MarkNode, {\n          mark: _ctx.unref(_ctx.mark)\n        }, null, 8, [\"mark\"]),\n        _createVNode(_component_Node, { id: _ctx.id }, null, 8, [\"id\"])\n      ], 38))\n    : _createCommentVNode(\"\", true)\n}","\nimport \"components/common/features.css\";\nimport Node from \"components/Node.vue\";\nimport MarkNode from \"components/MarkNode.vue\";\nimport { GenericClickable } from \"features/clickables/clickable\";\nimport { jsx, StyleValue, Visibility } from \"features/feature\";\nimport {\n    coerceComponent,\n    isCoercableComponent,\n    processedPropType,\n    setupHoldToClick,\n    unwrapRef\n} from \"util/vue\";\nimport {\n    Component,\n    defineComponent,\n    PropType,\n    shallowRef,\n    toRefs,\n    unref,\n    UnwrapRef,\n    watchEffect\n} from \"vue\";\n\nexport default defineComponent({\n    props: {\n        display: {\n            type: processedPropType<UnwrapRef<GenericClickable[\"display\"]>>(\n                Object,\n                String,\n                Function\n            ),\n            required: true\n        },\n        visibility: {\n            type: processedPropType<Visibility>(Number),\n            required: true\n        },\n        style: processedPropType<StyleValue>(Object, String, Array),\n        classes: processedPropType<Record<string, boolean>>(Object),\n        onClick: Function as PropType<(e?: MouseEvent | TouchEvent) => void>,\n        onHold: Function as PropType<VoidFunction>,\n        canClick: {\n            type: processedPropType<boolean>(Boolean),\n            required: true\n        },\n        small: Boolean,\n        mark: processedPropType<boolean | string>(Boolean, String),\n        id: {\n            type: String,\n            required: true\n        }\n    },\n    components: {\n        Node,\n        MarkNode\n    },\n    setup(props) {\n        const { display, onClick, onHold } = toRefs(props);\n\n        const comp = shallowRef<Component | string>(\"\");\n\n        watchEffect(() => {\n            const currDisplay = unwrapRef(display);\n            if (currDisplay == null) {\n                comp.value = \"\";\n                return;\n            }\n            if (isCoercableComponent(currDisplay)) {\n                comp.value = coerceComponent(currDisplay);\n                return;\n            }\n            const Title = coerceComponent(currDisplay.title || \"\", \"h3\");\n            const Description = coerceComponent(currDisplay.description, \"div\");\n            comp.value = coerceComponent(\n                jsx(() => (\n                    <span>\n                        {currDisplay.title ? (\n                            <div>\n                                <Title />\n                            </div>\n                        ) : null}\n                        <Description />\n                    </span>\n                ))\n            );\n        });\n\n        const { start, stop } = setupHoldToClick(onClick, onHold);\n\n        return {\n            start,\n            stop,\n            comp,\n            Visibility,\n            unref\n        };\n    }\n});\n","import { render } from \"./Clickable.vue?vue&type=template&id=e4e6b79a&scoped=true&ts=true\"\nimport script from \"./Clickable.vue?vue&type=script&lang=tsx\"\nexport * from \"./Clickable.vue?vue&type=script&lang=tsx\"\n\nimport \"./Clickable.vue?vue&type=style&index=0&id=e4e6b79a&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e4e6b79a\"]])\n\nexport default __exports__","import ClickableComponent from \"features/clickables/Clickable.vue\";\nimport {\n    CoercableComponent,\n    Component,\n    OptionsFunc,\n    GatherProps,\n    getUniqueID,\n    Replace,\n    setDefault,\n    StyleValue,\n    Visibility\n} from \"features/feature\";\nimport { GenericLayer } from \"game/layers\";\nimport { Unsubscribe } from \"nanoevents\";\nimport {\n    Computable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { computed, unref } from \"vue\";\n\nexport const ClickableType = Symbol(\"Clickable\");\n\nexport interface ClickableOptions {\n    visibility?: Computable<Visibility>;\n    canClick?: Computable<boolean>;\n    classes?: Computable<Record<string, boolean>>;\n    style?: Computable<StyleValue>;\n    mark?: Computable<boolean | string>;\n    display?: Computable<\n        | CoercableComponent\n        | {\n              title?: CoercableComponent;\n              description: CoercableComponent;\n          }\n    >;\n    small?: boolean;\n    onClick?: (e?: MouseEvent | TouchEvent) => void;\n    onHold?: VoidFunction;\n}\n\nexport interface BaseClickable {\n    id: string;\n    type: typeof ClickableType;\n    [Component]: typeof ClickableComponent;\n    [GatherProps]: () => Record<string, unknown>;\n}\n\nexport type Clickable<T extends ClickableOptions> = Replace<\n    T & BaseClickable,\n    {\n        visibility: GetComputableTypeWithDefault<T[\"visibility\"], Visibility.Visible>;\n        canClick: GetComputableTypeWithDefault<T[\"canClick\"], true>;\n        classes: GetComputableType<T[\"classes\"]>;\n        style: GetComputableType<T[\"style\"]>;\n        mark: GetComputableType<T[\"mark\"]>;\n        display: GetComputableType<T[\"display\"]>;\n    }\n>;\n\nexport type GenericClickable = Replace<\n    Clickable<ClickableOptions>,\n    {\n        visibility: ProcessedComputable<Visibility>;\n        canClick: ProcessedComputable<boolean>;\n    }\n>;\n\nexport function createClickable<T extends ClickableOptions>(\n    optionsFunc?: OptionsFunc<T, Clickable<T>, BaseClickable>\n): Clickable<T> {\n    return createLazyProxy(() => {\n        const clickable = optionsFunc?.() ?? ({} as ReturnType<NonNullable<typeof optionsFunc>>);\n        clickable.id = getUniqueID(\"clickable-\");\n        clickable.type = ClickableType;\n        clickable[Component] = ClickableComponent;\n\n        processComputable(clickable as T, \"visibility\");\n        setDefault(clickable, \"visibility\", Visibility.Visible);\n        processComputable(clickable as T, \"canClick\");\n        setDefault(clickable, \"canClick\", true);\n        processComputable(clickable as T, \"classes\");\n        processComputable(clickable as T, \"style\");\n        processComputable(clickable as T, \"mark\");\n        processComputable(clickable as T, \"display\");\n\n        if (clickable.onClick) {\n            const onClick = clickable.onClick.bind(clickable);\n            clickable.onClick = function (e) {\n                if (unref(clickable.canClick)) {\n                    onClick(e);\n                }\n            };\n        }\n        if (clickable.onHold) {\n            const onHold = clickable.onHold.bind(clickable);\n            clickable.onHold = function () {\n                if (unref(clickable.canClick)) {\n                    onHold();\n                }\n            };\n        }\n\n        clickable[GatherProps] = function (this: GenericClickable) {\n            const {\n                display,\n                visibility,\n                style,\n                classes,\n                onClick,\n                onHold,\n                canClick,\n                small,\n                mark,\n                id\n            } = this;\n            return {\n                display,\n                visibility,\n                style: unref(style),\n                classes,\n                onClick,\n                onHold,\n                canClick,\n                small,\n                mark,\n                id\n            };\n        };\n\n        return clickable as unknown as Clickable<T>;\n    });\n}\n\nexport function setupAutoClick(\n    layer: GenericLayer,\n    clickable: GenericClickable,\n    autoActive: Computable<boolean> = true\n): Unsubscribe {\n    const isActive = typeof autoActive === \"function\" ? computed(autoActive) : autoActive;\n    return layer.on(\"update\", () => {\n        if (unref(isActive) && unref(clickable.canClick)) {\n            clickable.onClick?.();\n        }\n    });\n}\n","import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Links = _resolveComponent(\"Links\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.nodesComp))),\n    (_ctx.leftNodesComp)\n      ? (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.leftNodesComp), { key: 0 }))\n      : _createCommentVNode(\"\", true),\n    (_ctx.rightNodesComp)\n      ? (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.rightNodesComp), { key: 1 }))\n      : _createCommentVNode(\"\", true),\n    (_ctx.branches)\n      ? (_openBlock(), _createBlock(_component_Links, {\n          key: 2,\n          links: _ctx.unref(_ctx.branches)\n        }, null, 8, [\"links\"]))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, mergeProps as _mergeProps, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"x1\", \"y1\", \"x2\", \"y2\"]\n\nimport { Link } from \"features/links/links\";\nimport { FeatureNode } from \"game/layers\";\nimport { computed, toRefs } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    link: null,\n    startNode: null,\n    endNode: null,\n    boundingRect: null\n  },\n  setup(__props: any) {\n\nconst _props = __props as {\n    link: Link;\n    startNode: FeatureNode;\n    endNode: FeatureNode;\n    boundingRect: DOMRect | undefined;\n}\n\n\nconst props = toRefs(_props);\n\nconst startPosition = computed(() => {\n    const rect = props.startNode.value.rect;\n    const boundingRect = props.boundingRect.value;\n    const position = boundingRect\n        ? {\n              x: rect.x + rect.width / 2 - boundingRect.x,\n              y: rect.y + rect.height / 2 - boundingRect.y\n          }\n        : { x: 0, y: 0 };\n    if (props.link.value.offsetStart) {\n        position.x += props.link.value.offsetStart.x;\n        position.y += props.link.value.offsetStart.y;\n    }\n    return position;\n});\n\nconst endPosition = computed(() => {\n    const rect = props.endNode.value.rect;\n    const boundingRect = props.boundingRect.value;\n    const position = boundingRect\n        ? {\n              x: rect.x + rect.width / 2 - boundingRect.x,\n              y: rect.y + rect.height / 2 - boundingRect.y\n          }\n        : { x: 0, y: 0 };\n    if (props.link.value.offsetEnd) {\n        position.x += props.link.value.offsetEnd.x;\n        position.y += props.link.value.offsetEnd.y;\n    }\n    return position;\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"line\", _mergeProps({\n    \"stroke-width\": \"15px\",\n    stroke: \"white\"\n  }, __props.link, {\n    x1: _unref(startPosition).x,\n    y1: _unref(startPosition).y,\n    x2: _unref(endPosition).x,\n    y2: _unref(endPosition).y\n  }), null, 16, _hoisted_1))\n}\n}\n\n})","import script from \"./Link.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Link.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, normalizeProps as _normalizeProps, guardReactiveProps as _guardReactiveProps, mergeProps as _mergeProps, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode } from \"vue\"\n\nimport { Link } from \"features/links/links\";\nimport { FeatureNode, NodesInjectionKey } from \"game/layers\";\nimport { computed, inject, nextTick, onMounted, ref, toRef } from \"vue\";\nimport LinkVue from \"./Link.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    links: null\n  },\n  setup(__props: any) {\n\nconst _props = __props as { links?: Link[] }\n\n\nconst links = toRef(_props, \"links\");\n\nconst resizeObserver = new ResizeObserver(updateNodes);\n\n// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\nconst nodes = inject(NodesInjectionKey)!;\n\nconst resizeListener = ref<Element | null>(null);\n\nonMounted(() => {\n    // ResizeListener exists because ResizeObserver's don't work when told to observe an SVG element\n    const resListener = resizeListener.value;\n    if (resListener != null) {\n        resizeObserver.observe(resListener);\n    }\n});\n\nlet isDirty = true;\nlet boundingRect = ref(resizeListener.value?.getBoundingClientRect());\nfunction updateNodes() {\n    if (resizeListener.value != null && isDirty) {\n        isDirty = false;\n        nextTick(() => {\n            boundingRect.value = resizeListener.value?.getBoundingClientRect();\n            (Object.values(nodes.value) as FeatureNode[])\n                .filter(n => n) // Sometimes the values become undefined\n                .forEach(node => (node.rect = node.element.getBoundingClientRect()));\n            isDirty = true;\n        });\n    }\n}\ndocument.fonts.ready.then(updateNodes);\n\nconst validLinks = computed(() => {\n    const n = nodes.value;\n    return (\n        links.value?.filter(link => n[link.startNode.id]?.rect && n[link.startNode.id]?.rect) ?? []\n    );\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (_unref(validLinks))\n      ? (_openBlock(), _createElementBlock(\"svg\", _normalizeProps(_mergeProps({ key: 0 }, _ctx.$attrs)), [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(validLinks), (link, index) => {\n            return (_openBlock(), _createBlock(LinkVue, {\n              key: index,\n              link: link,\n              boundingRect: _unref(boundingRect),\n              startNode: _unref(nodes)[link.startNode.id]!,\n              endNode: _unref(nodes)[link.endNode.id]!\n            }, null, 8, [\"link\", \"boundingRect\", \"startNode\", \"endNode\"]))\n          }), 128))\n        ], 16))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", {\n      ref_key: \"resizeListener\",\n      ref: resizeListener,\n      class: \"resize-listener\"\n    }, null, 512)\n  ], 64))\n}\n}\n\n})","import script from \"./Links.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Links.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Links.vue?vue&type=style&index=0&id=738c10ea&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-738c10ea\"]])\n\nexport default __exports__","\nimport \"components/common/table.css\";\nimport { GenericTreeNode, TreeBranch } from \"features/trees/tree\";\nimport { coerceComponent, processedPropType, renderJSX, unwrapRef } from \"util/vue\";\nimport { Component, defineComponent, shallowRef, toRefs, unref, watchEffect } from \"vue\";\nimport Links from \"features/links/Links.vue\";\nimport { jsx } from \"features/feature\";\n\nexport default defineComponent({\n    props: {\n        nodes: {\n            type: processedPropType<GenericTreeNode[][]>(Array),\n            required: true\n        },\n        leftSideNodes: processedPropType<GenericTreeNode[]>(Array),\n        rightSideNodes: processedPropType<GenericTreeNode[]>(Array),\n        branches: processedPropType<TreeBranch[]>(Array)\n    },\n    components: { Links },\n    setup(props) {\n        const { nodes, leftSideNodes, rightSideNodes } = toRefs(props);\n\n        const nodesComp = shallowRef<Component | \"\">();\n        watchEffect(() => {\n            const currNodes = unwrapRef(nodes);\n            nodesComp.value = coerceComponent(\n                jsx(() => (\n                    <>\n                        {currNodes.map(row => (\n                            <span class=\"row tree-row\" style=\"margin: 50px auto;\">\n                                {row.map(renderJSX)}\n                            </span>\n                        ))}\n                    </>\n                ))\n            );\n        });\n\n        const leftNodesComp = shallowRef<Component | \"\">();\n        watchEffect(() => {\n            const currNodes = unwrapRef(leftSideNodes);\n            leftNodesComp.value = currNodes\n                ? coerceComponent(\n                      jsx(() => (\n                          <span class=\"left-side-nodes small\">{currNodes.map(renderJSX)}</span>\n                      ))\n                  )\n                : \"\";\n        });\n\n        const rightNodesComp = shallowRef<Component | \"\">();\n        watchEffect(() => {\n            const currNodes = unwrapRef(rightSideNodes);\n            rightNodesComp.value = currNodes\n                ? coerceComponent(\n                      jsx(() => <span class=\"side-nodes small\">{currNodes.map(renderJSX)}</span>)\n                  )\n                : \"\";\n        });\n\n        return {\n            unref,\n            nodesComp,\n            leftNodesComp,\n            rightNodesComp\n        };\n    }\n});\n","import { render } from \"./Tree.vue?vue&type=template&id=aa87859c&scoped=true&ts=true\"\nimport script from \"./Tree.vue?vue&type=script&lang=tsx\"\nexport * from \"./Tree.vue?vue&type=script&lang=tsx\"\n\nimport \"./Tree.vue?vue&type=style&index=0&id=aa87859c&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-aa87859c\"]])\n\nexport default __exports__","import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_MarkNode = _resolveComponent(\"MarkNode\")!\n  const _component_Node = _resolveComponent(\"Node\")!\n\n  return (_ctx.unref(_ctx.visibility) !== _ctx.Visibility.None)\n    ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 0,\n        style: _normalizeStyle({ visibility: _ctx.unref(_ctx.visibility) === _ctx.Visibility.Hidden ? 'hidden' : undefined }),\n        class: _normalizeClass({\n            treeNode: true,\n            can: _ctx.unref(_ctx.canClick),\n            ..._ctx.unref(_ctx.classes)\n        }),\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onClick && _ctx.onClick(...args))),\n        onMousedown: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.start && _ctx.start(...args))),\n        onMouseleave: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.stop && _ctx.stop(...args))),\n        onMouseup: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.stop && _ctx.stop(...args))),\n        onTouchstartPassive: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.start && _ctx.start(...args))),\n        onTouchendPassive: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.stop && _ctx.stop(...args))),\n        onTouchcancelPassive: _cache[6] || (_cache[6] = \n//@ts-ignore\n(...args) => (_ctx.stop && _ctx.stop(...args)))\n      }, [\n        _createElementVNode(\"div\", {\n          style: _normalizeStyle([\n                {\n                    backgroundColor: _ctx.unref(_ctx.color),\n                    boxShadow: `-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 20px ${_ctx.unref(\n                        _ctx.glowColor\n                    )}`\n                },\n                _ctx.unref(_ctx.style) ?? []\n            ])\n        }, [\n          (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.unref(_ctx.comp))))\n        ], 4),\n        _createVNode(_component_MarkNode, {\n          mark: _ctx.unref(_ctx.mark)\n        }, null, 8, [\"mark\"]),\n        _createVNode(_component_Node, { id: _ctx.id }, null, 8, [\"id\"])\n      ], 38))\n    : _createCommentVNode(\"\", true)\n}","\nimport Node from \"components/Node.vue\";\nimport MarkNode from \"components/MarkNode.vue\";\nimport { CoercableComponent, StyleValue, Visibility } from \"features/feature\";\nimport {\n    computeOptionalComponent,\n    isCoercableComponent,\n    processedPropType,\n    setupHoldToClick\n} from \"util/vue\";\nimport { defineComponent, PropType, toRefs, unref } from \"vue\";\n\nexport default defineComponent({\n    props: {\n        display: processedPropType<CoercableComponent>(Object, String, Function),\n        visibility: {\n            type: processedPropType<Visibility>(Number),\n            required: true\n        },\n        style: processedPropType<StyleValue>(String, Object, Array),\n        classes: processedPropType<Record<string, boolean>>(Object),\n        onClick: Function as PropType<(e?: MouseEvent | TouchEvent) => void>,\n        onHold: Function as PropType<VoidFunction>,\n        color: processedPropType<string>(String),\n        glowColor: processedPropType<string>(String),\n        canClick: {\n            type: processedPropType<boolean>(Boolean),\n            required: true\n        },\n        mark: processedPropType<boolean | string>(Boolean, String),\n        id: {\n            type: String,\n            required: true\n        }\n    },\n    components: {\n        MarkNode,\n        Node\n    },\n    setup(props) {\n        const { onClick, onHold, display } = toRefs(props);\n\n        const comp = computeOptionalComponent(display);\n\n        const { start, stop } = setupHoldToClick(onClick, onHold);\n\n        return {\n            start,\n            stop,\n            comp,\n            unref,\n            Visibility,\n            isCoercableComponent\n        };\n    }\n});\n","import { render } from \"./TreeNode.vue?vue&type=template&id=094cdcfe&scoped=true&ts=true\"\nimport script from \"./TreeNode.vue?vue&type=script&lang=ts\"\nexport * from \"./TreeNode.vue?vue&type=script&lang=ts\"\n\nimport \"./TreeNode.vue?vue&type=style&index=0&id=094cdcfe&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-094cdcfe\"]])\n\nexport default __exports__","import {\n    CoercableComponent,\n    Component,\n    OptionsFunc,\n    GatherProps,\n    getUniqueID,\n    Replace,\n    setDefault,\n    StyleValue,\n    Visibility\n} from \"features/feature\";\nimport { Link } from \"features/links/links\";\nimport { GenericReset } from \"features/reset\";\nimport { displayResource, Resource } from \"features/resources/resource\";\nimport TreeComponent from \"features/trees/Tree.vue\";\nimport TreeNodeComponent from \"features/trees/TreeNode.vue\";\nimport Decimal, { DecimalSource, format, formatWhole } from \"util/bignum\";\nimport {\n    Computable,\n    convertComputable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { computed, ref, Ref, shallowRef, unref } from \"vue\";\n\nexport const TreeNodeType = Symbol(\"TreeNode\");\nexport const TreeType = Symbol(\"Tree\");\n\nexport interface TreeNodeOptions {\n    visibility?: Computable<Visibility>;\n    canClick?: Computable<boolean>;\n    color?: Computable<string>;\n    display?: Computable<CoercableComponent>;\n    glowColor?: Computable<string>;\n    classes?: Computable<Record<string, boolean>>;\n    style?: Computable<StyleValue>;\n    mark?: Computable<boolean | string>;\n    reset?: GenericReset;\n    onClick?: (e?: MouseEvent | TouchEvent) => void;\n    onHold?: VoidFunction;\n}\n\nexport interface BaseTreeNode {\n    id: string;\n    type: typeof TreeNodeType;\n    [Component]: typeof TreeNodeComponent;\n    [GatherProps]: () => Record<string, unknown>;\n}\n\nexport type TreeNode<T extends TreeNodeOptions> = Replace<\n    T & BaseTreeNode,\n    {\n        visibility: GetComputableTypeWithDefault<T[\"visibility\"], Visibility.Visible>;\n        canClick: GetComputableTypeWithDefault<T[\"canClick\"], true>;\n        color: GetComputableType<T[\"color\"]>;\n        display: GetComputableType<T[\"display\"]>;\n        glowColor: GetComputableType<T[\"glowColor\"]>;\n        classes: GetComputableType<T[\"classes\"]>;\n        style: GetComputableType<T[\"style\"]>;\n        mark: GetComputableType<T[\"mark\"]>;\n    }\n>;\n\nexport type GenericTreeNode = Replace<\n    TreeNode<TreeNodeOptions>,\n    {\n        visibility: ProcessedComputable<Visibility>;\n        canClick: ProcessedComputable<boolean>;\n    }\n>;\n\nexport function createTreeNode<T extends TreeNodeOptions>(\n    optionsFunc?: OptionsFunc<T, TreeNode<T>, BaseTreeNode>\n): TreeNode<T> {\n    return createLazyProxy(() => {\n        const treeNode = optionsFunc?.() ?? ({} as ReturnType<NonNullable<typeof optionsFunc>>);\n        treeNode.id = getUniqueID(\"treeNode-\");\n        treeNode.type = TreeNodeType;\n        treeNode[Component] = TreeNodeComponent;\n\n        processComputable(treeNode as T, \"visibility\");\n        setDefault(treeNode, \"visibility\", Visibility.Visible);\n        processComputable(treeNode as T, \"canClick\");\n        setDefault(treeNode, \"canClick\", true);\n        processComputable(treeNode as T, \"color\");\n        processComputable(treeNode as T, \"display\");\n        processComputable(treeNode as T, \"glowColor\");\n        processComputable(treeNode as T, \"classes\");\n        processComputable(treeNode as T, \"style\");\n        processComputable(treeNode as T, \"mark\");\n\n        if (treeNode.onClick) {\n            const onClick = treeNode.onClick.bind(treeNode);\n            treeNode.onClick = function () {\n                if (unref(treeNode.canClick)) {\n                    onClick();\n                }\n            };\n        }\n        if (treeNode.onHold) {\n            const onHold = treeNode.onHold.bind(treeNode);\n            treeNode.onHold = function () {\n                if (unref(treeNode.canClick)) {\n                    onHold();\n                }\n            };\n        }\n\n        treeNode[GatherProps] = function (this: GenericTreeNode) {\n            const {\n                display,\n                visibility,\n                style,\n                classes,\n                onClick,\n                onHold,\n                color,\n                glowColor,\n                canClick,\n                mark,\n                id\n            } = this;\n            return {\n                display,\n                visibility,\n                style,\n                classes,\n                onClick,\n                onHold,\n                color,\n                glowColor,\n                canClick,\n                mark,\n                id\n            };\n        };\n\n        return treeNode as unknown as TreeNode<T>;\n    });\n}\n\nexport interface TreeBranch extends Omit<Link, \"startNode\" | \"endNode\"> {\n    startNode: GenericTreeNode;\n    endNode: GenericTreeNode;\n}\n\nexport interface TreeOptions {\n    visibility?: Computable<Visibility>;\n    nodes: Computable<GenericTreeNode[][]>;\n    leftSideNodes?: Computable<GenericTreeNode[]>;\n    rightSideNodes?: Computable<GenericTreeNode[]>;\n    branches?: Computable<TreeBranch[]>;\n    resetPropagation?: ResetPropagation;\n    onReset?: (node: GenericTreeNode) => void;\n}\n\nexport interface BaseTree {\n    id: string;\n    links: Ref<Link[]>;\n    reset: (node: GenericTreeNode) => void;\n    isResetting: Ref<boolean>;\n    resettingNode: Ref<GenericTreeNode | null>;\n    type: typeof TreeType;\n    [Component]: typeof TreeComponent;\n    [GatherProps]: () => Record<string, unknown>;\n}\n\nexport type Tree<T extends TreeOptions> = Replace<\n    T & BaseTree,\n    {\n        visibility: GetComputableTypeWithDefault<T[\"visibility\"], Visibility.Visible>;\n        nodes: GetComputableType<T[\"nodes\"]>;\n        leftSideNodes: GetComputableType<T[\"leftSideNodes\"]>;\n        rightSideNodes: GetComputableType<T[\"rightSideNodes\"]>;\n        branches: GetComputableType<T[\"branches\"]>;\n    }\n>;\n\nexport type GenericTree = Replace<\n    Tree<TreeOptions>,\n    {\n        visibility: ProcessedComputable<Visibility>;\n    }\n>;\n\nexport function createTree<T extends TreeOptions>(\n    optionsFunc: OptionsFunc<T, Tree<T>, BaseTree>\n): Tree<T> {\n    return createLazyProxy(() => {\n        const tree = optionsFunc();\n        tree.id = getUniqueID(\"tree-\");\n        tree.type = TreeType;\n        tree[Component] = TreeComponent;\n\n        tree.isResetting = ref(false);\n        tree.resettingNode = shallowRef(null);\n\n        tree.reset = function (node) {\n            const genericTree = tree as GenericTree;\n            genericTree.isResetting.value = true;\n            genericTree.resettingNode.value = node;\n            genericTree.resetPropagation?.(genericTree, node);\n            genericTree.onReset?.(node);\n            genericTree.isResetting.value = false;\n            genericTree.resettingNode.value = null;\n        };\n        tree.links = computed(() => {\n            const genericTree = tree as GenericTree;\n            return unref(genericTree.branches) ?? [];\n        });\n\n        processComputable(tree as T, \"visibility\");\n        setDefault(tree, \"visibility\", Visibility.Visible);\n        processComputable(tree as T, \"nodes\");\n        processComputable(tree as T, \"leftSideNodes\");\n        processComputable(tree as T, \"rightSideNodes\");\n        processComputable(tree as T, \"branches\");\n\n        tree[GatherProps] = function (this: GenericTree) {\n            const { nodes, leftSideNodes, rightSideNodes, branches } = this;\n            return { nodes, leftSideNodes, rightSideNodes, branches };\n        };\n\n        return tree as unknown as Tree<T>;\n    });\n}\n\nexport type ResetPropagation = {\n    (tree: GenericTree, resettingNode: GenericTreeNode): void;\n};\n\nexport const defaultResetPropagation = function (\n    tree: GenericTree,\n    resettingNode: GenericTreeNode\n): void {\n    const nodes = unref(tree.nodes);\n    const row = nodes.findIndex(nodes => nodes.includes(resettingNode)) - 1;\n    for (let x = row; x >= 0; x--) {\n        nodes[x].forEach(node => node.reset?.reset());\n    }\n};\n\nexport const invertedResetPropagation = function (\n    tree: GenericTree,\n    resettingNode: GenericTreeNode\n): void {\n    const nodes = unref(tree.nodes);\n    const row = nodes.findIndex(nodes => nodes.includes(resettingNode)) + 1;\n    for (let x = row; x < nodes.length; x++) {\n        nodes[x].forEach(node => node.reset?.reset());\n    }\n};\n\nexport const branchedResetPropagation = function (\n    tree: GenericTree,\n    resettingNode: GenericTreeNode\n): void {\n    const visitedNodes = [resettingNode];\n    let currentNodes = [resettingNode];\n    if (tree.branches != null) {\n        const branches = unref(tree.branches);\n        while (currentNodes.length > 0) {\n            const nextNodes: GenericTreeNode[] = [];\n            currentNodes.forEach(node => {\n                branches\n                    .filter(branch => branch.startNode === node || branch.endNode === node)\n                    .map(branch => {\n                        if (branch.startNode === node) {\n                            return branch.endNode;\n                        }\n                        return branch.startNode;\n                    })\n                    .filter(node => !visitedNodes.includes(node))\n                    .forEach(node => {\n                        // Check here instead of in the filter because this check's results may\n                        // change as we go through each node\n                        if (!nextNodes.includes(node)) {\n                            nextNodes.push(node);\n                            node.reset?.reset();\n                        }\n                    });\n            });\n            currentNodes = nextNodes;\n            visitedNodes.push(...currentNodes);\n        }\n    }\n};\n\nexport function createResourceTooltip(\n    resource: Resource,\n    requiredResource: Resource | null = null,\n    requirement: Computable<DecimalSource> = 0\n): Ref<string> {\n    const req = convertComputable(requirement);\n    return computed(() => {\n        if (requiredResource == null || Decimal.gte(resource.value, unref(req))) {\n            return displayResource(resource) + \" \" + resource.displayName;\n        }\n        return `Reach ${\n            Decimal.eq(requiredResource.precision, 0)\n                ? formatWhole(unref(req))\n                : format(unref(req), requiredResource.precision)\n        } ${requiredResource.displayName} to unlock (You have ${\n            Decimal.eq(requiredResource.precision, 0)\n                ? formatWhole(requiredResource.value)\n                : format(requiredResource.value, requiredResource.precision)\n        })`;\n    });\n}\n","import {\n    Clickable,\n    ClickableOptions,\n    createClickable,\n    GenericClickable\n} from \"features/clickables/clickable\";\nimport { GenericConversion } from \"features/conversion\";\nimport {\n    CoercableComponent,\n    jsx,\n    JSXFunction,\n    OptionsFunc,\n    Replace,\n    setDefault\n} from \"features/feature\";\nimport { displayResource } from \"features/resources/resource\";\nimport {\n    createTreeNode,\n    GenericTree,\n    GenericTreeNode,\n    TreeNode,\n    TreeNodeOptions\n} from \"features/trees/tree\";\nimport { Modifier } from \"game/modifiers\";\nimport { Persistent, persistent } from \"game/persistence\";\nimport player from \"game/player\";\nimport Decimal, { DecimalSource, format } from \"util/bignum\";\nimport { WithRequired } from \"util/common\";\nimport {\n    Computable,\n    convertComputable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { renderJSX } from \"util/vue\";\nimport { computed, Ref, unref } from \"vue\";\nimport \"./common.css\";\n\nexport interface ResetButtonOptions extends ClickableOptions {\n    conversion: GenericConversion;\n    tree: GenericTree;\n    treeNode: GenericTreeNode;\n    resetDescription?: Computable<string>;\n    showNextAt?: Computable<boolean>;\n    display?: Computable<CoercableComponent>;\n    canClick?: Computable<boolean>;\n    minimumGain?: Computable<DecimalSource>;\n}\n\nexport type ResetButton<T extends ResetButtonOptions> = Replace<\n    Clickable<T>,\n    {\n        resetDescription: GetComputableTypeWithDefault<T[\"resetDescription\"], Ref<string>>;\n        showNextAt: GetComputableTypeWithDefault<T[\"showNextAt\"], true>;\n        display: GetComputableTypeWithDefault<T[\"display\"], Ref<JSX.Element>>;\n        canClick: GetComputableTypeWithDefault<T[\"canClick\"], Ref<boolean>>;\n        minimumGain: GetComputableTypeWithDefault<T[\"minimumGain\"], 1>;\n        onClick: VoidFunction;\n    }\n>;\n\nexport type GenericResetButton = Replace<\n    GenericClickable & ResetButton<ResetButtonOptions>,\n    {\n        resetDescription: ProcessedComputable<string>;\n        showNextAt: ProcessedComputable<boolean>;\n        display: ProcessedComputable<CoercableComponent>;\n        canClick: ProcessedComputable<boolean>;\n        minimumGain: ProcessedComputable<DecimalSource>;\n    }\n>;\n\nexport function createResetButton<T extends ClickableOptions & ResetButtonOptions>(\n    optionsFunc: OptionsFunc<T>\n): ResetButton<T> {\n    return createClickable(() => {\n        const resetButton = optionsFunc();\n\n        processComputable(resetButton as T, \"showNextAt\");\n        setDefault(resetButton, \"showNextAt\", true);\n        setDefault(resetButton, \"minimumGain\", 1);\n\n        if (resetButton.resetDescription == null) {\n            resetButton.resetDescription = computed(() =>\n                Decimal.lt(resetButton.conversion.gainResource.value, 1e3) ? \"Reset for \" : \"\"\n            );\n        } else {\n            processComputable(resetButton as T, \"resetDescription\");\n        }\n\n        if (resetButton.display == null) {\n            resetButton.display = jsx(() => (\n                <span>\n                    {unref(resetButton.resetDescription as ProcessedComputable<string>)}\n                    <b>\n                        {displayResource(\n                            resetButton.conversion.gainResource,\n                            Decimal.max(\n                                unref(resetButton.conversion.actualGain),\n                                unref(resetButton.minimumGain as ProcessedComputable<DecimalSource>)\n                            )\n                        )}\n                    </b>{\" \"}\n                    {resetButton.conversion.gainResource.displayName}\n                    <div v-show={unref(resetButton.showNextAt)}>\n                        <br />\n                        {resetButton.conversion.buyMax ? \"Next:\" : \"Req:\"}{\" \"}\n                        {displayResource(\n                            resetButton.conversion.baseResource,\n                            resetButton.conversion.buyMax ||\n                                Decimal.floor(unref(resetButton.conversion.actualGain)).neq(1)\n                                ? unref(resetButton.conversion.nextAt)\n                                : unref(resetButton.conversion.currentAt)\n                        )}{\" \"}\n                        {resetButton.conversion.baseResource.displayName}\n                    </div>\n                </span>\n            ));\n        }\n\n        if (resetButton.canClick == null) {\n            resetButton.canClick = computed(() =>\n                Decimal.gte(\n                    unref(resetButton.conversion.actualGain),\n                    unref(resetButton.minimumGain as ProcessedComputable<DecimalSource>)\n                )\n            );\n        }\n\n        const onClick = resetButton.onClick;\n        resetButton.onClick = function () {\n            if (!unref(resetButton.canClick)) {\n                return;\n            }\n            resetButton.conversion.convert();\n            resetButton.tree.reset(resetButton.treeNode);\n            onClick?.();\n        };\n\n        return resetButton;\n    }) as unknown as ResetButton<T>;\n}\n\nexport interface LayerTreeNodeOptions extends TreeNodeOptions {\n    layerID: string;\n    color: Computable<string>; // marking as required\n    display?: Computable<CoercableComponent>;\n    append?: Computable<boolean>;\n}\nexport type LayerTreeNode<T extends LayerTreeNodeOptions> = Replace<\n    TreeNode<T>,\n    {\n        display: GetComputableTypeWithDefault<T[\"display\"], T[\"layerID\"]>;\n        append: GetComputableType<T[\"append\"]>;\n    }\n>;\nexport type GenericLayerTreeNode = Replace<\n    LayerTreeNode<LayerTreeNodeOptions>,\n    {\n        display: ProcessedComputable<CoercableComponent>;\n        append?: ProcessedComputable<boolean>;\n    }\n>;\n\nexport function createLayerTreeNode<T extends LayerTreeNodeOptions>(\n    optionsFunc: OptionsFunc<T>\n): LayerTreeNode<T> {\n    return createTreeNode(() => {\n        const options = optionsFunc();\n        processComputable(options as T, \"display\");\n        setDefault(options, \"display\", options.layerID);\n        processComputable(options as T, \"append\");\n        return {\n            ...options,\n            display: options.display,\n            onClick: unref((options as unknown as GenericLayerTreeNode).append)\n                ? function () {\n                      if (player.tabs.includes(options.layerID)) {\n                          const index = player.tabs.lastIndexOf(options.layerID);\n                          player.tabs.splice(index, 1);\n                      } else {\n                          player.tabs.push(options.layerID);\n                      }\n                  }\n                : function () {\n                      player.tabs.splice(1, 1, options.layerID);\n                  }\n        };\n    }) as unknown as LayerTreeNode<T>;\n}\n\nexport interface Section {\n    title: string;\n    subtitle?: string;\n    modifier: WithRequired<Modifier, \"description\">;\n    base?: Computable<DecimalSource>;\n    unit?: string;\n    baseText?: Computable<CoercableComponent>;\n    visible?: Computable<boolean>;\n}\n\nexport function createCollapsibleModifierSections(\n    sections: Section[]\n): [JSXFunction, Persistent<boolean>[]] {\n    const processedBase = sections.map(s => convertComputable(s.base));\n    const processedBaseText = sections.map(s => convertComputable(s.baseText));\n    const processedVisible = sections.map(s => convertComputable(s.visible));\n    const collapsed = sections.map(() => persistent<boolean>(false));\n    const jsxFunc = jsx(() => {\n        const sectionJSX = sections.map((s, i) => {\n            if (unref(processedVisible[i]) === false) return null;\n            const header = (\n                <h3\n                    onClick={() => (collapsed[i].value = !collapsed[i].value)}\n                    style=\"cursor: pointer\"\n                >\n                    <span class={\"modifier-toggle\" + (unref(collapsed[i]) ? \" collapsed\" : \"\")}>\n                        ▼\n                    </span>\n                    {s.title}\n                    {s.subtitle ? <span class=\"subtitle\"> ({s.subtitle})</span> : null}\n                </h3>\n            );\n\n            const modifiers = unref(collapsed[i]) ? null : (\n                <>\n                    <div class=\"modifier-container\">\n                        <span class=\"modifier-amount\">\n                            {format(unref(processedBase[i]) ?? 1)}\n                            {s.unit}\n                        </span>\n                        <span class=\"modifier-description\">\n                            {renderJSX(unref(processedBaseText[i]) ?? \"Base\")}\n                        </span>\n                    </div>\n                    {renderJSX(unref(s.modifier.description))}\n                </>\n            );\n\n            return (\n                <>\n                    {i === 0 ? null : <br />}\n                    <div>\n                        {header}\n                        <br />\n                        {modifiers}\n                        <hr />\n                        Total: {format(s.modifier.apply(unref(processedBase[i]) ?? 1))}\n                        {s.unit}\n                    </div>\n                </>\n            );\n        });\n        return <>{sectionJSX}</>;\n    });\n    return [jsxFunc, collapsed];\n}\n","import { resolveDynamicComponent as _resolveDynamicComponent, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_MarkNode = _resolveComponent(\"MarkNode\")!\n  const _component_Node = _resolveComponent(\"Node\")!\n\n  return (_ctx.unref(_ctx.visibility) !== _ctx.Visibility.None)\n    ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 0,\n        style: _normalizeStyle([\n            {\n                width: _ctx.unref(_ctx.width) + 'px',\n                height: _ctx.unref(_ctx.height) + 'px',\n                visibility: _ctx.unref(_ctx.visibility) === _ctx.Visibility.Hidden ? 'hidden' : undefined\n            },\n            _ctx.unref(_ctx.style) ?? {}\n        ]),\n        class: _normalizeClass({\n            bar: true,\n            ..._ctx.unref(_ctx.classes)\n        })\n      }, [\n        _createElementVNode(\"div\", {\n          class: \"overlayTextContainer border\",\n          style: _normalizeStyle([\n                { width: _ctx.unref(_ctx.width) + 'px', height: _ctx.unref(_ctx.height) + 'px' },\n                _ctx.unref(_ctx.borderStyle) ?? {}\n            ])\n        }, [\n          (_ctx.component)\n            ? (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.component), {\n                key: 0,\n                class: \"overlayText\",\n                style: _normalizeStyle(_ctx.unref(_ctx.textStyle))\n              }, null, 8, [\"style\"]))\n            : _createCommentVNode(\"\", true)\n        ], 4),\n        _createElementVNode(\"div\", {\n          class: \"border\",\n          style: _normalizeStyle([\n                { width: _ctx.unref(_ctx.width) + 'px', height: _ctx.unref(_ctx.height) + 'px' },\n                _ctx.unref(_ctx.style) ?? {},\n                _ctx.unref(_ctx.baseStyle) ?? {},\n                _ctx.unref(_ctx.borderStyle) ?? {}\n            ])\n        }, [\n          _createElementVNode(\"div\", {\n            class: \"fill\",\n            style: _normalizeStyle([_ctx.barStyle, _ctx.unref(_ctx.style) ?? {}, _ctx.unref(_ctx.fillStyle) ?? {}])\n          }, null, 4)\n        ], 4),\n        _createVNode(_component_MarkNode, {\n          mark: _ctx.unref(_ctx.mark)\n        }, null, 8, [\"mark\"]),\n        _createVNode(_component_Node, { id: _ctx.id }, null, 8, [\"id\"])\n      ], 6))\n    : _createCommentVNode(\"\", true)\n}","\nimport { CoercableComponent, Visibility } from \"features/feature\";\nimport Decimal, { DecimalSource } from \"util/bignum\";\nimport { computeOptionalComponent, processedPropType, unwrapRef } from \"util/vue\";\nimport { computed, CSSProperties, defineComponent, StyleValue, toRefs, unref } from \"vue\";\nimport Node from \"components/Node.vue\";\nimport MarkNode from \"components/MarkNode.vue\";\nimport { Direction } from \"util/common\";\n\nexport default defineComponent({\n    props: {\n        progress: {\n            type: processedPropType<DecimalSource>(String, Object, Number),\n            required: true\n        },\n        width: {\n            type: processedPropType<number>(Number),\n            required: true\n        },\n        height: {\n            type: processedPropType<number>(Number),\n            required: true\n        },\n        direction: {\n            type: processedPropType<Direction>(String),\n            required: true\n        },\n        display: processedPropType<CoercableComponent>(Object, String, Function),\n        visibility: {\n            type: processedPropType<Visibility>(Number),\n            required: true\n        },\n        style: processedPropType<StyleValue>(Object, String, Array),\n        classes: processedPropType<Record<string, boolean>>(Object),\n        borderStyle: processedPropType<StyleValue>(Object, String, Array),\n        textStyle: processedPropType<StyleValue>(Object, String, Array),\n        baseStyle: processedPropType<StyleValue>(Object, String, Array),\n        fillStyle: processedPropType<StyleValue>(Object, String, Array),\n        mark: processedPropType<boolean | string>(Boolean, String),\n        id: {\n            type: String,\n            required: true\n        }\n    },\n    components: {\n        MarkNode,\n        Node\n    },\n    setup(props) {\n        const { progress, width, height, direction, display } = toRefs(props);\n\n        const normalizedProgress = computed(() => {\n            let progressNumber =\n                progress.value instanceof Decimal\n                    ? progress.value.toNumber()\n                    : Number(progress.value);\n            return (1 - Math.min(Math.max(progressNumber, 0), 1)) * 100;\n        });\n\n        const barStyle = computed(() => {\n            const barStyle: Partial<CSSProperties> = {\n                width: unwrapRef(width) + 0.5 + \"px\",\n                height: unwrapRef(height) + 0.5 + \"px\"\n            };\n            switch (unref(direction)) {\n                case Direction.Up:\n                    barStyle.clipPath = `inset(${normalizedProgress.value}% 0% 0% 0%)`;\n                    barStyle.width = unwrapRef(width) + 1 + \"px\";\n                    break;\n                case Direction.Down:\n                    barStyle.clipPath = `inset(0% 0% ${normalizedProgress.value}% 0%)`;\n                    barStyle.width = unwrapRef(width) + 1 + \"px\";\n                    break;\n                case Direction.Right:\n                    barStyle.clipPath = `inset(0% ${normalizedProgress.value}% 0% 0%)`;\n                    break;\n                case Direction.Left:\n                    barStyle.clipPath = `inset(0% 0% 0% ${normalizedProgress.value} + '%)`;\n                    break;\n                case Direction.Default:\n                    barStyle.clipPath = \"inset(0% 50% 0% 0%)\";\n                    break;\n            }\n            return barStyle;\n        });\n\n        const component = computeOptionalComponent(display);\n\n        return {\n            normalizedProgress,\n            barStyle,\n            component,\n            unref,\n            Visibility\n        };\n    }\n});\n","import { render } from \"./Bar.vue?vue&type=template&id=bfa7e8b2&scoped=true&ts=true\"\nimport script from \"./Bar.vue?vue&type=script&lang=ts\"\nexport * from \"./Bar.vue?vue&type=script&lang=ts\"\n\nimport \"./Bar.vue?vue&type=style&index=0&id=bfa7e8b2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bfa7e8b2\"]])\n\nexport default __exports__","import BarComponent from \"features/bars/Bar.vue\";\nimport {\n    CoercableComponent,\n    Component,\n    OptionsFunc,\n    GatherProps,\n    getUniqueID,\n    Replace,\n    setDefault,\n    StyleValue,\n    Visibility\n} from \"features/feature\";\nimport { DecimalSource } from \"util/bignum\";\nimport { Direction } from \"util/common\";\nimport {\n    Computable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { unref } from \"vue\";\n\nexport const BarType = Symbol(\"Bar\");\n\nexport interface BarOptions {\n    visibility?: Computable<Visibility>;\n    width: Computable<number>;\n    height: Computable<number>;\n    direction: Computable<Direction>;\n    style?: Computable<StyleValue>;\n    classes?: Computable<Record<string, boolean>>;\n    borderStyle?: Computable<StyleValue>;\n    baseStyle?: Computable<StyleValue>;\n    textStyle?: Computable<StyleValue>;\n    fillStyle?: Computable<StyleValue>;\n    progress: Computable<DecimalSource>;\n    display?: Computable<CoercableComponent>;\n    mark?: Computable<boolean | string>;\n}\n\nexport interface BaseBar {\n    id: string;\n    type: typeof BarType;\n    [Component]: typeof BarComponent;\n    [GatherProps]: () => Record<string, unknown>;\n}\n\nexport type Bar<T extends BarOptions> = Replace<\n    T & BaseBar,\n    {\n        visibility: GetComputableTypeWithDefault<T[\"visibility\"], Visibility.Visible>;\n        width: GetComputableType<T[\"width\"]>;\n        height: GetComputableType<T[\"height\"]>;\n        direction: GetComputableType<T[\"direction\"]>;\n        style: GetComputableType<T[\"style\"]>;\n        classes: GetComputableType<T[\"classes\"]>;\n        borderStyle: GetComputableType<T[\"borderStyle\"]>;\n        baseStyle: GetComputableType<T[\"baseStyle\"]>;\n        textStyle: GetComputableType<T[\"textStyle\"]>;\n        fillStyle: GetComputableType<T[\"fillStyle\"]>;\n        progress: GetComputableType<T[\"progress\"]>;\n        display: GetComputableType<T[\"display\"]>;\n        mark: GetComputableType<T[\"mark\"]>;\n    }\n>;\n\nexport type GenericBar = Replace<\n    Bar<BarOptions>,\n    {\n        visibility: ProcessedComputable<Visibility>;\n    }\n>;\n\nexport function createBar<T extends BarOptions>(\n    optionsFunc: OptionsFunc<T, Bar<T>, BaseBar>\n): Bar<T> {\n    return createLazyProxy(() => {\n        const bar = optionsFunc();\n        bar.id = getUniqueID(\"bar-\");\n        bar.type = BarType;\n        bar[Component] = BarComponent;\n\n        processComputable(bar as T, \"visibility\");\n        setDefault(bar, \"visibility\", Visibility.Visible);\n        processComputable(bar as T, \"width\");\n        processComputable(bar as T, \"height\");\n        processComputable(bar as T, \"direction\");\n        processComputable(bar as T, \"style\");\n        processComputable(bar as T, \"classes\");\n        processComputable(bar as T, \"borderStyle\");\n        processComputable(bar as T, \"baseStyle\");\n        processComputable(bar as T, \"textStyle\");\n        processComputable(bar as T, \"fillStyle\");\n        processComputable(bar as T, \"progress\");\n        processComputable(bar as T, \"display\");\n        processComputable(bar as T, \"mark\");\n\n        bar[GatherProps] = function (this: GenericBar) {\n            const {\n                progress,\n                width,\n                height,\n                direction,\n                display,\n                visibility,\n                style,\n                classes,\n                borderStyle,\n                textStyle,\n                baseStyle,\n                fillStyle,\n                mark,\n                id\n            } = this;\n            return {\n                progress,\n                width,\n                height,\n                direction,\n                display,\n                visibility,\n                style: unref(style),\n                classes,\n                borderStyle,\n                textStyle,\n                baseStyle,\n                fillStyle,\n                mark,\n                id\n            };\n        };\n\n        return bar as unknown as Bar<T>;\n    });\n}\n","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, mergeProps as _mergeProps, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, withCtx as _withCtx, createVNode as _createVNode, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-de368962\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\nconst _hoisted_2 = { class: \"job-contents\" }\nconst _hoisted_3 = { class: \"job-title\" }\nconst _hoisted_4 = { style: {\"margin-bottom\":\"2px\"} }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { style: {\"flex-grow\":\"1\"} }, null, -1))\nconst _hoisted_6 = {\n  key: 0,\n  class: \"job-quip\"\n}\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"job-progress-container\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"job-progress\" })\n], -1))\nconst _hoisted_8 = [\"disabled\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ModifierInfo = _resolveComponent(\"ModifierInfo\")!\n  const _component_Tooltip = _resolveComponent(\"Tooltip\")!\n  const _component_Node = _resolveComponent(\"Node\")!\n\n  return (_ctx.unref(_ctx.visibility) !== _ctx.Visibility.None)\n    ? (_openBlock(), _createElementBlock(\"span\", {\n        key: 0,\n        style: _normalizeStyle([\n            {\n                visibility: _ctx.unref(_ctx.visibility) === _ctx.Visibility.Hidden ? 'hidden' : undefined,\n                '--posx': _ctx.unref(_ctx.imageFocus).x,\n                '--posy': _ctx.unref(_ctx.imageFocus).y,\n                '--progress': `${(1 - _ctx.unref(_ctx.levelProgress)) * 100}%`,\n                '--foreground': _ctx.unref(_ctx.color)\n            },\n            _ctx.unref(_ctx.style) ?? {}\n        ]),\n        class: _normalizeClass([\"feature dontMerge job\", {\n            selected: _ctx.selected,\n            active: _ctx.selected || _ctx.unref(_ctx.timeLoopActive),\n            animating: _ctx.animating\n        }]),\n        onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.openJob && _ctx.openJob(...args)))\n      }, [\n        _createElementVNode(\"img\", {\n          src: _ctx.unref(_ctx.image)\n        }, null, 8, _hoisted_1),\n        _createElementVNode(\"div\", _hoisted_2, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.resourceArray, (resource, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"job-resource\",\n              key: index\n            }, _toDisplayString(_ctx.displayResource(resource)) + \" \" + _toDisplayString(resource.displayName), 1))\n          }), 128)),\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createElementVNode(\"h2\", null, _toDisplayString(_ctx.name), 1),\n            _createElementVNode(\"span\", _hoisted_4, \"Lv. \" + _toDisplayString(_ctx.formatWhole(_ctx.level.value)), 1),\n            _hoisted_5,\n            (_ctx.modifierInfo)\n              ? (_openBlock(), _createBlock(_component_ModifierInfo, _mergeProps({\n                  key: 0,\n                  display: _ctx.modifierInfo,\n                  name: _ctx.name\n                }, _ctx.modifierModalAttrs), null, 16, [\"display\", \"name\"]))\n              : _createCommentVNode(\"\", true)\n          ])\n        ]),\n        (_ctx.selected && _ctx.unref(_ctx.currentQuip))\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \"\\\"\" + _toDisplayString(_ctx.unref(_ctx.currentQuip)) + \"\\\"\", 1))\n          : _createCommentVNode(\"\", true),\n        _hoisted_7,\n        _createVNode(_component_Tooltip, {\n          direction: _ctx.Direction.Left,\n          display: \"Toggle Time Loop\",\n          class: \"job-loop-toggle\"\n        }, {\n          default: _withCtx(() => [\n            (_ctx.finishedFirstChapter)\n              ? (_openBlock(), _createElementBlock(\"button\", {\n                  key: 0,\n                  class: _normalizeClass([\"material-icons\", {\n                    active: _ctx.unref(_ctx.timeLoopActive)\n                }]),\n                  onClick: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (_ctx.timeLoopActive.value = !_ctx.unref(_ctx.timeLoopActive)), [\"stop\"])),\n                  disabled: !_ctx.hasTimeSlotAvailable && !_ctx.unref(_ctx.timeLoopActive)\n                }, \" all_inclusive \", 10, _hoisted_8))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        }, 8, [\"direction\"]),\n        _createVNode(_component_Node, { id: _ctx.id }, null, 8, [\"id\"])\n      ], 6))\n    : _createCommentVNode(\"\", true)\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, withModifiers as _withModifiers, createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, mergeProps as _mergeProps, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\"\n\nimport Modal from \"../components/Modal.vue\";\nimport { ProcessedComputable } from \"util/computed\";\nimport {\n    Component,\n    onBeforeUnmount,\n    ref,\n    shallowRef,\n    toRef,\n    watch,\n    watchEffect,\n    WatchStopHandle\n} from \"vue\";\nimport { coerceComponent, unwrapRef } from \"util/vue\";\nimport { CoercableComponent } from \"./feature\";\nimport Tooltip from \"./tooltips/Tooltip.vue\";\nimport { Direction } from \"util/common\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    display: null,\n    name: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\n    display: ProcessedComputable<CoercableComponent>;\n    name: string;\n}\n\n\nconst display = toRef(props, \"display\");\n\nconst openModal = ref<boolean>(false);\n\nconst comp = shallowRef<Component | \"\">();\nlet watcher: WatchStopHandle | null = null;\n\nwatch(openModal, isOpen => {\n    watcher?.();\n    if (isOpen) {\n        watcher = watchEffect(() => {\n            comp.value = coerceComponent(unwrapRef(display));\n        });\n    } else {\n        watcher = null;\n    }\n});\n\nonBeforeUnmount(() => watcher?.());\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(Tooltip, {\n      direction: _unref(Direction).Left,\n      display: \"Open Modifiers\",\n      xoffset: \"10px\"\n    }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"span\", {\n          class: \"material-icons-outlined modifier-info-toggle\",\n          onClick: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (openModal.value = true), [\"stop\"]))\n        }, \"help\")\n      ]),\n      _: 1\n    }, 8, [\"direction\"]),\n    _createVNode(Modal, _mergeProps({\n      modelValue: openModal.value,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((openModal).value = $event)),\n      class: \"modifiers-modal\"\n    }, _ctx.$attrs), {\n      header: _withCtx(() => [\n        _createElementVNode(\"h2\", null, _toDisplayString(__props.name) + \" Modifiers\", 1)\n      ]),\n      body: _withCtx(({ shown }) => [\n        shown\n          ? (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(comp)), { key: 0 }))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }, 16, [\"modelValue\"])\n  ], 64))\n}\n}\n\n})","import script from \"./ModifierInfo.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ModifierInfo.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ModifierInfo.vue?vue&type=style&index=0&id=5fb31628&scoped=true&lang=css\"\nimport \"./ModifierInfo.vue?vue&type=style&index=1&id=5fb31628&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5fb31628\"]])\n\nexport default __exports__","\nimport \"components/common/features.css\";\nimport Node from \"components/Node.vue\";\nimport { main } from \"data/projEntry\";\nimport { CoercableComponent, StyleValue, Visibility } from \"features/feature\";\nimport ModifierInfo from \"features/ModifierInfo.vue\";\nimport { displayResource, Resource } from \"features/resources/resource\";\nimport Tooltip from \"features/tooltips/Tooltip.vue\";\nimport { Persistent } from \"game/persistence\";\nimport player from \"game/player\";\nimport { formatWhole } from \"util/bignum\";\nimport { Direction } from \"util/common\";\nimport { processedPropType, unwrapRef } from \"util/vue\";\nimport {\n    computed,\n    ComputedRef,\n    defineComponent,\n    onUnmounted,\n    PropType,\n    ref,\n    Ref,\n    toRefs,\n    unref,\n    watch,\n    watchEffect\n} from \"vue\";\n\nexport default defineComponent({\n    props: {\n        visibility: {\n            type: processedPropType<Visibility>(Number),\n            required: true\n        },\n        style: processedPropType<StyleValue>(String, Object, Array),\n        classes: processedPropType<Record<string, boolean>>(Object),\n        xp: {\n            type: Object as PropType<Resource>,\n            required: true\n        },\n        level: {\n            type: Object as PropType<Resource>,\n            required: true\n        },\n        levelProgress: {\n            type: Object as PropType<Ref<number>>,\n            required: true\n        },\n        timeLoopActive: {\n            type: Object as PropType<Persistent<boolean>>,\n            required: true\n        },\n        name: {\n            type: String,\n            required: true\n        },\n        color: {\n            type: processedPropType<string>(String),\n            required: true\n        },\n        image: {\n            type: processedPropType<string>(String),\n            required: true\n        },\n        imageFocus: {\n            type: processedPropType<{ x: string; y: string }>(Object),\n            required: true\n        },\n        resource: [Object, Array] as PropType<Resource | Resource[]>,\n        layerID: {\n            type: String,\n            required: true\n        },\n        currentQuip: {\n            type: Object as PropType<Ref<string | null>>,\n            required: true\n        },\n        randomQuips: {\n            type: processedPropType<string[]>(Array),\n            required: true\n        },\n        modifierInfo: processedPropType<CoercableComponent>(String, Object, Function),\n        id: {\n            type: String,\n            required: true\n        },\n        modifierModalAttrs: Object as PropType<Record<string, unknown>>\n    },\n    components: {\n        Node,\n        ModifierInfo,\n        Tooltip\n    },\n    setup(props) {\n        const { layerID, currentQuip, randomQuips, resource } = toRefs(props);\n\n        const selected = computed(() => player.tabs[1] == layerID.value);\n        const finishedFirstChapter: ComputedRef<boolean> = computed(() => main.chapter.value > 1);\n        const hasTimeSlotAvailable: ComputedRef<boolean> = main.hasTimeSlotAvailable;\n\n        function openJob() {\n            player.tabs.splice(1, 1, layerID.value);\n        }\n\n        let quipTimer: number | undefined = undefined;\n        watchEffect(() => {\n            clearInterval(quipTimer);\n            const quips = unwrapRef(randomQuips);\n            if (currentQuip.value) {\n                quipTimer = setTimeout(() => {\n                    currentQuip.value = null;\n                }, 15000);\n            } else {\n                quipTimer = setTimeout(() => {\n                    currentQuip.value = quips[Math.floor(Math.random() * quips.length)];\n                }, Math.random() * 15000 + 15000);\n            }\n        });\n        onUnmounted(() => clearInterval(quipTimer));\n\n        const animating = ref<boolean>(false);\n        watch(selected, () => {\n            animating.value = true;\n            setTimeout(() => (animating.value = false), 250);\n        });\n\n        const resourceArray = computed(() => {\n            if (\"displayName\" in resource) {\n                return [resource] as unknown as Resource[];\n            }\n            const currResource = unref(resource);\n            if (Array.isArray(currResource)) {\n                return currResource as unknown as Resource[];\n            }\n            return [];\n        });\n\n        return {\n            selected,\n            animating,\n            finishedFirstChapter,\n            hasTimeSlotAvailable,\n            formatWhole,\n            openJob,\n            unref,\n            displayResource,\n            resourceArray,\n            Visibility,\n            Direction\n        };\n    }\n});\n","import { render } from \"./Job.vue?vue&type=template&id=de368962&scoped=true&ts=true\"\nimport script from \"./Job.vue?vue&type=script&lang=tsx\"\nexport * from \"./Job.vue?vue&type=script&lang=tsx\"\n\nimport \"./Job.vue?vue&type=style&index=0&id=de368962&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-de368962\"]])\n\nexport default __exports__","import {\n    Component,\n    OptionsFunc,\n    GatherProps,\n    getUniqueID,\n    Replace,\n    setDefault,\n    StyleValue,\n    Visibility,\n    CoercableComponent\n} from \"features/feature\";\nimport JobComponent from \"features/job/Job.vue\";\nimport { createResource, Resource } from \"features/resources/resource\";\nimport { Persistent, persistent } from \"game/persistence\";\nimport Decimal, { DecimalSource } from \"util/bignum\";\nimport {\n    Computable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { computed, nextTick, ref, Ref, unref } from \"vue\";\n\nexport const JobType = Symbol(\"Job\");\nconst levelSoftcapPower = 0.7643; // chosen so that e308 = level 100\n\ndeclare module \"@vue/runtime-dom\" {\n    interface CSSProperties {\n        \"--posx\"?: string;\n        \"--posy\"?: string;\n        \"--progress\"?: string;\n    }\n}\n\nexport interface JobOptions {\n    visibility?: Computable<Visibility>;\n    classes?: Computable<Record<string, boolean>>;\n    style?: Computable<StyleValue>;\n    color: Computable<string>;\n    image: Computable<string>;\n    imageFocus: Computable<{ x: string; y: string }>;\n    resource?: Resource | Resource[];\n    randomQuips?: Computable<string[]>;\n    layerID: string;\n    modifierInfo?: Computable<CoercableComponent>;\n    modifierModalAttrs?: Record<string, unknown>;\n}\n\nexport interface BaseJob {\n    id: string;\n    name: string;\n    xp: Resource;\n    rawLevel: Ref<DecimalSource>;\n    level: Resource;\n    levelProgress: Ref<number>;\n    timeLoopActive: Persistent<boolean>;\n    currentQuip: Ref<string | null>;\n    setQuip: (quip?: string) => void;\n    type: typeof JobType;\n    [Component]: typeof JobComponent;\n    [GatherProps]: () => Record<string, unknown>;\n}\n\nexport type Job<T extends JobOptions> = Replace<\n    T & BaseJob,\n    {\n        visibility: GetComputableTypeWithDefault<T[\"visibility\"], Visibility.Visible>;\n        classes: GetComputableType<T[\"classes\"]>;\n        style: GetComputableType<T[\"style\"]>;\n        color: GetComputableType<T[\"color\"]>;\n        image: GetComputableType<T[\"image\"]>;\n        imageFocus: GetComputableType<T[\"imageFocus\"]>;\n        randomQuips: GetComputableType<T[\"randomQuips\"]>;\n    }\n>;\n\nexport type GenericJob = Replace<\n    Job<JobOptions>,\n    {\n        visibility: ProcessedComputable<Visibility>;\n    }\n>;\n\nexport function createJob<T extends JobOptions>(\n    name: string,\n    optionsFunc: OptionsFunc<T, Job<T>, BaseJob>\n): Job<T> {\n    const xp = createResource<DecimalSource>(0, name + \" XP\");\n    const timeLoopActive = persistent<boolean>(false);\n    return createLazyProxy(() => {\n        const job = optionsFunc();\n        job.id = getUniqueID(\"job-\");\n        job.type = JobType;\n        job[Component] = JobComponent;\n\n        job.name = name;\n        job.xp = xp;\n        job.timeLoopActive = timeLoopActive;\n        job.rawLevel = computed(() => {\n            const genericJob = job as GenericJob;\n            if (Decimal.eq(genericJob.xp.value, 0)) {\n                return 1;\n            }\n            let baseLevel = Decimal.clampMin(genericJob.xp.value, 1).log10().add(1);\n            if (baseLevel.gt(25)) {\n                baseLevel = baseLevel.sub(25).pow(levelSoftcapPower).add(25);\n            }\n            return baseLevel.floor();\n        });\n        job.level = createResource<DecimalSource>(\n            computed(() => (job as GenericJob).rawLevel.value),\n            job.name + \" Levels\"\n        );\n        job.levelProgress = computed(() => {\n            const genericJob = job as GenericJob;\n            const level = genericJob.rawLevel.value;\n\n            const prevRequirement = getXPRequirement(level);\n            const nextRequirement = getXPRequirement(Decimal.add(level, 1));\n\n            let progress;\n            if (Decimal.lt(level, 25)) {\n                // Linear\n                progress = Decimal.sub(genericJob.xp.value, prevRequirement)\n                    .div(Decimal.sub(nextRequirement, prevRequirement))\n                    .toNumber();\n            } else {\n                // Logarithmic\n                progress = Decimal.log10(genericJob.xp.value)\n                    .sub(Decimal.log10(prevRequirement))\n                    .div(Decimal.log10(nextRequirement).sub(Decimal.log10(prevRequirement)))\n                    .toNumber();\n            }\n            return progress;\n        });\n        job.currentQuip = ref(null);\n\n        job.setQuip = function (quip?: string) {\n            const genericJob = job as GenericJob;\n            if (genericJob.currentQuip.value) {\n                genericJob.currentQuip.value = null;\n                nextTick(genericJob.setQuip);\n                return;\n            }\n\n            if (quip) {\n                genericJob.currentQuip.value = quip;\n            } else if (unref(genericJob.randomQuips)) {\n                const quips = unref(genericJob.randomQuips) as string[];\n                genericJob.currentQuip.value = quips[Math.floor(Math.random() * quips.length)];\n            }\n        };\n\n        processComputable(job as T, \"visibility\");\n        setDefault(job, \"visibility\", Visibility.Visible);\n        processComputable(job as T, \"classes\");\n        processComputable(job as T, \"style\");\n        processComputable(job as T, \"color\");\n        processComputable(job as T, \"image\");\n        processComputable(job as T, \"imageFocus\");\n        processComputable(job as T, \"randomQuips\");\n        processComputable(job as T, \"modifierInfo\");\n\n        job[GatherProps] = function (this: GenericJob) {\n            const {\n                id,\n                xp,\n                level,\n                levelProgress,\n                timeLoopActive,\n                name,\n                visibility,\n                color,\n                image,\n                imageFocus,\n                resource,\n                layerID,\n                classes,\n                style,\n                currentQuip,\n                randomQuips,\n                modifierInfo,\n                modifierModalAttrs\n            } = this;\n            return {\n                id,\n                xp,\n                level,\n                levelProgress,\n                timeLoopActive,\n                name,\n                visibility,\n                color,\n                image,\n                imageFocus,\n                resource,\n                layerID,\n                classes,\n                style: unref(style),\n                currentQuip,\n                randomQuips,\n                modifierInfo,\n                modifierModalAttrs\n            };\n        };\n\n        return job as unknown as Job<T>;\n    });\n}\n\nfunction getXPRequirement(level: DecimalSource): DecimalSource {\n    if (Decimal.eq(level, 1)) {\n        return 0;\n    }\n    if (Decimal.gt(level, 25)) {\n        level = Decimal.sub(level, 25)\n            .pow(1 / levelSoftcapPower)\n            .add(25);\n    }\n    return Decimal.sub(level, 1).pow10();\n}\n","import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Node = _resolveComponent(\"Node\")!\n\n  return (_ctx.unref(_ctx.visibility) !== _ctx.Visibility.None)\n    ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 0,\n        style: _normalizeStyle([\n            {\n                visibility: _ctx.unref(_ctx.visibility) === _ctx.Visibility.Hidden ? 'hidden' : undefined\n            },\n            _ctx.unref(_ctx.style) ?? {}\n        ]),\n        class: _normalizeClass({ feature: true, milestone: true, done: _ctx.unref(_ctx.earned), ..._ctx.unref(_ctx.classes) })\n      }, [\n        (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.unref(_ctx.comp)))),\n        _createVNode(_component_Node, { id: _ctx.id }, null, 8, [\"id\"])\n      ], 6))\n    : _createCommentVNode(\"\", true)\n}","\nimport \"components/common/features.css\";\nimport { jsx, StyleValue, Visibility } from \"features/feature\";\nimport { GenericMilestone } from \"features/milestones/milestone\";\nimport { coerceComponent, isCoercableComponent, processedPropType, unwrapRef } from \"util/vue\";\nimport { Component, defineComponent, shallowRef, toRefs, unref, UnwrapRef, watchEffect } from \"vue\";\nimport Node from \"../../components/Node.vue\";\n\nexport default defineComponent({\n    props: {\n        visibility: {\n            type: processedPropType<Visibility>(Number),\n            required: true\n        },\n        display: {\n            type: processedPropType<UnwrapRef<GenericMilestone[\"display\"]>>(\n                String,\n                Object,\n                Function\n            ),\n            required: true\n        },\n        style: processedPropType<StyleValue>(String, Object, Array),\n        classes: processedPropType<Record<string, boolean>>(Object),\n        earned: {\n            type: processedPropType<boolean>(Boolean),\n            required: true\n        },\n        id: {\n            type: String,\n            required: true\n        }\n    },\n    components: {\n        Node\n    },\n    setup(props) {\n        const { display } = toRefs(props);\n\n        const comp = shallowRef<Component | string>(\"\");\n\n        watchEffect(() => {\n            const currDisplay = unwrapRef(display);\n            if (currDisplay == null) {\n                comp.value = \"\";\n                return;\n            }\n            if (isCoercableComponent(currDisplay)) {\n                comp.value = coerceComponent(currDisplay);\n                return;\n            }\n            const Requirement = coerceComponent(currDisplay.requirement, \"h3\");\n            const EffectDisplay = coerceComponent(currDisplay.effectDisplay || \"\", \"b\");\n            const OptionsDisplay = coerceComponent(currDisplay.optionsDisplay || \"\", \"span\");\n            comp.value = coerceComponent(\n                jsx(() => (\n                    <span>\n                        <Requirement />\n                        {currDisplay.effectDisplay ? (\n                            <div>\n                                <EffectDisplay />\n                            </div>\n                        ) : null}\n                        {currDisplay.optionsDisplay ? (\n                            <div class=\"equal-spaced\">\n                                <OptionsDisplay />\n                            </div>\n                        ) : null}\n                    </span>\n                ))\n            );\n        });\n\n        return {\n            comp,\n            unref,\n            Visibility\n        };\n    }\n});\n","import { render } from \"./Milestone.vue?vue&type=template&id=0b660ac3&scoped=true&ts=true\"\nimport script from \"./Milestone.vue?vue&type=script&lang=tsx\"\nexport * from \"./Milestone.vue?vue&type=script&lang=tsx\"\n\nimport \"./Milestone.vue?vue&type=style&index=0&id=0b660ac3&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0b660ac3\"]])\n\nexport default __exports__","import { globalBus } from \"game/events\";\nimport Toast from \"vue-toastification\";\nimport \"vue-toastification/dist/index.css\";\n\nglobalBus.on(\"setupVue\", vue => vue.use(Toast));\n\nexport function getNotifyStyle(color = \"white\", strength = \"8px\") {\n    return {\n        transform: \"scale(1.05, 1.05)\",\n        borderColor: \"rgba(0, 0, 0, 0.125)\",\n        boxShadow: `-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 ${strength} ${color}`,\n        zIndex: 1\n    };\n}\n\nexport function getHighNotifyStyle() {\n    return getNotifyStyle(\"red\", \"20px\");\n}\n","import Select from \"components/fields/Select.vue\";\nimport {\n    CoercableComponent,\n    Component,\n    OptionsFunc,\n    GatherProps,\n    getUniqueID,\n    jsx,\n    Replace,\n    setDefault,\n    StyleValue,\n    Visibility\n} from \"features/feature\";\nimport MilestoneComponent from \"features/milestones/Milestone.vue\";\nimport { globalBus } from \"game/events\";\nimport \"game/notifications\";\nimport { persistent, Persistent } from \"game/persistence\";\nimport settings, { registerSettingField } from \"game/settings\";\nimport { camelToTitle } from \"util/common\";\nimport {\n    Computable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { coerceComponent, isCoercableComponent } from \"util/vue\";\nimport { computed, unref, watchEffect } from \"vue\";\nimport { useToast } from \"vue-toastification\";\n\nconst toast = useToast();\n\nexport const MilestoneType = Symbol(\"Milestone\");\n\nexport enum MilestoneDisplay {\n    All = \"all\",\n    //Last = \"last\",\n    Configurable = \"configurable\",\n    Incomplete = \"incomplete\",\n    None = \"none\"\n}\n\nexport interface MilestoneOptions {\n    visibility?: Computable<Visibility>;\n    shouldEarn?: () => boolean;\n    style?: Computable<StyleValue>;\n    classes?: Computable<Record<string, boolean>>;\n    display?: Computable<\n        | CoercableComponent\n        | {\n              requirement: CoercableComponent;\n              effectDisplay?: CoercableComponent;\n              optionsDisplay?: CoercableComponent;\n          }\n    >;\n    onComplete?: VoidFunction;\n}\n\nexport interface BaseMilestone {\n    id: string;\n    earned: Persistent<boolean>;\n    complete: VoidFunction;\n    type: typeof MilestoneType;\n    [Component]: typeof MilestoneComponent;\n    [GatherProps]: () => Record<string, unknown>;\n}\n\nexport type Milestone<T extends MilestoneOptions> = Replace<\n    T & BaseMilestone,\n    {\n        visibility: GetComputableTypeWithDefault<T[\"visibility\"], Visibility.Visible>;\n        style: GetComputableType<T[\"style\"]>;\n        classes: GetComputableType<T[\"classes\"]>;\n        display: GetComputableType<T[\"display\"]>;\n    }\n>;\n\nexport type GenericMilestone = Replace<\n    Milestone<MilestoneOptions>,\n    {\n        visibility: ProcessedComputable<Visibility>;\n    }\n>;\n\nexport function createMilestone<T extends MilestoneOptions>(\n    optionsFunc?: OptionsFunc<T, Milestone<T>, BaseMilestone>\n): Milestone<T> {\n    const earned = persistent<boolean>(false);\n    return createLazyProxy(() => {\n        const milestone = optionsFunc?.() ?? ({} as ReturnType<NonNullable<typeof optionsFunc>>);\n        milestone.id = getUniqueID(\"milestone-\");\n        milestone.type = MilestoneType;\n        milestone[Component] = MilestoneComponent;\n\n        milestone.earned = earned;\n        milestone.complete = function () {\n            earned.value = true;\n        };\n\n        processComputable(milestone as T, \"visibility\");\n        setDefault(milestone, \"visibility\", Visibility.Visible);\n        const visibility = milestone.visibility as ProcessedComputable<Visibility>;\n        milestone.visibility = computed(() => {\n            const display = unref((milestone as GenericMilestone).display);\n            switch (settings.msDisplay) {\n                default:\n                case MilestoneDisplay.All:\n                    return unref(visibility);\n                case MilestoneDisplay.Configurable:\n                    if (\n                        unref(milestone.earned) &&\n                        !(\n                            display != null &&\n                            typeof display == \"object\" &&\n                            \"optionsDisplay\" in (display as Record<string, unknown>)\n                        )\n                    ) {\n                        return Visibility.None;\n                    }\n                    return unref(visibility);\n                case MilestoneDisplay.Incomplete:\n                    if (unref(milestone.earned)) {\n                        return Visibility.None;\n                    }\n                    return unref(visibility);\n                case MilestoneDisplay.None:\n                    return Visibility.None;\n            }\n        });\n\n        processComputable(milestone as T, \"style\");\n        processComputable(milestone as T, \"classes\");\n        processComputable(milestone as T, \"display\");\n\n        milestone[GatherProps] = function (this: GenericMilestone) {\n            const { visibility, display, style, classes, earned, id } = this;\n            return { visibility, display, style: unref(style), classes, earned, id };\n        };\n\n        if (milestone.shouldEarn) {\n            const genericMilestone = milestone as GenericMilestone;\n            watchEffect(() => {\n                if (\n                    !genericMilestone.earned.value &&\n                    unref(genericMilestone.visibility) === Visibility.Visible &&\n                    genericMilestone.shouldEarn?.()\n                ) {\n                    genericMilestone.earned.value = true;\n                    genericMilestone.onComplete?.();\n                    if (genericMilestone.display) {\n                        const display = unref(genericMilestone.display);\n                        const Display = coerceComponent(\n                            isCoercableComponent(display) ? display : display.requirement\n                        );\n                        toast(\n                            <>\n                                <h3>Milestone earned!</h3>\n                                <div>\n                                    {/* eslint-disable-next-line @typescript-eslint/ban-ts-comment */}\n                                    {/* @ts-ignore */}\n                                    <Display />\n                                </div>\n                            </>\n                        );\n                    }\n                }\n            });\n        }\n\n        return milestone as unknown as Milestone<T>;\n    });\n}\n\ndeclare module \"game/settings\" {\n    interface Settings {\n        msDisplay: MilestoneDisplay;\n    }\n}\n\nglobalBus.on(\"loadSettings\", settings => {\n    setDefault(settings, \"msDisplay\", MilestoneDisplay.All);\n});\n\nconst msDisplayOptions = Object.values(MilestoneDisplay).map(option => ({\n    label: camelToTitle(option),\n    value: option\n}));\n\nregisterSettingField(\n    jsx(() => (\n        <Select\n            title=\"Show Milestones\"\n            options={msDisplayOptions}\n            onUpdate:modelValue={value => (settings.msDisplay = value as MilestoneDisplay)}\n            modelValue={settings.msDisplay}\n        />\n    ))\n);\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { displayResource, Resource } from \"features/resources/resource\";\nimport { computed } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    resource: null,\n    color: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\n    resource: Resource;\n    color: string;\n}\n\n\n\nconst amount = computed(() => displayResource(props.resource));\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"h2\", {\n    style: _normalizeStyle({ color: __props.color, 'text-shadow': '0px 0px 10px ' + __props.color })\n  }, _toDisplayString(_unref(amount)), 5))\n}\n}\n\n})","import script from \"./Resource.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Resource.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, toDisplayString as _toDisplayString, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { key: 1 }\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\", \")\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\n\nimport { CoercableComponent } from \"features/feature\";\nimport { Resource } from \"features/resources/resource\";\nimport Decimal from \"util/bignum\";\nimport { computeOptionalComponent } from \"util/vue\";\nimport { computed, Ref, StyleValue, toRefs } from \"vue\";\nimport ResourceVue from \"features/resources/Resource.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    resource: null,\n    color: null,\n    classes: null,\n    style: null,\n    effectDisplay: null\n  },\n  setup(__props: any) {\n\nconst _props = __props as {\n    resource: Resource;\n    color?: string;\n    classes?: Record<string, boolean>;\n    style?: StyleValue;\n    effectDisplay?: CoercableComponent;\n}\n\n\nconst props = toRefs(_props);\n\nconst effectComponent = computeOptionalComponent(\n    props.effectDisplay as Ref<CoercableComponent | undefined>\n);\n\nconst showPrefix = computed(() => {\n    return Decimal.lt(props.resource.value, \"1e1000\");\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    (_unref(showPrefix))\n      ? (_openBlock(), _createElementBlock(\"span\", _hoisted_1, \"You have \"))\n      : _createCommentVNode(\"\", true),\n    _createVNode(ResourceVue, {\n      resource: __props.resource,\n      color: __props.color || 'white'\n    }, null, 8, [\"resource\", \"color\"]),\n    _createTextVNode(\" \" + _toDisplayString(__props.resource.displayName), 1),\n    (_unref(effectComponent))\n      ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, [\n          _hoisted_3,\n          (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(effectComponent))))\n        ]))\n      : _createCommentVNode(\"\", true),\n    _hoisted_4,\n    _hoisted_5\n  ]))\n}\n}\n\n})","import script from \"./MainDisplay.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MainDisplay.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createStaticVNode as _createStaticVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-10102872\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"spell-tree-container\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"spell-tree\" }, null, -1))\nconst _hoisted_3 = /*#__PURE__*/_createStaticVNode(\"<svg style=\\\"display:none;\\\" data-v-10102872><filter id=\\\"skilltreeturbulence\\\" data-v-10102872><feTurbulence x=\\\"-50vw\\\" y=\\\"-50vh\\\" width=\\\"200vw\\\" height=\\\"200vh\\\" baseFrequency=\\\"0.015\\\" numOctaves=\\\"10\\\" seed=\\\"2\\\" data-v-10102872></feTurbulence><feDisplacementMap in=\\\"SourceGraphic\\\" scale=\\\"10\\\" data-v-10102872><animate attributeName=\\\"scale\\\" values=\\\"10;50;10\\\" dur=\\\"10s\\\" repeatCount=\\\"indefinite\\\" data-v-10102872></animate></feDisplacementMap></filter></svg>\", 1)\n\nimport \"components/common/features.css\";\nimport { GenericSpellTreeNode, Spell } from \"data/flowers/layer\";\nimport { createClickable } from \"features/clickables/clickable\";\nimport { render } from \"util/vue\";\nimport { Component, shallowRef, watchEffect } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    spell: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\n    spell: Spell<string>;\n}\n\n\n\nconst treeComponent = shallowRef<Component | string>(\"\");\n\nwatchEffect(() => {\n    treeComponent.value = render(props.spell.tree);\n});\n\nconst clickable = createClickable(() => ({\n    display: \"reset\",\n    classes: { \"reset-tree\": true },\n    onClick() {\n        Object.values(props.spell.treeNodes).forEach(\n            n => ((n as GenericSpellTreeNode).bought.value = false)\n        );\n        props.spell.castingTime.value = 0;\n    }\n}));\nconst clickableComponent = render(clickable);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(treeComponent)))),\n    (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(clickableComponent)))),\n    _hoisted_3\n  ]))\n}\n}\n\n})","import script from \"./SpellTree.vue?vue&type=script&setup=true&lang=tsx\"\nexport * from \"./SpellTree.vue?vue&type=script&setup=true&lang=tsx\"\n\nimport \"./SpellTree.vue?vue&type=style&index=0&id=10102872&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-10102872\"]])\n\nexport default __exports__","import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_ctx.unref(_ctx.visibility) !== _ctx.Visibility.None)\n    ? (_openBlock(), _createElementBlock(\"button\", {\n        key: 0,\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.selectTab && _ctx.selectTab(...args))),\n        class: _normalizeClass([\"tabButton\", {\n            active: _ctx.active,\n            ..._ctx.unref(_ctx.classes)\n        }]),\n        style: _normalizeStyle([\n            {\n                visibility: _ctx.unref(_ctx.visibility) === _ctx.Visibility.Hidden ? 'hidden' : undefined\n            },\n            _ctx.glowColorStyle,\n            _ctx.unref(_ctx.style) ?? {}\n        ])\n      }, [\n        (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.component)))\n      ], 6))\n    : _createCommentVNode(\"\", true)\n}","\nimport { CoercableComponent, StyleValue, Visibility } from \"features/feature\";\nimport { getNotifyStyle } from \"game/notifications\";\nimport { computeComponent, processedPropType, unwrapRef } from \"util/vue\";\nimport { computed, defineComponent, toRefs, unref } from \"vue\";\n\nexport default defineComponent({\n    props: {\n        visibility: {\n            type: processedPropType<Visibility>(Number),\n            required: true\n        },\n        display: {\n            type: processedPropType<CoercableComponent>(Object, String, Function),\n            required: true\n        },\n        style: processedPropType<StyleValue>(String, Object, Array),\n        classes: processedPropType<Record<string, boolean>>(Object),\n        glowColor: processedPropType<string>(String),\n        active: Boolean,\n        floating: Boolean\n    },\n    emits: [\"selectTab\"],\n    setup(props, { emit }) {\n        const { display, glowColor, floating } = toRefs(props);\n\n        const component = computeComponent(display);\n\n        const glowColorStyle = computed(() => {\n            const color = unwrapRef(glowColor);\n            if (!color) {\n                return {};\n            }\n            if (unref(floating)) {\n                return getNotifyStyle(color);\n            }\n            return { boxShadow: `0px 9px 5px -6px ${color}` };\n        });\n\n        function selectTab() {\n            emit(\"selectTab\");\n        }\n\n        return {\n            selectTab,\n            component,\n            glowColorStyle,\n            unref,\n            Visibility\n        };\n    }\n});\n","import { render } from \"./TabButton.vue?vue&type=template&id=3e3f03f9&scoped=true&ts=true\"\nimport script from \"./TabButton.vue?vue&type=script&lang=ts\"\nexport * from \"./TabButton.vue?vue&type=script&lang=ts\"\n\nimport \"./TabButton.vue?vue&type=style&index=0&id=3e3f03f9&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3e3f03f9\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, mergeProps as _mergeProps, createBlock as _createBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, resolveDynamicComponent as _resolveDynamicComponent, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_TabButton = _resolveComponent(\"TabButton\")!\n  const _component_Sticky = _resolveComponent(\"Sticky\")!\n\n  return (_ctx.unref(_ctx.visibility) !== _ctx.Visibility.None)\n    ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 0,\n        class: _normalizeClass([\"tab-family-container\", { ..._ctx.unref(_ctx.classes), ..._ctx.tabClasses }]),\n        style: _normalizeStyle([\n            {\n                visibility: _ctx.unref(_ctx.visibility) === _ctx.Visibility.Hidden ? 'hidden' : undefined\n            },\n            _ctx.unref(_ctx.style) ?? [],\n            _ctx.tabStyle ?? []\n        ])\n      }, [\n        _createVNode(_component_Sticky, { class: \"tab-buttons-container\" }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", {\n              class: _normalizeClass([\"tab-buttons\", { floating: _ctx.floating }])\n            }, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.unref(_ctx.tabs), (button, id) => {\n                return (_openBlock(), _createBlock(_component_TabButton, _mergeProps({\n                  onSelectTab: ($event: any) => (_ctx.selected.value = id),\n                  floating: _ctx.floating,\n                  key: id,\n                  active: _ctx.unref(button.tab) === _ctx.unref(_ctx.activeTab)\n                }, _ctx.gatherButtonProps(button)), null, 16, [\"onSelectTab\", \"floating\", \"active\"]))\n              }), 128))\n            ], 2)\n          ]),\n          _: 1\n        }),\n        (_ctx.unref(_ctx.activeTab))\n          ? (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.unref(_ctx.component)), { key: 0 }))\n          : _createCommentVNode(\"\", true)\n      ], 6))\n    : _createCommentVNode(\"\", true)\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { nextTick, onMounted, ref } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst top = ref(\"0\");\nconst observer = new ResizeObserver(updateTop);\nconst element = ref<HTMLElement | null>(null);\n\nfunction updateTop() {\n    let el = element.value;\n    if (el == undefined) {\n        return;\n    }\n\n    let newTop = 0;\n    while (el.previousSibling) {\n        const sibling = el.previousSibling as HTMLElement;\n        if (sibling.dataset && \"vSticky\" in sibling.dataset) {\n            newTop += sibling.offsetHeight;\n        }\n        el = sibling;\n    }\n    top.value = newTop + \"px\";\n}\n\nnextTick(updateTop);\ndocument.fonts.ready.then(updateTop);\n\nonMounted(() => {\n    const el = element.value?.parentElement;\n    if (el) {\n        observer.observe(el);\n    }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"sticky\",\n    style: _normalizeStyle({ top: top.value }),\n    ref_key: \"element\",\n    ref: element,\n    \"data-v-sticky\": \"\"\n  }, [\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 4))\n}\n}\n\n})","import script from \"./Sticky.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Sticky.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Sticky.vue?vue&type=style&index=0&id=77aa21df&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-77aa21df\"]])\n\nexport default __exports__","\nimport Sticky from \"components/layout/Sticky.vue\";\nimport themes from \"data/themes\";\nimport { CoercableComponent, StyleValue, Visibility } from \"features/feature\";\nimport { GenericTab } from \"features/tabs/tab\";\nimport TabButton from \"features/tabs/TabButton.vue\";\nimport { GenericTabButton } from \"features/tabs/tabFamily\";\nimport settings from \"game/settings\";\nimport { coerceComponent, isCoercableComponent, processedPropType, unwrapRef } from \"util/vue\";\nimport {\n    Component,\n    computed,\n    defineComponent,\n    PropType,\n    Ref,\n    shallowRef,\n    toRefs,\n    unref,\n    watchEffect\n} from \"vue\";\n\nexport default defineComponent({\n    props: {\n        visibility: {\n            type: processedPropType<Visibility>(Number),\n            required: true\n        },\n        activeTab: {\n            type: processedPropType<GenericTab | CoercableComponent | null>(Object),\n            required: true\n        },\n        selected: {\n            type: Object as PropType<Ref<string>>,\n            required: true\n        },\n        tabs: {\n            type: processedPropType<Record<string, GenericTabButton>>(Object),\n            required: true\n        },\n        style: processedPropType<StyleValue>(String, Object, Array),\n        classes: processedPropType<Record<string, boolean>>(Object)\n    },\n    components: {\n        Sticky,\n        TabButton\n    },\n    setup(props) {\n        const { activeTab } = toRefs(props);\n\n        const floating = computed(() => {\n            return themes[settings.theme].floatingTabs;\n        });\n\n        const component = shallowRef<Component | string>(\"\");\n\n        watchEffect(() => {\n            const currActiveTab = unwrapRef(activeTab);\n            if (currActiveTab == null) {\n                component.value = \"\";\n                return;\n            }\n            if (isCoercableComponent(currActiveTab)) {\n                component.value = coerceComponent(currActiveTab);\n                return;\n            }\n            component.value = coerceComponent(unref(currActiveTab.display));\n        });\n\n        const tabClasses = computed(() => {\n            const currActiveTab = unwrapRef(activeTab);\n            const tabClasses =\n                isCoercableComponent(currActiveTab) || !currActiveTab\n                    ? undefined\n                    : unref(currActiveTab.classes);\n            return tabClasses;\n        });\n\n        const tabStyle = computed(() => {\n            const currActiveTab = unwrapRef(activeTab);\n            return isCoercableComponent(currActiveTab) || !currActiveTab\n                ? undefined\n                : unref(currActiveTab.style);\n        });\n\n        function gatherButtonProps(button: GenericTabButton) {\n            const { display, style, classes, glowColor, visibility } = button;\n            return { display, style: unref(style), classes, glowColor, visibility };\n        }\n\n        return {\n            floating,\n            tabClasses,\n            tabStyle,\n            Visibility,\n            component,\n            gatherButtonProps,\n            unref\n        };\n    }\n});\n","import { render } from \"./TabFamily.vue?vue&type=template&id=46a6b098&scoped=true&ts=true\"\nimport script from \"./TabFamily.vue?vue&type=script&lang=ts\"\nexport * from \"./TabFamily.vue?vue&type=script&lang=ts\"\n\nimport \"./TabFamily.vue?vue&type=style&index=0&id=46a6b098&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-46a6b098\"]])\n\nexport default __exports__","import {\n    CoercableComponent,\n    Component,\n    OptionsFunc,\n    GatherProps,\n    getUniqueID,\n    Replace,\n    setDefault,\n    StyleValue,\n    Visibility\n} from \"features/feature\";\nimport TabButtonComponent from \"features/tabs/TabButton.vue\";\nimport TabFamilyComponent from \"features/tabs/TabFamily.vue\";\nimport { Persistent, persistent } from \"game/persistence\";\nimport {\n    Computable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { computed, Ref, unref } from \"vue\";\nimport { GenericTab } from \"./tab\";\n\nexport const TabButtonType = Symbol(\"TabButton\");\nexport const TabFamilyType = Symbol(\"TabFamily\");\n\nexport interface TabButtonOptions {\n    visibility?: Computable<Visibility>;\n    tab: Computable<GenericTab | CoercableComponent>;\n    display: Computable<CoercableComponent>;\n    classes?: Computable<Record<string, boolean>>;\n    style?: Computable<StyleValue>;\n    glowColor?: Computable<string>;\n}\n\nexport interface BaseTabButton {\n    type: typeof TabButtonType;\n    [Component]: typeof TabButtonComponent;\n}\n\nexport type TabButton<T extends TabButtonOptions> = Replace<\n    T & BaseTabButton,\n    {\n        visibility: GetComputableTypeWithDefault<T[\"visibility\"], Visibility.Visible>;\n        tab: GetComputableType<T[\"tab\"]>;\n        display: GetComputableType<T[\"display\"]>;\n        classes: GetComputableType<T[\"classes\"]>;\n        style: GetComputableType<T[\"style\"]>;\n        glowColor: GetComputableType<T[\"glowColor\"]>;\n    }\n>;\n\nexport type GenericTabButton = Replace<\n    TabButton<TabButtonOptions>,\n    {\n        visibility: ProcessedComputable<Visibility>;\n    }\n>;\n\nexport interface TabFamilyOptions {\n    visibility?: Computable<Visibility>;\n    classes?: Computable<Record<string, boolean>>;\n    style?: Computable<StyleValue>;\n}\n\nexport interface BaseTabFamily {\n    id: string;\n    tabs: Record<string, TabButtonOptions>;\n    activeTab: Ref<GenericTab | CoercableComponent | null>;\n    selected: Persistent<string>;\n    type: typeof TabFamilyType;\n    [Component]: typeof TabFamilyComponent;\n    [GatherProps]: () => Record<string, unknown>;\n}\n\nexport type TabFamily<T extends TabFamilyOptions> = Replace<\n    T & BaseTabFamily,\n    {\n        visibility: GetComputableTypeWithDefault<T[\"visibility\"], Visibility.Visible>;\n        tabs: Record<string, GenericTabButton>;\n    }\n>;\n\nexport type GenericTabFamily = Replace<\n    TabFamily<TabFamilyOptions>,\n    {\n        visibility: ProcessedComputable<Visibility>;\n    }\n>;\n\nexport function createTabFamily<T extends TabFamilyOptions>(\n    tabs: Record<string, () => TabButtonOptions>,\n    optionsFunc?: OptionsFunc<T, TabFamily<T>, BaseTabFamily>\n): TabFamily<T> {\n    if (Object.keys(tabs).length === 0) {\n        console.warn(\"Cannot create tab family with 0 tabs\");\n        throw \"Cannot create tab family with 0 tabs\";\n    }\n\n    const selected = persistent(Object.keys(tabs)[0]);\n    return createLazyProxy(() => {\n        const tabFamily = optionsFunc?.() ?? ({} as ReturnType<NonNullable<typeof optionsFunc>>);\n\n        tabFamily.id = getUniqueID(\"tabFamily-\");\n        tabFamily.type = TabFamilyType;\n        tabFamily[Component] = TabFamilyComponent;\n\n        tabFamily.tabs = Object.keys(tabs).reduce<Record<string, GenericTabButton>>(\n            (parsedTabs, tab) => {\n                const tabButton: TabButtonOptions & Partial<BaseTabButton> = tabs[tab]();\n                tabButton.type = TabButtonType;\n                tabButton[Component] = TabButtonComponent;\n\n                processComputable(tabButton as TabButtonOptions, \"visibility\");\n                setDefault(tabButton, \"visibility\", Visibility.Visible);\n                processComputable(tabButton as TabButtonOptions, \"tab\");\n                processComputable(tabButton as TabButtonOptions, \"display\");\n                processComputable(tabButton as TabButtonOptions, \"classes\");\n                processComputable(tabButton as TabButtonOptions, \"style\");\n                processComputable(tabButton as TabButtonOptions, \"glowColor\");\n                parsedTabs[tab] = tabButton as GenericTabButton;\n                return parsedTabs;\n            },\n            {}\n        );\n        tabFamily.selected = selected;\n        tabFamily.activeTab = computed(() => {\n            const tabs = unref(processedTabFamily.tabs);\n            if (\n                selected.value in tabs &&\n                unref(tabs[selected.value].visibility) === Visibility.Visible\n            ) {\n                return unref(tabs[selected.value].tab);\n            }\n            const firstTab = Object.values(tabs).find(\n                tab => unref(tab.visibility) === Visibility.Visible\n            );\n            if (firstTab) {\n                return unref(firstTab.tab);\n            }\n            return null;\n        });\n\n        processComputable(tabFamily as T, \"visibility\");\n        setDefault(tabFamily, \"visibility\", Visibility.Visible);\n        processComputable(tabFamily as T, \"classes\");\n        processComputable(tabFamily as T, \"style\");\n\n        tabFamily[GatherProps] = function (this: GenericTabFamily) {\n            const { visibility, activeTab, selected, tabs, style, classes } = this;\n            return { visibility, activeTab, selected, tabs, style: unref(style), classes };\n        };\n\n        // This is necessary because board.types is different from T and TabFamily\n        const processedTabFamily = tabFamily as unknown as TabFamily<T>;\n        return processedTabFamily;\n    });\n}\n","import \"components/common/modifiers.css\";\nimport { CoercableComponent, jsx } from \"features/feature\";\nimport Decimal, { DecimalSource, format } from \"util/bignum\";\nimport { WithRequired } from \"util/common\";\nimport { Computable, convertComputable, ProcessedComputable } from \"util/computed\";\nimport { renderJSX } from \"util/vue\";\nimport { computed, unref } from \"vue\";\n\n/**\n * An object that can be used to apply or unapply some modification to a number.\n * Being reversible requires the operation being invertible, but some features may rely on that.\n * Descriptions can be optionally included for displaying them to the player.\n * The built-in modifier creators are designed to display the modifiers using.\n * {@link createModifierSection}.\n */\nexport interface Modifier {\n    /** Applies some operation on the input and returns the result. */\n    apply: (gain: DecimalSource) => DecimalSource;\n    /** Reverses the operation applied by the apply property. Required by some features. */\n    revert?: (gain: DecimalSource) => DecimalSource;\n    /**\n     * Whether or not this modifier should be considered enabled.\n     * Typically for use with modifiers passed into {@link createSequentialModifier}.\n     */\n    enabled?: ProcessedComputable<boolean>;\n    /**\n     * A description of this modifier.\n     * @see {@link createModifierSection}.\n     */\n    description?: ProcessedComputable<CoercableComponent>;\n}\n\n/**\n * Utility type used to narrow down a modifier type that will have a description and/or enabled property based on optional parameters, T and S (respectively).\n */\nexport type ModifierFromOptionalParams<T, S> = T extends undefined\n    ? S extends undefined\n        ? Omit<WithRequired<Modifier, \"revert\">, \"description\" | \"enabled\">\n        : Omit<WithRequired<Modifier, \"revert\" | \"enabled\">, \"description\">\n    : S extends undefined\n    ? Omit<WithRequired<Modifier, \"revert\" | \"description\">, \"enabled\">\n    : WithRequired<Modifier, \"revert\" | \"enabled\" | \"description\">;\n\n/**\n * Create a modifier that adds some value to the input value.\n * @param addend The amount to add to the input value.\n * @param description Description of what this modifier is doing.\n * @param enabled A computable that will be processed and passed directly into the returned modifier.\n */\nexport function createAdditiveModifier<\n    T extends Computable<CoercableComponent> | undefined,\n    S extends Computable<boolean> | undefined,\n    R = ModifierFromOptionalParams<T, S>\n>(addend: Computable<DecimalSource>, description?: T, enabled?: S): R {\n    const processedAddend = convertComputable(addend);\n    const processedDescription = convertComputable(description);\n    const processedEnabled = enabled == null ? undefined : convertComputable(enabled);\n    return {\n        apply: (gain: DecimalSource) => Decimal.add(gain, unref(processedAddend)),\n        revert: (gain: DecimalSource) => Decimal.sub(gain, unref(processedAddend)),\n        enabled: processedEnabled,\n        description:\n            description == null\n                ? undefined\n                : jsx(() => (\n                      <div class=\"modifier-container\">\n                          <span class=\"modifier-amount\">\n                              {Decimal.gte(unref(processedAddend), 0) ? \"+\" : \"\"}\n                              {format(unref(processedAddend))}\n                          </span>\n                          {unref(processedDescription) ? (\n                              <span class=\"modifier-description\">\n                                  {/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */}\n                                  {renderJSX(unref(processedDescription)!)}\n                              </span>\n                          ) : null}\n                      </div>\n                  ))\n    } as unknown as R;\n}\n\n/**\n * Create a modifier that multiplies the input value by some value.\n * @param multiplier The value to multiply the input value by.\n * @param description Description of what this modifier is doing.\n * @param enabled A computable that will be processed and passed directly into the returned modifier.\n */\nexport function createMultiplicativeModifier<\n    T extends Computable<CoercableComponent> | undefined,\n    S extends Computable<boolean> | undefined,\n    R = ModifierFromOptionalParams<T, S>\n>(multiplier: Computable<DecimalSource>, description?: T, enabled?: S): R {\n    const processedMultiplier = convertComputable(multiplier);\n    const processedDescription = convertComputable(description);\n    const processedEnabled = enabled == null ? undefined : convertComputable(enabled);\n    return {\n        apply: (gain: DecimalSource) => Decimal.times(gain, unref(processedMultiplier)),\n        revert: (gain: DecimalSource) => Decimal.div(gain, unref(processedMultiplier)),\n        enabled: processedEnabled,\n        description:\n            description == null\n                ? undefined\n                : jsx(() => (\n                      <div class=\"modifier-container\">\n                          <span class=\"modifier-amount\">x{format(unref(processedMultiplier))}</span>\n                          {unref(processedDescription) ? (\n                              <span class=\"modifier-description\">\n                                  {/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */}\n                                  {renderJSX(unref(processedDescription)!)}\n                              </span>\n                          ) : null}\n                      </div>\n                  ))\n    } as unknown as R;\n}\n\n/**\n * Create a modifier that raises the input value to the power of some value.\n * @param exponent The value to raise the input value to the power of.\n * @param description Description of what this modifier is doing.\n * @param enabled A computable that will be processed and passed directly into the returned modifier.\n */\nexport function createExponentialModifier<\n    T extends Computable<CoercableComponent> | undefined,\n    S extends Computable<boolean> | undefined,\n    R = ModifierFromOptionalParams<T, S>\n>(exponent: Computable<DecimalSource>, description?: T, enabled?: S): R {\n    const processedExponent = convertComputable(exponent);\n    const processedDescription = convertComputable(description);\n    const processedEnabled = enabled == null ? undefined : convertComputable(enabled);\n    return {\n        apply: (gain: DecimalSource) => Decimal.pow(gain, unref(processedExponent)),\n        revert: (gain: DecimalSource) => Decimal.root(gain, unref(processedExponent)),\n        enabled: processedEnabled,\n        description:\n            description == null\n                ? undefined\n                : jsx(() => (\n                      <div class=\"modifier-container\">\n                          <span class=\"modifier-amount\">^{format(unref(processedExponent))}</span>\n                          {unref(processedDescription) ? (\n                              <span class=\"modifier-description\">\n                                  {/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */}\n                                  {renderJSX(unref(processedDescription)!)}\n                              </span>\n                          ) : null}\n                      </div>\n                  ))\n    } as unknown as R;\n}\n\n/**\n * Takes an array of modifiers and applies and reverses them in order.\n * Modifiers that are not enabled will not be applied nor reversed.\n * Also joins their descriptions together.\n * @param modifiers The modifiers to perform sequentially.\n * @see {@link createModifierSection}.\n */\nexport function createSequentialModifier<\n    T extends Modifier[],\n    S = T extends WithRequired<Modifier, \"revert\">[]\n        ? WithRequired<Modifier, \"description\" | \"revert\">\n        : Omit<WithRequired<Modifier, \"description\">, \"revert\">\n>(...modifiers: T): S {\n    return {\n        apply: (gain: DecimalSource) =>\n            modifiers\n                .filter(m => unref(m.enabled) !== false)\n                .reduce((gain, modifier) => modifier.apply(gain), gain),\n        revert: modifiers.every(m => m.revert != null)\n            ? (gain: DecimalSource) =>\n                  modifiers\n                      .filter(m => unref(m.enabled) !== false)\n                      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                      .reduceRight((gain, modifier) => modifier.revert!(gain), gain)\n            : undefined,\n        enabled: computed(() => modifiers.filter(m => unref(m.enabled) !== false).length > 0),\n        description: jsx(() => (\n            <>\n                {(\n                    modifiers\n                        .filter(m => unref(m.enabled) !== false)\n                        .map(m => unref(m.description))\n                        .filter(d => d) as CoercableComponent[]\n                ).map(renderJSX)}\n            </>\n        ))\n    } as unknown as S;\n}\n\n/**\n * Create a JSX element that displays a modifier.\n * Intended to be used with the output from {@link createSequentialModifier}.\n * @param title The header for the section.\n * @param subtitle Smaller text that appears in the header after the title.\n * @param modifier The modifier to render.\n * @param base The base value that'll be passed into the modifier.\n * @param unit The unit of the value being modified, if any.\n * @param baseText The label to use for the base value.\n */\nexport function createModifierSection(\n    title: string,\n    subtitle: string,\n    modifier: WithRequired<Modifier, \"description\">,\n    base: DecimalSource = 1,\n    unit = \"\",\n    baseText: CoercableComponent = \"Base\"\n) {\n    return (\n        <div>\n            <h3>\n                {title}\n                {subtitle ? <span class=\"subtitle\"> ({subtitle})</span> : null}\n            </h3>\n            <br />\n            <div class=\"modifier-container\">\n                <span class=\"modifier-amount\">\n                    {format(base)}\n                    {unit}\n                </span>\n                <span class=\"modifier-description\">{renderJSX(baseText)}</span>\n            </div>\n            {renderJSX(unref(modifier.description))}\n            <hr />\n            Total: {format(modifier.apply(base))}\n            {unit}\n        </div>\n    );\n}\n","/**\n * @module\n * @hidden\n */\nimport { Emitter, EmitterConfigV3 } from \"@pixi/particle-emitter\";\nimport Collapsible from \"components/layout/Collapsible.vue\";\nimport Row from \"components/layout/Row.vue\";\nimport Spacer from \"components/layout/Spacer.vue\";\nimport { main } from \"data/projEntry\";\nimport { createBar } from \"features/bars/bar\";\nimport { createClickable, GenericClickable } from \"features/clickables/clickable\";\nimport { CoercableComponent, jsx, showIf, Visibility } from \"features/feature\";\nimport { createJob } from \"features/job/job\";\nimport { createMilestone } from \"features/milestones/milestone\";\nimport { createParticles } from \"features/particles/particles\";\nimport MainDisplay from \"features/resources/MainDisplay.vue\";\nimport { createResource } from \"features/resources/resource\";\nimport SpellTree from \"features/spellTree/SpellTree.vue\";\nimport { createTabFamily } from \"features/tabs/tabFamily\";\nimport {\n    createTree,\n    createTreeNode,\n    GenericTree,\n    GenericTreeNode,\n    TreeBranch\n} from \"features/trees/tree\";\nimport { BaseLayer, createLayer } from \"game/layers\";\nimport {\n    createAdditiveModifier,\n    createExponentialModifier,\n    createMultiplicativeModifier,\n    createSequentialModifier\n} from \"game/modifiers\";\nimport { persistent } from \"game/persistence\";\nimport player from \"game/player\";\nimport Decimal, { DecimalSource, format } from \"util/bignum\";\nimport { formatWhole } from \"util/break_eternity\";\nimport { Direction } from \"util/common\";\nimport { ProcessedComputable } from \"util/computed\";\nimport { getFirstFeature, renderColJSX, renderJSX, renderRowJSX } from \"util/vue\";\nimport { computed, ComputedRef, ref, Ref, unref, watch, WatchStopHandle } from \"vue\";\nimport { createCollapsibleModifierSections } from \"../common\";\nimport globalQuips from \"../quips.json\";\nimport \"./flowers.css\";\nimport alwaysQuips from \"./quips.json\";\nimport spellParticles from \"./spellParticles.json\";\n\nexport interface Spell<T extends string> {\n    active: Ref<boolean>;\n    xp: Ref<DecimalSource>;\n    castingTime: Ref<number>;\n    level: ComputedRef<Decimal>;\n    spentPoints: ComputedRef<number>;\n    levelProgress: ComputedRef<Decimal>;\n    particleEffectWatcher: Ref<null | WatchStopHandle>;\n    particleEffectConfig: EmitterConfigV3;\n    particleEffect: Ref<Promise<Emitter>>;\n    updateParticleEffect: (active: boolean) => void;\n    treeNodes: Record<T, GenericSpellTreeNode>;\n    tree: GenericTree;\n    selector: GenericClickable;\n    visibility: Ref<Visibility>;\n}\n\nexport type GenericSpellTreeNode = GenericTreeNode & {\n    bought: Ref<boolean>;\n};\n\nconst id = \"flowers\";\nconst layer = createLayer(id, function (this: BaseLayer) {\n    const name = \"Harvesting Flowers\";\n    const color = \"#F1EBD9\";\n\n    const flowers = createResource<DecimalSource>(0, \"moly\");\n\n    const job = createJob(name, () => ({\n        color,\n        image: \"https://dummyimage.com/512x288/000/fff.png\",\n        imageFocus: {\n            x: \"75%\",\n            y: \"30%\"\n        },\n        randomQuips() {\n            return [...alwaysQuips, ...globalQuips];\n        },\n        resource: flowers,\n        layerID: id,\n        modifierInfo: jsx(() => renderJSX(modifierTabs)),\n        modifierModalAttrs: {\n            class: \"flowers-modal\"\n        }\n    }));\n\n    const activeSpells = computed(() => Object.values(spells).filter(s => s.active.value).length);\n    const maxActiveSpells = computed(() => 1);\n\n    const particles = createParticles(() => ({\n        fullscreen: false,\n        zIndex: -1,\n        boundingRect: ref<null | DOMRect>(null),\n        onContainerResized(boundingRect) {\n            this.boundingRect.value = boundingRect;\n        },\n        onHotReload() {\n            Object.values(spells).forEach(spell => {\n                spell.particleEffect.value.then(e => e.destroy());\n                spell.particleEffect.value = particles.addEmitter(spell.particleEffectConfig);\n                spell.updateParticleEffect(spell.active.value);\n            });\n        }\n    }));\n\n    const spellExpMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 2);\n        },\n        display: {\n            requirement: \"Achieve Harvesting Flowers Level 2\",\n            effectDisplay: \"Double Téchnasma potency and unlock experience for spells\"\n        }\n    }));\n    const flowerSpellMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 4);\n        },\n        display: {\n            requirement: \"Achieve Harvesting Flowers Level 4\",\n            effectDisplay: \"Double Téchnasma potency and unlock a new spell - Therizó\"\n        },\n        visibility() {\n            return showIf(spellExpMilestone.earned.value);\n        }\n    }));\n    const chargeSpellMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 6);\n        },\n        display: {\n            requirement: \"Achieve Harvesting Flowers Level 6\",\n            effectDisplay: \"Double Téchnasma potency and unlock a new spell - Prōficiō\"\n        },\n        visibility() {\n            return showIf(flowerSpellMilestone.earned.value);\n        }\n    }));\n    const expSpellMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 8);\n        },\n        display: {\n            requirement: \"Achieve Harvesting Flowers Level 8\",\n            effectDisplay: \"Double Téchnasma potency and unlock a new spell - Scholē\"\n        },\n        visibility() {\n            return showIf(chargeSpellMilestone.earned.value);\n        }\n    }));\n    const milestones = {\n        spellExpMilestone,\n        flowerSpellMilestone,\n        chargeSpellMilestone,\n        expSpellMilestone\n    };\n    const orderedMilestones = [\n        expSpellMilestone,\n        chargeSpellMilestone,\n        flowerSpellMilestone,\n        spellExpMilestone\n    ];\n    const collapseMilestones = persistent<boolean>(true);\n    const lockedMilestones = computed(() =>\n        orderedMilestones.filter(m => m.earned.value === false)\n    );\n    const { firstFeature: firstMilestone, hiddenFeatures: otherMilestones } = getFirstFeature(\n        orderedMilestones,\n        m => m.earned.value\n    );\n\n    // Empty tree node, for use in spell trees\n    const blank = createTreeNode(() => ({ visibility: Visibility.Hidden }));\n\n    function createSpell<T extends string>(\n        title: string,\n        description: string,\n        effect: string,\n        visibleCondition: ProcessedComputable<boolean>,\n        nodes: Record<\n            T,\n            {\n                display: CoercableComponent;\n                requirements?: T[];\n            }\n        >,\n        rows: (T | typeof blank)[][]\n    ): Spell<T> {\n        const treeNodes = (Object.keys(nodes) as T[]).reduce<\n            Partial<Record<T, GenericSpellTreeNode>>\n        >((acc, curr) => {\n            const bought = persistent<boolean>(false);\n            acc[curr] = createTreeNode(() => ({\n                display: nodes[curr].display,\n                classes() {\n                    return { \"spell-node\": true, bought: bought.value };\n                },\n                bought,\n                canClick() {\n                    if (treeNodes[curr].bought.value) {\n                        return false;\n                    }\n                    if (Decimal.gte(spentPoints.value, level.value)) {\n                        return false;\n                    }\n                    if (nodes[curr].requirements?.some(r => !treeNodes[r].bought.value)) {\n                        return false;\n                    }\n                    return true;\n                },\n                onClick() {\n                    treeNodes[curr].bought.value = true;\n                }\n            })) as GenericSpellTreeNode;\n            return acc;\n        }, {}) as Record<T, GenericSpellTreeNode>;\n\n        const xp = persistent<DecimalSource>(0);\n        const level = computed(() => Decimal.clampMin(xp.value, 1).log10().floor());\n        const spentPoints = computed(() =>\n            // TODO why is this cast necessary\n            Object.values<GenericSpellTreeNode>(treeNodes).reduce(\n                (acc, curr) => acc + (curr.bought.value ? 1 : 0),\n                0\n            )\n        );\n        const levelProgress = computed(() => {\n            const previousLevelReq = Decimal.eq(level.value, 0) ? 0 : Decimal.pow10(level.value);\n            const nextLevelReq = Decimal.pow10(Decimal.add(level.value, 1));\n            return Decimal.sub(xp.value, previousLevelReq)\n                .div(Decimal.sub(nextLevelReq, previousLevelReq))\n                .times(100);\n        });\n\n        const visibility = computed(() => showIf(unref(visibleCondition)));\n\n        const selector = createClickable(() => ({\n            canClick(): boolean {\n                return spell.active.value || activeSpells.value < maxActiveSpells.value;\n            },\n            display() {\n                return {\n                    title: `<h2>${title}</h2>`,\n                    description: jsx(() => (\n                        <>\n                            <br />\n                            <i>{description}</i>\n                            <br />\n                            <br />\n                            <h3>{effect}</h3>\n                            {spellExpMilestone.earned.value ? (\n                                <div class=\"spell-level\">\n                                    <div\n                                        class=\"spell-exp\"\n                                        style={`--exp: ${format(levelProgress.value)}%`}\n                                    ></div>\n                                    <span>\n                                        ({formatWhole(Decimal.sub(level.value, spentPoints.value))}/\n                                        {formatWhole(level.value)})\n                                    </span>\n                                </div>\n                            ) : null}\n                        </>\n                    ))\n                };\n            },\n            style: \"width: 150px; height: 150px; z-index: 2\",\n            classes(): Record<string, boolean> {\n                return {\n                    spellSelector: true,\n                    activeSpell: spell.active.value,\n                    can: unref(selector.canClick)\n                };\n            },\n            onClick() {\n                spell.active.value = !spell.active.value;\n                spell.updateParticleEffect(spell.active.value);\n                spell.castingTime.value = 0;\n            },\n            visibility\n        })) as Spell<T>[\"selector\"];\n\n        const spell = {\n            treeNodes,\n            tree: createTree(() => ({\n                nodes: rows.map(r =>\n                    r.map(node => (node === blank ? blank : treeNodes[node as T]))\n                ),\n                branches: () =>\n                    (Object.keys(nodes) as T[]).reduce<TreeBranch[]>((acc, curr) => {\n                        return nodes[curr].requirements\n                            ? [\n                                  ...acc,\n                                  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                                  ...nodes[curr].requirements!.map(r => ({\n                                      startNode: treeNodes[curr],\n                                      endNode: treeNodes[r],\n                                      stroke: treeNodes[r].bought.value\n                                          ? \"#B949DE\"\n                                          : \"var(--locked)\",\n                                      \"stroke-width\": \"4px\"\n                                  }))\n                              ]\n                            : acc;\n                    }, [])\n            })),\n            visibility,\n            selector,\n            particleEffectConfig: spellParticles,\n            active: persistent<boolean>(false),\n            xp,\n            castingTime: persistent<number>(0),\n            level,\n            spentPoints,\n            levelProgress,\n            particleEffectWatcher: ref<null | WatchStopHandle>(null),\n            particleEffect: ref(particles.addEmitter(spellParticles)),\n            async updateParticleEffect(active: boolean) {\n                const particle = await spell.particleEffect.value;\n                if (active) {\n                    particle.emit = true;\n                    spell.particleEffectWatcher.value?.();\n                    spell.particleEffectWatcher.value = watch(\n                        [() => layer.nodes.value[selector.id]?.rect, particles.boundingRect],\n                        async ([rect, boundingRect]) => {\n                            if (rect && boundingRect) {\n                                particle.cleanup();\n                                particle.updateOwnerPos(\n                                    rect.x + rect.width / 2 - boundingRect.x,\n                                    rect.y + rect.height / 2 - boundingRect.y\n                                );\n                                particle.resetPositionTracking();\n                            }\n                        },\n                        { immediate: true }\n                    );\n                } else {\n                    particle.emit = false;\n                    spell.particleEffectWatcher.value?.();\n                    spell.particleEffectWatcher.value = null;\n                }\n            }\n        };\n        return spell;\n    }\n\n    const chargeAmount = persistent<DecimalSource>(0);\n    const chargeBar = createBar(() => ({\n        direction: Direction.Right,\n        height: 20,\n        width: 200,\n        style: () =>\n            `--time: ${((player.time % 100000000) / 10).toLocaleString(\"fullwide\", {\n                useGrouping: false\n            })}px; --time-deg: ${((player.time % 100000000) / 100).toLocaleString(\"fullwide\", {\n                useGrouping: false\n            })}deg`,\n        classes: { chargeBar: true },\n        progress() {\n            return Decimal.div(chargeAmount.value, computedChargeCap.value);\n        },\n        visibility: () => showIf(chargeSpellMilestone.earned.value)\n    }));\n\n    const jobLevelEffect: ComputedRef<DecimalSource> = computed(() =>\n        Decimal.pow(1.1, job.level.value)\n    );\n\n    const moreJobXpPerSpellEffect: ComputedRef<DecimalSource> = computed(() =>\n        Decimal.pow(\n            1.25,\n            Object.values(spells).filter(\n                s => (s as Spell<string>).visibility.value === Visibility.Visible\n            ).length\n        )\n    );\n    const morePotencyPerJobLevelEffect = jobLevelEffect;\n    const moreJobXpPerJobLevelEffect = jobLevelEffect;\n    const moreJobXpPerSpellLevelEffect: ComputedRef<DecimalSource> = computed(() =>\n        Decimal.pow(1.1, xpSpell.level.value)\n    );\n    const moreSpellXpPerJobLevelEffect = jobLevelEffect;\n    const xpSpell = createSpell(\n        \"Téchnasma\",\n        \"Practice using the flowers to perform minor magical tricks.\",\n        \"Gain job exp.\",\n        true,\n        // Tree shaped (2 levels of forking)\n        {\n            moreJobXpFlat: {\n                display: \"x4 job exp\"\n            },\n            moreJobXpPerSpell: {\n                display: jsx(() => (\n                    <div>\n                        x1.25 job exp per known spell\n                        <br />\n                        (x{format(moreJobXpPerSpellEffect.value)})\n                    </div>\n                )),\n                requirements: [\"moreJobXpFlat\"]\n            },\n            morePotencyPerJobLevel: {\n                display: jsx(() => (\n                    <div>\n                        Additional x1.1 all spell potency per job level\n                        <br />\n                        (x{format(morePotencyPerJobLevelEffect.value)})\n                    </div>\n                )),\n                requirements: [\"moreJobXpFlat\"]\n            },\n            moreJobXpPerJobLevel: {\n                display: jsx(() => (\n                    <div>\n                        Additional x1.1 job exp per job level\n                        <br />\n                        (x{format(moreJobXpPerJobLevelEffect.value)})\n                    </div>\n                )),\n                requirements: [\"moreJobXpPerSpell\"]\n            },\n            moreJobXpPerSpellLevel: {\n                display: jsx(() => (\n                    <div>\n                        Additional x1.1 job exp per Téchnasma level\n                        <br />\n                        (x{format(moreJobXpPerSpellLevelEffect.value)})\n                    </div>\n                )),\n                requirements: [\"moreJobXpPerSpell\"]\n            },\n            morePotencyOverTime: {\n                display: \"Additional spell potency the longer it's been consecutively casted\",\n                requirements: [\"morePotencyPerJobLevel\"]\n            },\n            moreSpellXpPerJobLevel: {\n                display: jsx(() => (\n                    <div>\n                        x1.1 all spell exp per job level\n                        <br />\n                        (x{format(moreSpellXpPerJobLevelEffect.value)})\n                    </div>\n                )),\n                requirements: [\"morePotencyPerJobLevel\"]\n            }\n        },\n        [\n            [\"moreJobXpFlat\"],\n            [\"moreJobXpPerSpell\", blank, \"morePotencyPerJobLevel\"],\n            [\n                \"moreJobXpPerJobLevel\",\n                \"moreJobXpPerSpellLevel\",\n                \"morePotencyOverTime\",\n                \"moreSpellXpPerJobLevel\"\n            ]\n        ]\n    );\n\n    const moreFlowersPerSpellEffect: ComputedRef<DecimalSource> = computed(\n        () =>\n            Object.values(spells).filter(\n                s => (s as Spell<string>).visibility.value === Visibility.Visible\n            ).length * 0.25\n    );\n    const moreFlowersPerLevelEffect: ComputedRef<DecimalSource> = computed(() =>\n        Decimal.pow(1.1, flowerSpell.level.value)\n    );\n    const flowersEffect: ComputedRef<DecimalSource> = computed(() =>\n        Decimal.log10(Decimal.add(flowers.value, 1)).pow(0.777).add(1)\n    );\n    const flowersEffectDescription = (\n        <>\n            log<sub>2</sub>(flowers + 1)<sup>0.777</sup> + 1\n        </>\n    );\n    const flowerSpell = createSpell(\n        \"Therizó\",\n        \"Use the magic of the flowers to harvest themselves. They should make my spells more potent.\",\n        \"Gain flowers.\",\n        flowerSpellMilestone.earned,\n        {\n            moreFlowersFlat: {\n                display: \"x2 flowers gain\"\n            },\n            moreFlowersPerSpell: {\n                display: jsx(() => (\n                    <div>\n                        +.25x Therizó potency per known spell\n                        <br />\n                        (+{format(moreFlowersPerSpellEffect.value)})\n                    </div>\n                )),\n                requirements: [\"moreFlowersFlat\"]\n            },\n            moreFlowersPerLevel: {\n                display: jsx(() => (\n                    <div>\n                        Additional x1.1 flower gain per Therizó level\n                        <br />\n                        (x{format(moreFlowersPerLevelEffect.value)})\n                    </div>\n                )),\n                requirements: [\"moreFlowersPerSpell\"]\n            },\n            moreJobXpPerFlower: {\n                display: jsx(() => (\n                    <div>\n                        Flowers affect job exp\n                        <br />\n                        (x{format(flowersEffect.value)})\n                    </div>\n                )),\n                requirements: [\"moreFlowersFlat\"]\n            },\n            moreSpellXpPerFlower: {\n                display: jsx(() => (\n                    <div>\n                        Flowers affect all spell exp\n                        <br />\n                        (x{format(flowersEffect.value)})\n                    </div>\n                )),\n                requirements: [\"moreJobXpPerFlower\"]\n            },\n            morePotencyPerFlower: {\n                display: jsx(() => (\n                    <div>\n                        Flower's affect all spell potency twice\n                        <br />\n                        (x{format(flowersEffect.value)})\n                    </div>\n                )),\n                requirements: [\"moreSpellXpPerFlower\"]\n            },\n            passiveFlowerGain: {\n                display: \"1% of flower gain when casting other spells\",\n                requirements: [\"moreSpellXpPerFlower\"]\n            }\n        },\n        // Scythe shape (or flipped F)\n        [\n            [\"moreFlowersPerLevel\", \"moreFlowersPerSpell\", \"moreFlowersFlat\"],\n            [blank, blank, \"moreJobXpPerFlower\"],\n            [blank, \"passiveFlowerGain\", \"moreSpellXpPerFlower\"],\n            [blank, blank, \"morePotencyPerFlower\"]\n        ]\n    );\n\n    const chargeSpell = createSpell(\n        \"Prōficiō\",\n        \"Charge up magic to cast another spell with greater potency.\",\n        \"Charge spell potency.\",\n        chargeSpellMilestone.earned,\n        // Single fork into two bars\n        {\n            spellEff: {\n                display: \"x1.25 spell potency when discharging\"\n            },\n            fasterChargeFlat: {\n                display: \"x1.5 faster charging\",\n                requirements: [\"spellEff\"]\n            },\n            fasterChargeByLevel: {\n                display: \"Additional x1.1 faster charging for each Prōficiō level\",\n                requirements: [\"fasterChargeFlat\"]\n            },\n            betterChargeMulti: {\n                display: \"Charge effect on spells is raised ^1.1\",\n                requirements: [\"fasterChargeByLevel\"]\n            },\n            largerChargeFlat: {\n                display: \"x1.5 max charge\",\n                requirements: [\"spellEff\"]\n            },\n            largerChargeByLevel: {\n                display: \"Additional x1.2 max charge for each Prōficiō level\",\n                requirements: [\"largerChargeFlat\"]\n            },\n            slowerDischargeByLevel: {\n                display: \"x1.05 slower discharge for each of that spell's levels\",\n                requirements: [\"largerChargeByLevel\"]\n            }\n        },\n        [\n            [\"spellEff\"],\n            [\"fasterChargeFlat\", \"largerChargeFlat\"],\n            [\"fasterChargeByLevel\", \"largerChargeByLevel\"],\n            [\"betterChargeMulti\", \"slowerDischargeByLevel\"]\n        ]\n    );\n\n    const moreXpPerLevelEffect: ComputedRef<DecimalSource> = computed(() =>\n        Decimal.div(massXpSpell.level.value, 10)\n    );\n    const massXpSpell = createSpell(\n        \"Scholē\",\n        \"Practice a difficult routine that improves your ability at casting all spells.\",\n        \"Gain spell exp.\",\n        expSpellMilestone.earned,\n        // Star burst\n        {\n            moreSpellXp: {\n                display: \"All spells gain double exp\"\n            },\n            moreXpSpellXp: {\n                display: \"Téchnasma spell gains double exp\",\n                requirements: [\"moreSpellXp\"]\n            },\n            moreFlowerSpellXp: {\n                display: \"Therizó spell gains double exp\",\n                requirements: [\"moreSpellXp\"]\n            },\n            moreChargeSpellXp: {\n                display: \"Prōficiō spell gains double exp\",\n                requirements: [\"moreSpellXp\"]\n            },\n            moreMassXpSpellXp: {\n                display: \"Scholē spell gains double exp\",\n                requirements: [\"moreSpellXp\"]\n            },\n            moreXpPerLevel: {\n                display: jsx(() => (\n                    <div>\n                        +.1x other spell exp per level of this spell\n                        <br />\n                        (+{format(moreXpPerLevelEffect.value)})\n                    </div>\n                )),\n                requirements: [\"moreSpellXp\"]\n            },\n            morePotency: {\n                display: \"Double potency of this spell\",\n                requirements: [\"moreSpellXp\"]\n            }\n        },\n        [\n            [\"moreXpSpellXp\", \"moreFlowerSpellXp\"],\n            [\"moreXpPerLevel\", \"moreSpellXp\", \"morePotency\"],\n            [\"moreChargeSpellXp\", \"moreMassXpSpellXp\"]\n        ]\n    );\n\n    const spells = {\n        xpSpell,\n        flowerSpell,\n        chargeSpell,\n        massXpSpell\n    };\n\n    const chargeMult = createSequentialModifier(\n        createMultiplicativeModifier(\n            1.25,\n            \"Prōficiō skill (x1.25 when discharging)\",\n            () => chargeSpell.treeNodes.spellEff.bought.value && Decimal.gt(chargeAmount.value, 0)\n        ),\n        createExponentialModifier(\n            1.1,\n            \"Prōficiō skill (flat)\",\n            chargeSpell.treeNodes.betterChargeMulti.bought\n        )\n    );\n    const computedChargeMult = computed(() =>\n        chargeMult.apply(Decimal.log10(Decimal.add(chargeAmount.value, 1)).add(1))\n    );\n\n    const allSpellPotency = createSequentialModifier(\n        createMultiplicativeModifier(jobLevelEffect, \"Harvesting Flowers level (x1.1 each)\"),\n        createMultiplicativeModifier(\n            morePotencyPerJobLevelEffect,\n            \"Téchnasma skill (x1.1 per Harvesting Flowers level)\",\n            xpSpell.treeNodes.morePotencyPerJobLevel.bought\n        ),\n        createMultiplicativeModifier(\n            flowersEffect,\n            jsx(() => <>Flowers Effect ({flowersEffectDescription})</>)\n        ),\n        createMultiplicativeModifier(\n            flowersEffect,\n            \"Therizó skill (Re-apply flowers effect)\",\n            flowerSpell.treeNodes.morePotencyPerFlower.bought\n        )\n    );\n    const computedAllSpellPotency = computed(() => allSpellPotency.apply(1));\n\n    const allSpellXpGain = createSequentialModifier(\n        createMultiplicativeModifier(\n            moreSpellXpPerJobLevelEffect,\n            \"Téchnasma skill (x1.1 per Harvesting Flowers level)\",\n            xpSpell.treeNodes.moreSpellXpPerJobLevel.bought\n        ),\n        createMultiplicativeModifier(\n            flowersEffect,\n            jsx(() => <>Therizó skill ({flowersEffectDescription})</>),\n            flowerSpell.treeNodes.moreSpellXpPerFlower.bought\n        ),\n        createMultiplicativeModifier(\n            2,\n            \"Scholē skill (flat)\",\n            massXpSpell.treeNodes.moreSpellXp.bought\n        )\n    );\n    const computedAllSpellXpGain = computed(() => allSpellXpGain.apply(1));\n\n    const xpSpellPotency = createSequentialModifier(\n        createMultiplicativeModifier(computedAllSpellPotency, \"All Spell Potency\"),\n        createMultiplicativeModifier(2, \"Spell EXP milestone (flat)\", spellExpMilestone.earned),\n        createMultiplicativeModifier(2, \"Therizó milestone (flat)\", flowerSpellMilestone.earned),\n        createMultiplicativeModifier(2, \"Prōficiō milestone (flat)\", chargeSpellMilestone.earned),\n        createMultiplicativeModifier(2, \"Scholē milestone (flat)\", expSpellMilestone.earned),\n        createMultiplicativeModifier(\n            () => Decimal.pow(1.1, xpSpell.level.value),\n            \"Téchnasma level (x1.1 each)\",\n            spellExpMilestone.earned\n        ),\n        createMultiplicativeModifier(\n            () => Decimal.log2(Decimal.add(xpSpell.castingTime.value, 1)).div(10).add(1),\n            jsx(() => (\n                <>\n                    Téchnasma skill (log<sub>2</sub>(casting time)/10)\n                </>\n            )),\n            xpSpell.treeNodes.morePotencyOverTime.bought\n        ),\n        createMultiplicativeModifier(\n            computedChargeMult,\n            \"Charge Multiplier\",\n            chargeSpellMilestone.earned\n        )\n    );\n    const computedXpSpellPotency = computed(() => xpSpellPotency.apply(1));\n\n    const xpSpellXp = createSequentialModifier(\n        createAdditiveModifier(\n            () => Decimal.div(massXpSpell.level.value, 10),\n            \"Scholē skill (+.1 per Scholē level)\",\n            massXpSpell.treeNodes.moreXpPerLevel.bought\n        ),\n        createMultiplicativeModifier(computedAllSpellXpGain, \"All Spell EXP Gain\"),\n        createMultiplicativeModifier(computedXpSpellPotency, \"Téchnasma potency\"),\n        createMultiplicativeModifier(\n            2,\n            \"Scholē skill (flat)\",\n            massXpSpell.treeNodes.moreXpSpellXp.bought\n        )\n    );\n\n    const jobXpGain = createSequentialModifier(\n        createAdditiveModifier(computedXpSpellPotency, \"Téchnasma potency\"),\n        createMultiplicativeModifier(jobLevelEffect, \"Harvesting Flowers level (x1.1 each)\"),\n        createMultiplicativeModifier(\n            4,\n            \"Téchnasma skill (flat)\",\n            xpSpell.treeNodes.moreJobXpFlat.bought\n        ),\n        createMultiplicativeModifier(\n            moreJobXpPerSpellEffect,\n            \"Téchnasma skill (x1.25 per known spell)\",\n            xpSpell.treeNodes.moreJobXpPerSpell.bought\n        ),\n        createMultiplicativeModifier(\n            moreJobXpPerJobLevelEffect,\n            \"Téchnasma skill (x1.1 per Harvesting Flowers level)\",\n            xpSpell.treeNodes.moreJobXpPerJobLevel.bought\n        ),\n        createMultiplicativeModifier(\n            moreJobXpPerSpellLevelEffect,\n            \"Téchnasma skill (x1.1 per Téchnasma level)\",\n            xpSpell.treeNodes.moreJobXpPerSpellLevel.bought\n        ),\n        createMultiplicativeModifier(\n            flowersEffect,\n            jsx(() => <>Flowers Effect ({flowersEffectDescription})</>),\n            flowerSpell.treeNodes.moreJobXpPerFlower.bought\n        )\n    );\n\n    const jobXpDischargeRate = createSequentialModifier(\n        createMultiplicativeModifier(\n            () => Decimal.pow(1 / 1.05, xpSpell.level.value ?? 0),\n            \"Therizó skill (/1.05 per Téchnasma level)\",\n            chargeSpell.treeNodes.slowerDischargeByLevel.bought\n        )\n    );\n    const computedJobXpDischargeRate = computed(() =>\n        jobXpDischargeRate.apply(computedBaseDischargeRate.value)\n    );\n\n    const flowerSpellPotency = createSequentialModifier(\n        createAdditiveModifier(\n            moreFlowersPerSpellEffect,\n            \"Therizó skill (+.25 per known spell)\",\n            flowerSpell.treeNodes.moreFlowersPerSpell.bought\n        ),\n        createMultiplicativeModifier(computedAllSpellPotency, \"All Spell Potency\"),\n        createMultiplicativeModifier(\n            () => Decimal.pow(1.1, flowerSpell.level.value),\n            \"Therizó level (x1.1 each)\",\n            spellExpMilestone.earned\n        ),\n        createMultiplicativeModifier(\n            () => Decimal.log2(Decimal.add(flowerSpell.castingTime.value, 1)).div(10).add(1),\n            jsx(() => (\n                <>\n                    Téchnasma skill (log<sub>2</sub>(casting time)/10)\n                </>\n            )),\n            xpSpell.treeNodes.morePotencyOverTime.bought\n        ),\n        createMultiplicativeModifier(\n            computedChargeMult,\n            \"Charge Multiplier\",\n            chargeSpellMilestone.earned\n        )\n    );\n    const computedFlowerSpellPotency = computed(() => flowerSpellPotency.apply(1));\n\n    const flowerSpellXp = createSequentialModifier(\n        createAdditiveModifier(\n            moreXpPerLevelEffect,\n            \"Scholē skill (+.1 per Scholē level)\",\n            massXpSpell.treeNodes.moreXpPerLevel.bought\n        ),\n        createMultiplicativeModifier(computedAllSpellXpGain, \"All Spell EXP Gain\"),\n        createMultiplicativeModifier(computedFlowerSpellPotency, \"Therizó potency\"),\n        createMultiplicativeModifier(\n            2,\n            \"Scholē skill (flat)\",\n            massXpSpell.treeNodes.moreFlowerSpellXp.bought\n        )\n    );\n\n    const flowerGain = createSequentialModifier(\n        createAdditiveModifier(computedFlowerSpellPotency, \"Therizó potency\"),\n        createMultiplicativeModifier(\n            2,\n            \"Therizó skill (flat)\",\n            flowerSpell.treeNodes.moreFlowersFlat.bought\n        ),\n        createMultiplicativeModifier(\n            moreFlowersPerLevelEffect,\n            \"Therizó skill (x1.1 per Therizó level)\",\n            flowerSpell.treeNodes.moreFlowersPerLevel.bought\n        )\n    );\n    const computedFlowerGain = computed(() => flowerGain.apply(0));\n\n    const flowerPassiveGain = createSequentialModifier(\n        createAdditiveModifier(\n            0.01,\n            \"Therizó skill (flat)\",\n            flowerSpell.treeNodes.passiveFlowerGain.bought\n        ),\n        createMultiplicativeModifier(computedFlowerGain, \"Flower gain\")\n    );\n\n    const flowerDischargeRate = createSequentialModifier(\n        createMultiplicativeModifier(\n            () => Decimal.pow(1 / 1.05, flowerSpell.level.value ?? 0),\n            \"Therizó skill (/1.05 per Therizó level)\",\n            chargeSpell.treeNodes.slowerDischargeByLevel.bought\n        )\n    );\n    const computedFlowerDischargeRate = computed(() =>\n        flowerDischargeRate.apply(computedBaseDischargeRate.value)\n    );\n\n    const chargeSpellPotency = createSequentialModifier(\n        createMultiplicativeModifier(computedAllSpellPotency, \"All Spell Potency\"),\n        createMultiplicativeModifier(\n            () => Decimal.pow(1.1, chargeSpell.level.value),\n            \"Prōficiō level (x1.1 each)\"\n        ),\n        createMultiplicativeModifier(\n            () => Decimal.log2(Decimal.add(chargeSpell.castingTime.value, 1)).div(10).add(1),\n            jsx(() => (\n                <>\n                    Téchnasma skill (log<sub>2</sub>(casting time)/10)\n                </>\n            )),\n            xpSpell.treeNodes.morePotencyOverTime.bought\n        )\n    );\n    const computedChargeSpellPotency = computed(() => chargeSpellPotency.apply(1));\n\n    const chargeSpellXp = createSequentialModifier(\n        createAdditiveModifier(\n            () => Decimal.div(massXpSpell.level.value, 10),\n            \"Scholē skill (+.1 per Scholē level)\",\n            massXpSpell.treeNodes.moreXpPerLevel.bought\n        ),\n        createMultiplicativeModifier(computedAllSpellXpGain, \"All Spell EXP Gain\"),\n        createMultiplicativeModifier(computedChargeSpellPotency, \"Prōficiō potency\"),\n        createMultiplicativeModifier(\n            2,\n            \"Scholē skill (flat)\",\n            massXpSpell.treeNodes.moreChargeSpellXp.bought\n        )\n    );\n\n    const chargeCap = createSequentialModifier(\n        createAdditiveModifier(computedChargeSpellPotency, \"Prōficiō potency\"),\n        createMultiplicativeModifier(\n            1.5,\n            \"Prōficiō skill (flat)\",\n            chargeSpell.treeNodes.largerChargeFlat.bought\n        ),\n        createMultiplicativeModifier(\n            () => Decimal.pow(1.2, chargeSpell.level.value),\n            \"Prōficiō skill (x1.2 per Prōficiō level)\",\n            chargeSpell.treeNodes.largerChargeByLevel.bought\n        )\n    );\n    const computedChargeCap = computed(() => chargeCap.apply(0));\n\n    const chargeRate = createSequentialModifier(\n        createAdditiveModifier(\n            () => Decimal.div(computedChargeSpellPotency.value, 10),\n            \"Prōficiō potency (/10)\"\n        ),\n        createMultiplicativeModifier(\n            1.5,\n            \"Prōficiō skill (flat)\",\n            chargeSpell.treeNodes.fasterChargeFlat.bought\n        ),\n        createMultiplicativeModifier(\n            () => Decimal.pow(1.1, chargeSpell.level.value),\n            \"Prōficiō skill (x1.1 per Prōficiō level)\",\n            chargeSpell.treeNodes.fasterChargeFlat.bought\n        )\n    );\n    const computedChargeRate = computed(() => chargeRate.apply(0));\n\n    const baseDischargeRate = createSequentialModifier(\n        createAdditiveModifier(\n            () => Decimal.div(computedChargeSpellPotency.value, 10),\n            \"Prōficiō potency (/10)\"\n        )\n    );\n    const computedBaseDischargeRate = computed(() => baseDischargeRate.apply(0));\n\n    const massXpSpellPotency = createSequentialModifier(\n        createMultiplicativeModifier(computedAllSpellPotency, \"All Spell Potency\"),\n        createMultiplicativeModifier(\n            () => Decimal.pow(1.1, massXpSpell.level.value),\n            \"Scholē level (x1.1 each)\"\n        ),\n        createMultiplicativeModifier(\n            () => Decimal.log2(Decimal.add(massXpSpell.castingTime.value, 1)).div(10).add(1),\n            jsx(() => (\n                <>\n                    Téchnasma skill (log<sub>2</sub>(casting time)/10)\n                </>\n            )),\n            xpSpell.treeNodes.morePotencyOverTime.bought\n        ),\n        createMultiplicativeModifier(\n            computedChargeMult,\n            \"Charge Multiplier\",\n            chargeSpellMilestone.earned\n        ),\n        createMultiplicativeModifier(\n            2,\n            \"Scholē skill (flat)\",\n            massXpSpell.treeNodes.morePotency.bought\n        )\n    );\n    const computedMassXpSpellPotency = computed(() => massXpSpellPotency.apply(1));\n\n    const massXpSpellXp = createSequentialModifier(\n        createMultiplicativeModifier(computedAllSpellXpGain, \"All Spell EXP Gain\"),\n        createMultiplicativeModifier(computedMassXpSpellPotency, \"Scholē potency\"),\n        createMultiplicativeModifier(\n            2,\n            \"Scholē skill (flat)\",\n            massXpSpell.treeNodes.moreMassXpSpellXp.bought\n        )\n    );\n\n    const massXpGain = createSequentialModifier(\n        createAdditiveModifier(\n            () => Decimal.times(computedMassXpSpellPotency.value, 1),\n            \"Scholē potency\"\n        ),\n        createExponentialModifier(0.9, \"(softcapped)\")\n    );\n\n    const massXpDischargeRate = createSequentialModifier(\n        createMultiplicativeModifier(\n            () => Decimal.pow(1 / 1.05, massXpSpell.level.value ?? 0),\n            \"Prōficiō skill (/1.05 per Scholē level)\",\n            chargeSpell.treeNodes.slowerDischargeByLevel.bought\n        )\n    );\n    const computedMassXpDischargeRate = computed(() =>\n        massXpDischargeRate.apply(computedBaseDischargeRate.value)\n    );\n\n    const modifiers = {\n        allSpellPotency,\n        allSpellXpGain,\n        xpSpellPotency,\n        xpSpellXp,\n        jobXpGain,\n        flowerSpellPotency,\n        flowerSpellXp,\n        flowerGain,\n        flowerPassiveGain,\n        chargeSpellPotency,\n        chargeSpellXp,\n        massXpSpellPotency,\n        massXpSpellXp,\n        massXpGain\n    };\n\n    const [generalTab, generalTabCollapsed] = createCollapsibleModifierSections([\n        {\n            title: \"Harvesting Flowers EXP Gain\",\n            subtitle: \"When Téchnasma is active\",\n            modifier: jobXpGain,\n            base: 0,\n            unit: \"/sec\"\n        },\n        {\n            title: \"All Spell Potency\",\n            modifier: allSpellPotency\n        },\n        {\n            title: \"All Spell EXP Gain\",\n            subtitle: \"When the spell is active\",\n            modifier: allSpellXpGain,\n            unit: \"/sec\"\n        },\n        {\n            title: \"Flowers Gain\",\n            subtitle: \"When Therizó is active\",\n            modifier: flowerGain,\n            base: 0,\n            unit: \"/sec\",\n            visible: flowerSpellMilestone.earned\n        },\n        {\n            title: \"Flowers Gain\",\n            subtitle: \"When Therizó is NOT active\",\n            modifier: flowerPassiveGain,\n            base: 0,\n            unit: \"/sec\",\n            visible: () =>\n                flowerSpellMilestone.earned.value && Decimal.neq(flowerPassiveGain.apply(0), 0)\n        }\n    ]);\n    const [xpSpellTab, xpSpellTabCollapsed] = createCollapsibleModifierSections([\n        {\n            title: \"Téchnasma Potency\",\n            modifier: xpSpellPotency\n        },\n        {\n            title: \"Téchnasma EXP Gain\",\n            subtitle: \"When Téchnasma is active\",\n            modifier: xpSpellXp,\n            unit: \"/sec\"\n        },\n        {\n            title: \"Discharge Rate\",\n            subtitle: \"When Téchnasma is active\",\n            modifier: jobXpDischargeRate,\n            base: computedBaseDischargeRate,\n            unit: \"/sec\",\n            visible: chargeSpellMilestone.earned\n        }\n    ]);\n    const [flowerSpellTab, flowerSpellTabCollapsed] = createCollapsibleModifierSections([\n        {\n            title: \"Therizó Potency\",\n            modifier: flowerSpellPotency\n        },\n        {\n            title: \"Therizó EXP Gain\",\n            subtitle: \"When Therizó is active\",\n            modifier: flowerSpellXp,\n            base: 0.1,\n            unit: \"/sec\"\n        },\n        {\n            title: \"Discharge Rate\",\n            subtitle: \"When Therizó is active\",\n            modifier: flowerDischargeRate,\n            base: computedBaseDischargeRate,\n            unit: \"/sec\",\n            visible: chargeSpellMilestone.earned\n        }\n    ]);\n    const [chargeSpellTab, chargeSpellTabCollapsed] = createCollapsibleModifierSections([\n        {\n            title: \"Prōficiō Potency\",\n            modifier: chargeSpellPotency\n        },\n        {\n            title: \"Prōficiō EXP Gain\",\n            subtitle: \"When Prōficiō is active\",\n            modifier: chargeSpellXp,\n            base: 0.01,\n            unit: \"/sec\"\n        },\n        {\n            title: \"Charge Multiplier\",\n            subtitle: \"When a non-Prōficiō spell is active\",\n            modifier: chargeMult,\n            base: () => Decimal.log2(Decimal.add(chargeAmount.value, 1)).add(1),\n            unit: \"x\",\n            baseText: jsx(() => (\n                <>\n                    Base (log<sub>2</sub>(charge + 1) + 1)\n                </>\n            ))\n        },\n        {\n            title: \"Charge Rate\",\n            subtitle: \"When Prōficiō is active\",\n            modifier: chargeRate,\n            base: 0,\n            unit: \"/sec\"\n        },\n        {\n            title: \"Base Discharge Rate\",\n            subtitle: \"When a non-Prōficiō spell is active\",\n            modifier: baseDischargeRate,\n            base: 0,\n            unit: \"/sec\"\n        },\n        {\n            title: \"Maximum Charge\",\n            modifier: chargeCap,\n            base: 0\n        }\n    ]);\n    const [massXpSpellTab, massXpSpellTabCollapsed] = createCollapsibleModifierSections([\n        {\n            title: \"Scholē Potency\",\n            modifier: massXpSpellPotency\n        },\n        {\n            title: \"Scholē EXP Gain\",\n            subtitle: \"When Scholē is active\",\n            modifier: massXpSpellXp,\n            base: 0.001,\n            unit: \"/sec\"\n        },\n        {\n            title: \"Other Spell EXP Gain Efficiency\",\n            subtitle: \"When Scholē is active\",\n            modifier: massXpGain,\n            base: 0,\n            unit: \"%\"\n        },\n        {\n            title: \"Discharge Rate\",\n            subtitle: \"When Scholē is active\",\n            modifier: massXpDischargeRate,\n            base: computedBaseDischargeRate,\n            unit: \"/sec\",\n            visible: chargeSpellMilestone.earned\n        }\n    ]);\n    const modifierTabs = createTabFamily(\n        {\n            general: () => ({\n                display: \"General\",\n                glowColor(): string {\n                    return modifierTabs.activeTab.value === this.tab ? color : \"\";\n                },\n                tab: generalTab,\n                generalTabCollapsed\n            }),\n            xpSpell: () => ({\n                display: \"Téchnasma\",\n                glowColor(): string {\n                    return modifierTabs.activeTab.value === this.tab ? color : \"\";\n                },\n                tab: xpSpellTab,\n                xpSpellTabCollapsed\n            }),\n            flowerSpell: () => ({\n                display: \"Therizó\",\n                visibility: () => showIf(flowerSpellMilestone.earned.value),\n                glowColor(): string {\n                    return modifierTabs.activeTab.value === this.tab ? color : \"\";\n                },\n                tab: flowerSpellTab,\n                flowerSpellTabCollapsed\n            }),\n            chargeSpell: () => ({\n                display: \"Prōficiō\",\n                visibility: () => showIf(chargeSpellMilestone.earned.value),\n                glowColor(): string {\n                    return modifierTabs.activeTab.value === this.tab ? color : \"\";\n                },\n                tab: chargeSpellTab,\n                chargeSpellTabCollapsed\n            }),\n            massXpSpell: () => ({\n                display: \"Scholē\",\n                visibility: () => showIf(expSpellMilestone.earned.value),\n                glowColor(): string {\n                    return modifierTabs.activeTab.value === this.tab ? color : \"\";\n                },\n                tab: massXpSpellTab,\n                massXpSpellTabCollapsed\n            })\n        },\n        () => ({\n            style: `--layer-color: ${color}`\n        })\n    );\n\n    this.on(\"update\", diff => {\n        if (job.timeLoopActive.value === false && player.tabs[1] !== id) return;\n\n        if (xpSpell.active.value) {\n            job.xp.value = Decimal.add(job.xp.value, Decimal.times(jobXpGain.apply(0), diff));\n            if (spellExpMilestone.earned.value) {\n                xpSpell.xp.value = Decimal.add(\n                    xpSpell.xp.value,\n                    Decimal.times(xpSpellXp.apply(1), diff)\n                );\n            }\n            xpSpell.castingTime.value += diff;\n            chargeAmount.value = Decimal.max(\n                Decimal.sub(\n                    chargeAmount.value,\n                    Decimal.times(computedJobXpDischargeRate.value, diff)\n                ),\n                0\n            );\n        }\n        if (flowerSpell.active.value) {\n            flowers.value = Decimal.min(\n                main.chapter.value > 1 ? Decimal.dInf : 10000000,\n                Decimal.add(flowers.value, Decimal.times(flowerGain.apply(0), diff))\n            );\n            if (spellExpMilestone.earned.value) {\n                flowerSpell.xp.value = Decimal.add(\n                    flowerSpell.xp.value,\n                    Decimal.times(flowerSpellXp.apply(0.1), diff)\n                );\n            }\n            flowerSpell.castingTime.value += diff;\n            chargeAmount.value = Decimal.max(\n                Decimal.sub(\n                    chargeAmount.value,\n                    Decimal.times(computedFlowerDischargeRate.value, diff)\n                ),\n                0\n            );\n        } else {\n            const passiveGain = flowerPassiveGain.apply(0);\n            if (Decimal.neq(passiveGain, 0)) {\n                flowers.value = Decimal.min(\n                    main.chapter.value > 1 ? Decimal.dInf : 10000000,\n                    Decimal.add(flowers.value, Decimal.times(passiveGain, diff))\n                );\n            }\n        }\n        if (chargeSpell.active.value) {\n            chargeSpell.xp.value = Decimal.add(\n                chargeSpell.xp.value,\n                Decimal.times(chargeSpellXp.apply(0.01), diff)\n            );\n            chargeSpell.castingTime.value += diff;\n            chargeAmount.value = Decimal.min(\n                Decimal.add(chargeAmount.value, Decimal.times(computedChargeRate.value, diff)),\n                computedChargeCap.value\n            );\n        }\n        if (massXpSpell.active.value) {\n            const xpEfficiency = Decimal.div(massXpGain.apply(0), 100);\n            xpSpell.xp.value = Decimal.add(\n                xpSpell.xp.value,\n                Decimal.times(xpSpellXp.apply(xpEfficiency), diff)\n            );\n            flowerSpell.xp.value = Decimal.add(\n                flowerSpell.xp.value,\n                Decimal.times(flowerSpellXp.apply(xpEfficiency), diff)\n            );\n            chargeSpell.xp.value = Decimal.add(\n                chargeSpell.xp.value,\n                Decimal.times(chargeSpellXp.apply(xpEfficiency), diff)\n            );\n            massXpSpell.xp.value = Decimal.add(\n                massXpSpell.xp.value,\n                Decimal.times(massXpSpellXp.apply(0.001), diff)\n            );\n            massXpSpell.castingTime.value += diff;\n            chargeAmount.value = Decimal.max(\n                Decimal.sub(\n                    chargeAmount.value,\n                    Decimal.times(computedMassXpDischargeRate.value, diff)\n                ),\n                0\n            );\n        }\n    });\n\n    return {\n        name,\n        color,\n        minWidth: 670,\n        flowers,\n        job,\n        spells,\n        modifiers,\n        milestones,\n        collapseMilestones,\n        chargeAmount,\n        modifierTabs,\n        display: jsx(() => {\n            const milestonesToDisplay = [...lockedMilestones.value];\n            if (firstMilestone.value) {\n                milestonesToDisplay.push(firstMilestone.value);\n            }\n            return (\n                <>\n                    <MainDisplay\n                        resource={flowers}\n                        color={color}\n                        v-show={flowerSpellMilestone.earned.value}\n                        effectDisplay={`multiplying spell potency by x${format(\n                            flowersEffect.value\n                        )}`}\n                    />\n                    {renderColJSX(\n                        ...milestonesToDisplay,\n                        jsx(() => (\n                            <Collapsible\n                                collapsed={collapseMilestones}\n                                content={jsx(() => renderColJSX(...otherMilestones.value))}\n                                display={\n                                    collapseMilestones.value\n                                        ? \"Show other completed milestones\"\n                                        : \"Hide other completed milestones\"\n                                }\n                                v-show={otherMilestones.value.length > 0}\n                            />\n                        ))\n                    )}\n                    <Spacer />\n                    <div style=\"position: relative; z-index: 1\">\n                        You can cast {formatWhole(maxActiveSpells.value)} spell\n                        {maxActiveSpells.value === 1 ? \"\" : \"s\"} at a time\n                    </div>\n                    {renderRowJSX(...Object.values(spells).map(s => s.selector))}\n                    {chargeSpellMilestone.earned.value ? (\n                        <Row style=\"margin-top: 40px !important; margin-bottom: -20px;\">\n                            {renderJSX(chargeBar)}\n                            <span style=\"margin-left: 10px\">\n                                {format(computedChargeMult.value)}x\n                            </span>\n                        </Row>\n                    ) : null}\n                    {spellExpMilestone.earned.value\n                        ? Object.values(spells)\n                              .filter(s => s.active.value)\n                              .map(s => <SpellTree spell={s} />)\n                        : null}\n                    {renderJSX(particles)}\n                </>\n            );\n        })\n    };\n});\n\nexport default layer;\n","import ClickableComponent from \"features/clickables/Clickable.vue\";\nimport { Resource } from \"features/resources/resource\";\nimport { Persistent, persistent } from \"game/persistence\";\nimport Decimal, { DecimalSource, format, formatWhole } from \"util/bignum\";\nimport {\n    Computable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { coerceComponent, isCoercableComponent } from \"util/vue\";\nimport { computed, Ref, unref } from \"vue\";\nimport {\n    CoercableComponent,\n    Component,\n    OptionsFunc,\n    GatherProps,\n    getUniqueID,\n    jsx,\n    Replace,\n    setDefault,\n    StyleValue,\n    Visibility\n} from \"./feature\";\n\nexport const BuyableType = Symbol(\"Buyable\");\n\nexport type BuyableDisplay =\n    | CoercableComponent\n    | {\n          title?: CoercableComponent;\n          description: CoercableComponent;\n          effectDisplay?: CoercableComponent;\n      };\n\nexport interface BuyableOptions {\n    visibility?: Computable<Visibility>;\n    cost?: Computable<DecimalSource>;\n    resource?: Resource;\n    canPurchase?: Computable<boolean>;\n    purchaseLimit?: Computable<DecimalSource>;\n    classes?: Computable<Record<string, boolean>>;\n    style?: Computable<StyleValue>;\n    mark?: Computable<boolean | string>;\n    small?: Computable<boolean>;\n    display?: Computable<BuyableDisplay>;\n    onPurchase?: (cost: DecimalSource | undefined) => void;\n}\n\nexport interface BaseBuyable {\n    id: string;\n    amount: Persistent<DecimalSource>;\n    maxed: Ref<boolean>;\n    canAfford: Ref<boolean>;\n    canClick: ProcessedComputable<boolean>;\n    onClick: VoidFunction;\n    purchase: VoidFunction;\n    type: typeof BuyableType;\n    [Component]: typeof ClickableComponent;\n    [GatherProps]: () => Record<string, unknown>;\n}\n\nexport type Buyable<T extends BuyableOptions> = Replace<\n    T & BaseBuyable,\n    {\n        visibility: GetComputableTypeWithDefault<T[\"visibility\"], Visibility.Visible>;\n        cost: GetComputableType<T[\"cost\"]>;\n        resource: GetComputableType<T[\"resource\"]>;\n        canPurchase: GetComputableTypeWithDefault<T[\"canPurchase\"], Ref<boolean>>;\n        purchaseLimit: GetComputableTypeWithDefault<T[\"purchaseLimit\"], Decimal>;\n        classes: GetComputableType<T[\"classes\"]>;\n        style: GetComputableType<T[\"style\"]>;\n        mark: GetComputableType<T[\"mark\"]>;\n        small: GetComputableType<T[\"small\"]>;\n        display: Ref<CoercableComponent>;\n    }\n>;\n\nexport type GenericBuyable = Replace<\n    Buyable<BuyableOptions>,\n    {\n        visibility: ProcessedComputable<Visibility>;\n        canPurchase: ProcessedComputable<boolean>;\n        purchaseLimit: ProcessedComputable<DecimalSource>;\n    }\n>;\n\nexport function createBuyable<T extends BuyableOptions>(\n    optionsFunc: OptionsFunc<T, Buyable<T>, BaseBuyable>\n): Buyable<T> {\n    const amount = persistent<DecimalSource>(0);\n    return createLazyProxy(() => {\n        const buyable = optionsFunc();\n\n        if (buyable.canPurchase == null && (buyable.resource == null || buyable.cost == null)) {\n            console.warn(\n                \"Cannot create buyable without a canPurchase property or a resource and cost property\",\n                buyable\n            );\n            throw \"Cannot create buyable without a canPurchase property or a resource and cost property\";\n        }\n\n        buyable.id = getUniqueID(\"buyable-\");\n        buyable.type = BuyableType;\n        buyable[Component] = ClickableComponent;\n\n        buyable.amount = amount;\n        buyable.canAfford = computed(() => {\n            const genericBuyable = buyable as GenericBuyable;\n            const cost = unref(genericBuyable.cost);\n            return (\n                genericBuyable.resource != null &&\n                cost != null &&\n                Decimal.gte(genericBuyable.resource.value, cost)\n            );\n        });\n        if (buyable.canPurchase == null) {\n            buyable.canPurchase = computed(\n                () =>\n                    unref((buyable as GenericBuyable).visibility) === Visibility.Visible &&\n                    unref((buyable as GenericBuyable).canAfford) &&\n                    Decimal.lt(\n                        (buyable as GenericBuyable).amount.value,\n                        unref((buyable as GenericBuyable).purchaseLimit)\n                    )\n            );\n        }\n        buyable.maxed = computed(() =>\n            Decimal.gte(\n                (buyable as GenericBuyable).amount.value,\n                unref((buyable as GenericBuyable).purchaseLimit)\n            )\n        );\n        processComputable(buyable as T, \"classes\");\n        const classes = buyable.classes as ProcessedComputable<Record<string, boolean>> | undefined;\n        buyable.classes = computed(() => {\n            const currClasses = unref(classes) || {};\n            if ((buyable as GenericBuyable).maxed.value) {\n                currClasses.bought = true;\n            }\n            return currClasses;\n        });\n        processComputable(buyable as T, \"canPurchase\");\n        buyable.canClick = buyable.canPurchase as ProcessedComputable<boolean>;\n        buyable.onClick = buyable.purchase =\n            buyable.onClick ??\n            buyable.purchase ??\n            function (this: GenericBuyable) {\n                const genericBuyable = buyable as GenericBuyable;\n                if (!unref(genericBuyable.canPurchase)) {\n                    return;\n                }\n                const cost = unref(genericBuyable.cost);\n                if (genericBuyable.cost != null && genericBuyable.resource != null) {\n                    genericBuyable.resource.value = Decimal.sub(\n                        genericBuyable.resource.value,\n                        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                        cost!\n                    );\n                    genericBuyable.amount.value = Decimal.add(genericBuyable.amount.value, 1);\n                }\n                genericBuyable.onPurchase?.(cost);\n            };\n        processComputable(buyable as T, \"display\");\n        const display = buyable.display;\n        buyable.display = jsx(() => {\n            // TODO once processComputable types correctly, remove this \"as X\"\n            const currDisplay = unref(display) as BuyableDisplay;\n            if (isCoercableComponent(currDisplay)) {\n                const CurrDisplay = coerceComponent(currDisplay);\n                return <CurrDisplay />;\n            }\n            if (currDisplay != null && buyable.cost != null && buyable.resource != null) {\n                const genericBuyable = buyable as GenericBuyable;\n                const Title = coerceComponent(currDisplay.title || \"\", \"h3\");\n                const Description = coerceComponent(currDisplay.description);\n                const EffectDisplay = coerceComponent(currDisplay.effectDisplay || \"\");\n                const amountDisplay =\n                    unref(genericBuyable.purchaseLimit) === Decimal.dInf ? (\n                        <>Amount: {formatWhole(genericBuyable.amount.value)}</>\n                    ) : (\n                        <>\n                            Amount: {formatWhole(genericBuyable.amount.value)} /{\" \"}\n                            {formatWhole(unref(genericBuyable.purchaseLimit))}\n                        </>\n                    );\n\n                return (\n                    <span>\n                        {currDisplay.title ? (\n                            <div>\n                                <Title />\n                            </div>\n                        ) : null}\n                        <Description />\n                        <div>\n                            <br />\n                            {amountDisplay}\n                        </div>\n                        {currDisplay.effectDisplay ? (\n                            <div>\n                                <br />\n                                Currently: <EffectDisplay />\n                            </div>\n                        ) : null}\n                        {genericBuyable.cost && !genericBuyable.maxed.value ? (\n                            <div>\n                                <br />\n                                Cost: {format(unref(genericBuyable.cost) || 0)}{\" \"}\n                                {buyable.resource.displayName}\n                            </div>\n                        ) : null}\n                    </span>\n                );\n            }\n            return \"\";\n        });\n\n        processComputable(buyable as T, \"visibility\");\n        setDefault(buyable, \"visibility\", Visibility.Visible);\n        processComputable(buyable as T, \"cost\");\n        processComputable(buyable as T, \"resource\");\n        processComputable(buyable as T, \"purchaseLimit\");\n        setDefault(buyable, \"purchaseLimit\", Decimal.dInf);\n        processComputable(buyable as T, \"style\");\n        processComputable(buyable as T, \"mark\");\n        processComputable(buyable as T, \"small\");\n\n        buyable[GatherProps] = function (this: GenericBuyable) {\n            const { display, visibility, style, classes, onClick, canClick, small, mark, id } =\n                this;\n            return {\n                display,\n                visibility,\n                style: unref(style),\n                classes,\n                onClick,\n                canClick,\n                small,\n                mark,\n                id\n            };\n        };\n\n        return buyable as unknown as Buyable<T>;\n    });\n}\n","/**\n * @module\n * @hidden\n */\n\nimport Collapsible from \"components/layout/Collapsible.vue\";\nimport Spacer from \"components/layout/Spacer.vue\";\nimport { createCollapsibleModifierSections } from \"data/common\";\nimport { jsx, showIf } from \"features/feature\";\nimport { createJob } from \"features/job/job\";\nimport { createMilestone } from \"features/milestones/milestone\";\nimport MainDisplay from \"features/resources/MainDisplay.vue\";\nimport { createResource } from \"features/resources/resource\";\nimport { createTabFamily } from \"features/tabs/tabFamily\";\nimport { BaseLayer, createLayer } from \"game/layers\";\nimport { createMultiplicativeModifier, createSequentialModifier } from \"game/modifiers\";\nimport { persistent } from \"game/persistence\";\nimport player from \"game/player\";\nimport Decimal, { DecimalSource } from \"util/bignum\";\nimport { getFirstFeature, renderColJSX, renderJSX } from \"util/vue\";\nimport { computed, ComputedRef } from \"vue\";\nimport distill from \"../distill/distill\";\nimport globalQuips from \"../quips.json\";\nimport alwaysQuips from \"./quips.json\";\n\nconst id = \"experiments\";\nconst layer = createLayer(id, function (this: BaseLayer) {\n    const name = \"Experimenting\";\n    const color = \"#C2B280\";\n\n    const potentia = createResource<DecimalSource>(0, \"potentia\");\n\n    const job = createJob(name, () => ({\n        color,\n        image: \"https://dummyimage.com/512x288/000/fff.png\",\n        imageFocus: {\n            x: \"85%\",\n            y: \"60%\"\n        },\n        randomQuips() {\n            return [...alwaysQuips, ...globalQuips];\n        },\n        resource: potentia,\n        layerID: id,\n        modifierInfo: jsx(() => renderJSX(modifierTabs)),\n        visibility: () => showIf(distill.milestones.experimentsMilestone.earned.value)\n    }));\n\n    const spellExpMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 2);\n        },\n        display: {\n            requirement: \"Achieve Experimenting Level 2\",\n            effectDisplay: \"???\"\n        }\n    }));\n    const flowerSpellMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 4);\n        },\n        display: {\n            requirement: \"Achieve Experimenting Level 4\",\n            effectDisplay: \"???\"\n        },\n        visibility() {\n            return showIf(spellExpMilestone.earned.value);\n        }\n    }));\n    const chargeSpellMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 6);\n        },\n        display: {\n            requirement: \"Achieve Experimenting Level 6\",\n            effectDisplay: \"???\"\n        },\n        visibility() {\n            return showIf(flowerSpellMilestone.earned.value);\n        }\n    }));\n    const expSpellMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 8);\n        },\n        display: {\n            requirement: \"Achieve Experimenting Level 8\",\n            effectDisplay: \"???\"\n        },\n        visibility() {\n            return showIf(chargeSpellMilestone.earned.value);\n        }\n    }));\n    const milestones = {\n        spellExpMilestone,\n        flowerSpellMilestone,\n        chargeSpellMilestone,\n        expSpellMilestone\n    };\n    const orderedMilestones = [\n        expSpellMilestone,\n        chargeSpellMilestone,\n        flowerSpellMilestone,\n        spellExpMilestone\n    ];\n    const collapseMilestones = persistent<boolean>(true);\n    const lockedMilestones = computed(() =>\n        orderedMilestones.filter(m => m.earned.value === false)\n    );\n    const { firstFeature: firstMilestone, hiddenFeatures: otherMilestones } = getFirstFeature(\n        orderedMilestones,\n        m => m.earned.value\n    );\n\n    const jobLevelEffect: ComputedRef<DecimalSource> = computed(() =>\n        Decimal.pow(1.1, job.level.value)\n    );\n\n    const jobXpGain = createSequentialModifier(\n        createMultiplicativeModifier(jobLevelEffect, \"Experiment level (x1.1 each)\")\n    );\n\n    const modifiers = {\n        jobXpGain\n    };\n\n    const [generalTab, generalTabCollapsed] = createCollapsibleModifierSections([\n        {\n            title: \"Experiment EXP Gain\",\n            modifier: jobXpGain,\n            base: 0,\n            unit: \"/sec\"\n        }\n    ]);\n    const modifierTabs = createTabFamily(\n        {\n            general: () => ({\n                display: \"General\",\n                glowColor(): string {\n                    return modifierTabs.activeTab.value === this.tab ? color : \"\";\n                },\n                tab: generalTab,\n                generalTabCollapsed\n            })\n        },\n        () => ({\n            style: `--layer-color: ${color}`\n        })\n    );\n\n    this.on(\"preUpdate\", diff => {\n        if (job.timeLoopActive.value === false && player.tabs[1] !== id) return;\n\n        job.xp.value = Decimal.add(job.xp.value, Decimal.times(jobXpGain.apply(0), diff));\n    });\n\n    return {\n        name,\n        color,\n        minWidth: 670,\n        potentia,\n        job,\n        modifiers,\n        milestones,\n        collapseMilestones,\n        modifierTabs,\n        display: jsx(() => {\n            const milestonesToDisplay = [...lockedMilestones.value];\n            if (firstMilestone.value) {\n                milestonesToDisplay.push(firstMilestone.value);\n            }\n            return (\n                <>\n                    <MainDisplay resource={potentia} color={color} />\n                    {renderColJSX(\n                        ...milestonesToDisplay,\n                        jsx(() => (\n                            <Collapsible\n                                collapsed={collapseMilestones}\n                                content={jsx(() => renderColJSX(...otherMilestones.value))}\n                                display={\n                                    collapseMilestones.value\n                                        ? \"Show other completed milestones\"\n                                        : \"Hide other completed milestones\"\n                                }\n                                v-show={otherMilestones.value.length > 0}\n                            />\n                        ))\n                    )}\n                    <Spacer />\n                </>\n            );\n        })\n    };\n});\n\nexport default layer;\n","/**\n * @module\n * @hidden\n */\n\nimport Collapsible from \"components/layout/Collapsible.vue\";\nimport Spacer from \"components/layout/Spacer.vue\";\nimport { createCollapsibleModifierSections } from \"data/common\";\nimport { jsx, showIf } from \"features/feature\";\nimport { createJob } from \"features/job/job\";\nimport { createMilestone } from \"features/milestones/milestone\";\nimport { createResource } from \"features/resources/resource\";\nimport Resource from \"features/resources/Resource.vue\";\nimport { createTabFamily } from \"features/tabs/tabFamily\";\nimport { BaseLayer, createLayer } from \"game/layers\";\nimport { createMultiplicativeModifier, createSequentialModifier } from \"game/modifiers\";\nimport { persistent } from \"game/persistence\";\nimport player from \"game/player\";\nimport Decimal, { DecimalSource } from \"util/bignum\";\nimport { getFirstFeature, renderColJSX, renderJSX } from \"util/vue\";\nimport { computed, ComputedRef } from \"vue\";\nimport distill from \"../distill/distill\";\nimport globalQuips from \"../quips.json\";\nimport alwaysQuips from \"./quips.json\";\n\nconst id = \"study\";\nconst layer = createLayer(id, function (this: BaseLayer) {\n    const name = \"Studying\";\n    const color = \"#9b6734\";\n\n    const properties = createResource<DecimalSource>(0, \"properties\");\n    const insights = createResource<DecimalSource>(0, \"insights\");\n\n    const job = createJob(name, () => ({\n        color,\n        image: \"https://dummyimage.com/512x288/000/fff.png\",\n        imageFocus: {\n            x: \"25%\",\n            y: \"20%\"\n        },\n        randomQuips() {\n            return [...alwaysQuips, ...globalQuips];\n        },\n        resource: [properties, insights],\n        layerID: id,\n        modifierInfo: jsx(() => renderJSX(modifierTabs)),\n        visibility: () => showIf(distill.milestones.studyMilestone.earned.value)\n    }));\n\n    const spellExpMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 2);\n        },\n        display: {\n            requirement: \"Achieve Studying Level 2\",\n            effectDisplay: \"???\"\n        }\n    }));\n    const flowerSpellMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 4);\n        },\n        display: {\n            requirement: \"Achieve Studying Level 4\",\n            effectDisplay: \"???\"\n        },\n        visibility() {\n            return showIf(spellExpMilestone.earned.value);\n        }\n    }));\n    const chargeSpellMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 6);\n        },\n        display: {\n            requirement: \"Achieve Studying Level 6\",\n            effectDisplay: \"???\"\n        },\n        visibility() {\n            return showIf(flowerSpellMilestone.earned.value);\n        }\n    }));\n    const expSpellMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 8);\n        },\n        display: {\n            requirement: \"Achieve Studying Level 8\",\n            effectDisplay: \"???\"\n        },\n        visibility() {\n            return showIf(chargeSpellMilestone.earned.value);\n        }\n    }));\n    const milestones = {\n        spellExpMilestone,\n        flowerSpellMilestone,\n        chargeSpellMilestone,\n        expSpellMilestone\n    };\n    const orderedMilestones = [\n        expSpellMilestone,\n        chargeSpellMilestone,\n        flowerSpellMilestone,\n        spellExpMilestone\n    ];\n    const collapseMilestones = persistent<boolean>(true);\n    const lockedMilestones = computed(() =>\n        orderedMilestones.filter(m => m.earned.value === false)\n    );\n    const { firstFeature: firstMilestone, hiddenFeatures: otherMilestones } = getFirstFeature(\n        orderedMilestones,\n        m => m.earned.value\n    );\n\n    const jobLevelEffect: ComputedRef<DecimalSource> = computed(() =>\n        Decimal.pow(1.1, job.level.value)\n    );\n\n    const jobXpGain = createSequentialModifier(\n        createMultiplicativeModifier(jobLevelEffect, \"Studying level (x1.1 each)\")\n    );\n\n    const modifiers = {\n        jobXpGain\n    };\n\n    const [generalTab, generalTabCollapsed] = createCollapsibleModifierSections([\n        {\n            title: \"Studying EXP Gain\",\n            modifier: jobXpGain,\n            base: 0,\n            unit: \"/sec\"\n        }\n    ]);\n    const modifierTabs = createTabFamily(\n        {\n            general: () => ({\n                display: \"General\",\n                glowColor(): string {\n                    return modifierTabs.activeTab.value === this.tab ? color : \"\";\n                },\n                tab: generalTab,\n                generalTabCollapsed\n            })\n        },\n        () => ({\n            style: `--layer-color: ${color}`\n        })\n    );\n\n    this.on(\"preUpdate\", diff => {\n        if (job.timeLoopActive.value === false && player.tabs[1] !== id) return;\n\n        job.xp.value = Decimal.add(job.xp.value, Decimal.times(jobXpGain.apply(0), diff));\n    });\n\n    return {\n        name,\n        color,\n        minWidth: 670,\n        properties,\n        insights,\n        job,\n        modifiers,\n        milestones,\n        collapseMilestones,\n        modifierTabs,\n        display: jsx(() => {\n            const milestonesToDisplay = [...lockedMilestones.value];\n            if (firstMilestone.value) {\n                milestonesToDisplay.push(firstMilestone.value);\n            }\n            return (\n                <>\n                    <div>\n                        You have <Resource resource={properties} color={color} /> properties studied\n                        and <Resource resource={insights} color=\"darkcyan\" /> key insights\n                    </div>\n                    <br />\n                    {renderColJSX(\n                        ...milestonesToDisplay,\n                        jsx(() => (\n                            <Collapsible\n                                collapsed={collapseMilestones}\n                                content={jsx(() => renderColJSX(...otherMilestones.value))}\n                                display={\n                                    collapseMilestones.value\n                                        ? \"Show other completed milestones\"\n                                        : \"Hide other completed milestones\"\n                                }\n                                v-show={otherMilestones.value.length > 0}\n                            />\n                        ))\n                    )}\n                    <Spacer />\n                </>\n            );\n        })\n    };\n});\n\nexport default layer;\n","/**\n * @module\n * @hidden\n */\n\nimport { Emitter, EmitterConfigV3 } from \"@pixi/particle-emitter\";\nimport Slider from \"components/fields/Slider.vue\";\nimport Collapsible from \"components/layout/Collapsible.vue\";\nimport Spacer from \"components/layout/Spacer.vue\";\nimport Node from \"components/Node.vue\";\nimport { createCollapsibleModifierSections, Section } from \"data/common\";\nimport flowers from \"data/flowers/flowers\";\nimport { main } from \"data/projEntry\";\nimport { createBuyable, GenericBuyable } from \"features/buyable\";\nimport { jsx, JSXFunction, showIf, Visibility } from \"features/feature\";\nimport { createJob } from \"features/job/job\";\nimport { createMilestone } from \"features/milestones/milestone\";\nimport { createParticles } from \"features/particles/particles\";\nimport MainDisplay from \"features/resources/MainDisplay.vue\";\nimport { createResource, displayResource, Resource } from \"features/resources/resource\";\nimport { createTabFamily } from \"features/tabs/tabFamily\";\nimport Tooltip from \"features/tooltips/Tooltip.vue\";\nimport { addLayer, BaseLayer, createLayer } from \"game/layers\";\nimport {\n    createAdditiveModifier,\n    createMultiplicativeModifier,\n    createSequentialModifier,\n    Modifier\n} from \"game/modifiers\";\nimport { Persistent, persistent } from \"game/persistence\";\nimport player from \"game/player\";\nimport Decimal, { DecimalSource, formatWhole } from \"util/bignum\";\nimport { camelToTitle, WithRequired } from \"util/common\";\nimport { Computable, convertComputable, ProcessedComputable } from \"util/computed\";\nimport { getFirstFeature, render, renderColJSX, renderJSX, renderRowJSX } from \"util/vue\";\nimport { computed, ComputedRef, nextTick, Ref, ref, unref, watch } from \"vue\";\nimport experiments from \"../experiments/experiments\";\nimport globalQuips from \"../quips.json\";\nimport study from \"../study/study\";\nimport \"./distill.css\";\nimport elementParticles from \"./elementParticles.json\";\nimport alwaysQuips from \"./quips.json\";\n\nexport interface Element {\n    name: string;\n    symbol: string;\n    color: string;\n    resource: Resource;\n    conversionAmount: Persistent<number>;\n    cost: WithRequired<Modifier, \"revert\" | \"description\">;\n    computedCost: Ref<DecimalSource>;\n    gain: WithRequired<Modifier, \"revert\" | \"description\">;\n    actualGain: Ref<DecimalSource>;\n    tab: JSXFunction;\n    tabCollapsed: Persistent<boolean>[];\n    display: JSXFunction;\n    visible: ProcessedComputable<boolean>;\n    principleClickable: GenericBuyable | null;\n    particlesEmitter: Ref<Promise<Emitter>>;\n    refreshParticleEffect: VoidFunction;\n}\n\nconst isPastChapter1: ComputedRef<Visibility> = computed(() => showIf(main.chapter.value > 1));\n\nfunction getElementParticlesConfig(startColor: string, endColor: string) {\n    return Object.assign({}, elementParticles, {\n        behaviors: [\n            ...elementParticles.behaviors,\n            {\n                type: \"color\",\n                config: {\n                    color: {\n                        list: [\n                            {\n                                time: 0,\n                                value: startColor\n                            },\n                            {\n                                time: 1,\n                                value: endColor\n                            }\n                        ]\n                    }\n                }\n            }\n        ]\n    });\n}\n\nconst id = \"distill\";\nconst layer = createLayer(id, function (this: BaseLayer) {\n    const name = \"Purifying Flowers\";\n    const color = \"#8AFFC1\";\n\n    const essentia = createResource<DecimalSource>(0, \"essentia\");\n\n    const job = createJob(name, () => ({\n        color,\n        image: \"https://dummyimage.com/512x288/000/fff.png\",\n        imageFocus: {\n            x: \"25%\",\n            y: \"60%\"\n        },\n        randomQuips() {\n            return [...alwaysQuips, ...globalQuips];\n        },\n        resource: essentia,\n        layerID: id,\n        modifierInfo: jsx(() => renderJSX(modifierTabs)),\n        visibility: isPastChapter1\n    }));\n\n    const waterMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 2);\n        },\n        display: {\n            requirement: \"Achieve Purifying Flowers Level 2\",\n            effectDisplay: \"Unlock Water\"\n        }\n    }));\n    const principlesMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 4);\n        },\n        display: {\n            requirement: \"Achieve Purifying Flowers Level 4\",\n            effectDisplay: \"Unlock Principles\"\n        },\n        visibility() {\n            return showIf(waterMilestone.earned.value);\n        }\n    }));\n    const studyMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 5);\n        },\n        display: {\n            requirement: \"Achieve Purifying Flowers Level 5\",\n            effectDisplay: 'Unlock \"Studying\" Job'\n        },\n        visibility() {\n            return showIf(principlesMilestone.earned.value);\n        },\n        onComplete() {\n            addLayer(study, player);\n        }\n    }));\n    const airMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 6);\n        },\n        display: {\n            requirement: \"Achieve Purifying Flowers Level 6\",\n            effectDisplay: \"Unlock Air\"\n        },\n        visibility() {\n            return showIf(studyMilestone.earned.value);\n        }\n    }));\n    const fireMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 8);\n        },\n        display: {\n            requirement: \"Achieve Purifying Flowers Level 8\",\n            effectDisplay: \"Unlock Fire\"\n        },\n        visibility() {\n            return showIf(airMilestone.earned.value);\n        }\n    }));\n    const experimentsMilestone = createMilestone(() => ({\n        shouldEarn(): boolean {\n            return Decimal.gte(job.rawLevel.value, 10);\n        },\n        display: {\n            requirement: \"Achieve Purifying Flowers Level 10\",\n            effectDisplay: `Unlock \"Experimenting\" Job`\n        },\n        visibility() {\n            return showIf(fireMilestone.earned.value);\n        },\n        onComplete() {\n            addLayer(experiments, player);\n        }\n    }));\n    const milestones = {\n        waterMilestone,\n        principlesMilestone,\n        studyMilestone,\n        airMilestone,\n        fireMilestone,\n        experimentsMilestone\n    };\n    const orderedMilestones = [\n        experimentsMilestone,\n        fireMilestone,\n        airMilestone,\n        studyMilestone,\n        principlesMilestone,\n        waterMilestone\n    ];\n    const collapseMilestones = persistent<boolean>(true);\n    const lockedMilestones = computed(() =>\n        orderedMilestones.filter(m => m.earned.value === false)\n    );\n    const { firstFeature: firstMilestone, hiddenFeatures: otherMilestones } = getFirstFeature(\n        orderedMilestones,\n        m => m.earned.value\n    );\n\n    const particles = createParticles(() => ({\n        fullscreen: false,\n        zIndex: -1,\n        boundingRect: ref<DOMRect | undefined>(undefined),\n        onContainerResized(boundingRect) {\n            this.boundingRect.value = boundingRect;\n        },\n        onHotReload() {\n            Object.values(elements).forEach(element => element.refreshParticleEffect());\n        }\n    }));\n\n    const jobLevelEffect: ComputedRef<DecimalSource> = computed(() =>\n        Decimal.pow(1.1, job.level.value)\n    );\n\n    function createElement(\n        name: string,\n        symbol: string,\n        color: string,\n        particlesConfig: EmitterConfigV3,\n        principle = \"\",\n        prevElement: Element | null = null,\n        visible: Computable<boolean> = true\n    ) {\n        const processedVisible = convertComputable(visible);\n        const resource = createResource<DecimalSource>(0, name + \" essence\", 2);\n        const conversionAmount = persistent<number>(0);\n        let principleClickable: GenericBuyable | null = null;\n        if (principle) {\n            principleClickable = createBuyable(() => ({\n                display: jsx(() => (\n                    <div>\n                        Prepare {principle} to gain a portion of {name} whenever the above\n                        instrument is active\n                        {/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */}\n                        <br />({formatWhole(passiveEssenceGain.apply(0))}%)\n                        <br />\n                        <br />\n                        {/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */}\n                        Cost: {displayResource(resource, unref(principleClickable!.cost))}{\" \"}\n                        {resource.displayName}\n                    </div>\n                )),\n                visibility: () => showIf(principlesMilestone.earned.value),\n                resource,\n                cost() {\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    return Decimal.pow(10, principleClickable!.amount.value);\n                }\n            }));\n        }\n        const cost = createSequentialModifier();\n        const computedCost = computed(() =>\n            cost.apply(\n                Decimal.times(flowers.flowers.value, conversionAmount.value).div(100).floor()\n            )\n        );\n        const gain = createSequentialModifier(\n            createMultiplicativeModifier(() => Decimal.div(conversionAmount.value, 100)),\n            createMultiplicativeModifier(jobLevelEffect, \"Purifying Flowers level (x1.1 each)\")\n        );\n        const passiveEssenceGain = createSequentialModifier(\n            createAdditiveModifier(\n                computed(() => Decimal.sqrt(principleClickable?.amount.value ?? 0).times(10)),\n                `${camelToTitle(principle)} amount`\n            )\n        );\n        const actualGain = computed(() =>\n            Decimal.add(\n                gain.apply(\n                    Decimal.gt(computedCost.value, 0)\n                        ? Decimal.div(computedCost.value, 100).ceil().log(10)\n                        : 0\n                ),\n                Decimal.times(prevElement?.actualGain.value ?? 0, passiveEssenceGain.apply(0)).div(\n                    100\n                )\n            )\n        );\n        const modifierSections: Section[] = [\n            {\n                title: \"Flowers Loss\",\n                modifier: cost,\n                base: () =>\n                    Decimal.times(flowers.flowers.value, conversionAmount.value).div(100).floor(),\n                baseText: jsx(() => <>Base (⌊flowers x conversion amount⌋)</>),\n                unit: \"/sec\"\n            },\n            {\n                title: `${camelToTitle(name)} Essence Gain`,\n                subtitle: \"When cost is non-zero\",\n                modifier: gain,\n                base: () =>\n                    Decimal.gt(computedCost.value, 0)\n                        ? Decimal.div(computedCost.value, 100).ceil().log(10)\n                        : 0,\n                baseText: jsx(() => (\n                    <>\n                        Base (log<sub>10</sub>(flowers loss))\n                    </>\n                )),\n                unit: \"/sec\"\n            }\n        ];\n        if (principleClickable && prevElement) {\n            modifierSections.push({\n                title: `${camelToTitle(name)} Essence Gain`,\n                subtitle: `% of ${camelToTitle(prevElement.name)} essence gain`,\n                modifier: passiveEssenceGain,\n                base: 0,\n                unit: \"%\"\n            });\n        }\n        const [tab, tabCollapsed] = createCollapsibleModifierSections(modifierSections);\n\n        const display = jsx(() =>\n            unref(processedVisible) ? (\n                <div class=\"element-display\" style={\"color: \" + color}>\n                    <Tooltip display={camelToTitle(name)}>\n                        <div class=\"element-logo\">\n                            {symbol}\n                            <Node id={name} />\n                        </div>\n                    </Tooltip>\n                    <div class=\"element-amount\">{formatWhole(resource.value)}</div>\n                </div>\n            ) : (\n                \"\"\n            )\n        );\n        const particlesEmitter = ref(particles.addEmitter(particlesConfig));\n        const updateParticleEffect = async ([isGaining, rect, boundingRect]: [\n            boolean,\n            DOMRect | undefined,\n            DOMRect | undefined\n        ]) => {\n            const particle = await particlesEmitter.value;\n            particle.emit = isGaining;\n            if (isGaining && rect && boundingRect) {\n                particle.cleanup();\n                particle.updateOwnerPos(\n                    rect.x + rect.width / 2 - boundingRect.x,\n                    rect.y + rect.height / 2 - boundingRect.y\n                );\n                particle.resetPositionTracking();\n            }\n        };\n        const refreshParticleEffect = () => {\n            particlesEmitter.value.then(e => e.destroy());\n            particlesEmitter.value = particles.addEmitter(particlesConfig);\n            updateParticleEffect([\n                Decimal.gt(actualGain.value, 0),\n                layer.nodes.value[name]?.rect,\n                particles.boundingRect.value\n            ]);\n        };\n\n        nextTick(() =>\n            watch(\n                [\n                    () => Decimal.gt(actualGain.value, 0),\n\n                    () => layer.nodes.value[name]?.rect,\n                    particles.boundingRect\n                ],\n                updateParticleEffect,\n                { immediate: true }\n            )\n        );\n\n        return {\n            name,\n            symbol,\n            color,\n            resource,\n            conversionAmount,\n            cost,\n            computedCost,\n            gain,\n            actualGain,\n            tab,\n            tabCollapsed,\n            display,\n            visible: processedVisible,\n            principleClickable,\n            particlesEmitter,\n            refreshParticleEffect\n        };\n    }\n\n    const earth = createElement(\n        \"earth\",\n        \"🜃\",\n        \"green\",\n        getElementParticlesConfig(\"#B6FF0D\", \"#59E80C\")\n    );\n    const water = createElement(\n        \"water\",\n        \"🜄\",\n        \"blue\",\n        getElementParticlesConfig(\"#0D8CFF\", \"#0C46E8\"),\n        \"salt\",\n        earth,\n        waterMilestone.earned\n    );\n    const air = createElement(\n        \"air\",\n        \"🜁\",\n        \"yellow\",\n        getElementParticlesConfig(\"#FFCE0D\", \"#E8D20C\"),\n        \"mercury\",\n        water,\n        airMilestone.earned\n    );\n    const fire = createElement(\n        \"fire\",\n        \"🜂\",\n        \"red\",\n        getElementParticlesConfig(\"#FF530D\", \"#E82C0C\"),\n        \"sulfur\",\n        air,\n        fireMilestone.earned\n    );\n    const elements = { earth, water, air, fire };\n\n    function createInstrument(element: Element, name: string, symbol: string) {\n        const display = jsx(() =>\n            unref(element.visible) ? (\n                <div>\n                    <div\n                        class={{\n                            instrument: true,\n                            principled:\n                                element.principleClickable &&\n                                unref(element.principleClickable.visibility) == Visibility.Visible\n                        }}\n                        style={`--progress: ${\n                            element.conversionAmount.value / 100\n                        }; --foreground: ${element.color}`}\n                    >\n                        <div style=\"width: 100%; display: flex\">\n                            <span class=\"instrument-logo\">{symbol}</span>\n                            <span class=\"instrument-details\">\n                                <div>{camelToTitle(name)}</div>\n                                <div>\n                                    -{displayResource(flowers.flowers, element.computedCost.value)}{\" \"}\n                                    {flowers.flowers.displayName}/sec\n                                </div>\n                                <div>\n                                    +{displayResource(element.resource, element.actualGain.value)}{\" \"}\n                                    {element.resource.displayName}/sec\n                                </div>\n                                <Slider\n                                    max={Object.values(instruments)\n                                        .filter(i => i.name !== name)\n                                        .reduce(\n                                            (acc, curr) =>\n                                                acc - curr.element.conversionAmount.value,\n                                            100\n                                        )}\n                                    modelValue={element.conversionAmount.value}\n                                    onUpdate:modelValue={v => (element.conversionAmount.value = v)}\n                                />\n                            </span>\n                        </div>\n                    </div>\n                    {element.principleClickable ? renderJSX(element.principleClickable) : null}\n                </div>\n            ) : (\n                \"\"\n            )\n        );\n\n        return {\n            name,\n            symbol,\n            element,\n            display\n        };\n    }\n\n    const alembic = createInstrument(earth, \"alembic\", \"🝪\");\n    const retort = createInstrument(water, \"retort\", \"🝭\");\n    const crucible = createInstrument(air, \"crucible\", \"🝧\");\n    const bainMarie = createInstrument(fire, \"bainMarie\", \"🝫\");\n    const instruments = { retort, alembic, crucible, bainMarie };\n\n    const jobXp = createSequentialModifier(\n        createMultiplicativeModifier(() => Decimal.max(1, earth.resource.value), \"Earth Essence\"),\n        createMultiplicativeModifier(() => Decimal.max(1, water.resource.value), \"Water Essence\"),\n        createMultiplicativeModifier(() => Decimal.max(1, air.resource.value), \"Air Essence\"),\n        createMultiplicativeModifier(() => Decimal.max(1, fire.resource.value), \"Fire Essence\")\n    );\n\n    const totalFlowerLoss = createSequentialModifier(\n        createAdditiveModifier(() => earth.computedCost.value, \"Alembic\"),\n        createAdditiveModifier(() => water.computedCost.value, \"Retort\"),\n        createAdditiveModifier(() => air.computedCost.value, \"Crucible\"),\n        createAdditiveModifier(() => fire.computedCost.value, \"Bain-Marie\")\n    );\n\n    const [generalTab, generalTabCollapsed] = createCollapsibleModifierSections([\n        {\n            title: \"Essentia\",\n            subtitle: \"Also Purifying Flowers EXP Amount\",\n            modifier: jobXp,\n            base: 1\n        },\n        {\n            title: \"Flowers Loss\",\n            modifier: totalFlowerLoss,\n            base: 0,\n            unit: \"/sec\"\n        }\n    ]);\n    const modifierTabs = createTabFamily({\n        general: () => ({\n            display: \"General\",\n            glowColor(): string {\n                return modifierTabs.activeTab.value === this.tab ? color : \"\";\n            },\n            tab: generalTab,\n            generalTabCollapsed\n        }),\n        ...Object.entries(elements).reduce((acc, [id, element]) => {\n            return {\n                ...acc,\n                [id]: () => ({\n                    display: camelToTitle(element.name),\n                    glowColor(): string {\n                        return modifierTabs.activeTab.value === this.tab ? color : \"\";\n                    },\n                    tab: element.tab,\n                    tabCollapsed: element.tabCollapsed\n                })\n            };\n        }, {})\n    });\n\n    this.on(\"preUpdate\", diff => {\n        job.xp.value = essentia.value = Object.values(elements).reduce(\n            (acc, curr) => acc.times(Decimal.max(1, curr.resource.value)),\n            new Decimal(1)\n        );\n        if (job.timeLoopActive.value === false && player.tabs[1] !== id) return;\n\n        const spentFlowers = totalFlowerLoss.apply(0);\n        Object.values(elements).forEach(element => {\n            element.resource.value = Decimal.add(\n                element.resource.value,\n                Decimal.times(element.actualGain.value, diff)\n            );\n        });\n        flowers.flowers.value = Decimal.sub(flowers.flowers.value, spentFlowers).max(0);\n    });\n\n    return {\n        name,\n        color,\n        minWidth: 670,\n        elements,\n        instruments,\n        job,\n        milestones,\n        collapseMilestones,\n        display: jsx(() => {\n            const milestonesToDisplay = [...lockedMilestones.value];\n            if (firstMilestone.value) {\n                milestonesToDisplay.push(firstMilestone.value);\n            }\n            return (\n                <>\n                    <MainDisplay resource={essentia} color={color} />\n                    {renderColJSX(\n                        ...milestonesToDisplay,\n                        jsx(() => (\n                            <Collapsible\n                                collapsed={collapseMilestones}\n                                content={jsx(() => renderColJSX(...otherMilestones.value))}\n                                display={\n                                    collapseMilestones.value\n                                        ? \"Show other completed milestones\"\n                                        : \"Hide other completed milestones\"\n                                }\n                                v-show={otherMilestones.value.length > 0}\n                            />\n                        ))\n                    )}\n                    {renderRowJSX(earth.display, water.display, air.display, fire.display)}\n                    <Spacer />\n                    {renderRowJSX(\n                        alembic.display,\n                        retort.display,\n                        crucible.display,\n                        bainMarie.display\n                    )}\n                    {render(particles)}\n                </>\n            );\n        })\n    };\n});\n\nexport default layer;\n","import Spacer from \"components/layout/Spacer.vue\";\nimport { CoercableComponent, jsx, showIf } from \"features/feature\";\nimport { createParticles } from \"features/particles/particles\";\nimport { createUpgrade } from \"features/upgrades/upgrade\";\nimport { globalBus } from \"game/events\";\nimport { addLayer, createLayer, GenericLayer } from \"game/layers\";\nimport { persistent } from \"game/persistence\";\nimport player, { PlayerData } from \"game/player\";\nimport Decimal, { format, formatTime, formatWhole } from \"util/bignum\";\nimport { render, renderCol } from \"util/vue\";\nimport { computed, ref, unref, watch, watchEffect } from \"vue\";\nimport confetti from \"./confetti.json\";\nimport Cutscene from \"./Cutscene.vue\";\nimport distill from \"./distill/distill\";\nimport flowers from \"./flowers/flowers\";\nimport study from \"./study/study\";\nimport experiments from \"./experiments/experiments\";\n\ninterface Cutscene {\n    pages: CutscenePage[];\n    page: number;\n    onFinished?: VoidFunction;\n}\n\ninterface CutscenePage {\n    stage: CoercableComponent;\n    caption?: CoercableComponent;\n}\n\nconst id = \"main\";\n/**\n * @hidden\n */\nexport const main = createLayer(id, () => {\n    const chapter = persistent<number>(0);\n\n    const jobs = [flowers.job, distill.job, study.job, experiments.job];\n\n    const timeSlots = computed(() => {\n        let slots = 0;\n        if (chapter.value > 1) {\n            slots = 1;\n        }\n        return slots;\n    });\n    const usedTimeSlots = computed(() => jobs.filter(j => j.timeLoopActive.value).length);\n    const hasTimeSlotAvailable = computed(() => timeSlots.value > usedTimeSlots.value);\n\n    const resetTimes = persistent<number[]>([0, 0, 0, 0, 0]);\n\n    jobs.forEach(job => {\n        let lastProc = 0;\n        watch(job.rawLevel, (currLevel, prevLevel) => {\n            if (Decimal.neq(currLevel, prevLevel) && Date.now() - lastProc > 500) {\n                const rect = main.nodes.value[job.id]?.rect;\n                const boundingRect = particles.boundingRect.value;\n                if (rect && boundingRect) {\n                    lastProc = Date.now();\n                    const config = Object.assign({}, confetti, {\n                        behaviors: [\n                            ...confetti.behaviors.slice(0, -1),\n                            {\n                                type: \"spawnShape\",\n                                config: {\n                                    type: \"rect\",\n                                    data: {\n                                        x: rect.x - boundingRect.x,\n                                        y: rect.y - boundingRect.y,\n                                        w: rect.width,\n                                        h: rect.height\n                                    }\n                                }\n                            }\n                        ]\n                    });\n                    particles.addEmitter(config).then(e => e.playOnceAndDestroy());\n                }\n            }\n        });\n    });\n\n    const closeTimeLoop = createUpgrade(() => ({\n        display: {\n            title: \"<h1>Close the time loop</h1>\",\n            description:\n                \"<br/><i>The flowers are collected, and I have just enough. It's time to get started.</i>\"\n        },\n        canAfford: true,\n        style: `width: 150px; height: 150px; --layer-color: ${flowers.color}`,\n        visibility: () => showIf(chapter.value == 1 && Decimal.gte(flowers.flowers.value, 10000000))\n    }));\n\n    const particles = createParticles(() => ({\n        boundingRect: ref<null | DOMRect>(null),\n        onContainerResized(boundingRect) {\n            this.boundingRect.value = boundingRect;\n        },\n        style: \"z-index: -1\"\n    }));\n\n    // Preload images\n    [\n        \"https://upload.wikimedia.org/wikipedia/commons/7/71/Serpiente_alquimica.jpg\",\n        \"https://dummyimage.com/720x320/000/fff.png\"\n    ].forEach(image => (new Image().src = image));\n\n    const activeCutscene = ref<null | Cutscene>(null);\n    watchEffect(() => {\n        if (chapter.value === 0) {\n            activeCutscene.value = {\n                pages: [\n                    {\n                        stage: jsx(() => (\n                            <img\n                                style=\"max-width: 100%; flex-grow: 1\"\n                                src=\"https://upload.wikimedia.org/wikipedia/commons/7/71/Serpiente_alquimica.jpg\"\n                            />\n                        ))\n                    },\n                    {\n                        stage: jsx(() => (\n                            <img\n                                style=\"max-width: 100%; flex-grow: 1\"\n                                src=\"https://dummyimage.com/720x320/000/fff.png\"\n                            />\n                        )),\n                        caption: \"Test\"\n                    },\n                    {\n                        stage: jsx(() => (\n                            <div style=\"display: flex\">\n                                <img\n                                    style=\"max-width: 100%; flex-grow: 1; margin-right: -20%\"\n                                    src=\"https://dummyimage.com/386x320/000/fff.png\"\n                                />\n                                <img\n                                    style=\"max-width: 100%; flex-grow: 1; margin-left: -20%\"\n                                    src=\"https://dummyimage.com/386x320/000/fff.png\"\n                                />\n                            </div>\n                        )),\n                        caption: \"Other test\"\n                    }\n                ],\n                page: 0,\n                onFinished() {\n                    chapter.value = 1;\n                    addLayer(flowers, player);\n                }\n            };\n            return;\n        } else if (chapter.value === 1 && closeTimeLoop.bought.value) {\n            activeCutscene.value = {\n                pages: [\n                    {\n                        stage: jsx(() => (\n                            <img\n                                style=\"max-width: 100%; flex-grow: 1\"\n                                src=\"https://dummyimage.com/720x320/000/fff.png\"\n                            />\n                        )),\n                        caption:\n                            \"I can wrap this field in a time loop and reset it whenever the field is empty. If I take the flowers out of the loop before hand I will have a perfectly sustainable source of moly.\"\n                    },\n                    {\n                        stage: jsx(() => (\n                            <img\n                                style=\"max-width: 100%; flex-grow: 1\"\n                                src=\"https://dummyimage.com/720x320/000/fff.png\"\n                            />\n                        )),\n                        caption:\n                            \"Now my focus will be transforming the flowers, and determining how best to utilize their power. I'll start by distilling the flowers into their component elements.\"\n                    }\n                ],\n                page: 0,\n                onFinished() {\n                    chapter.value = 2;\n                    addLayer(distill, player);\n                }\n            };\n            return;\n        }\n        activeCutscene.value = null;\n    });\n\n    const goalDisplay = computed(() => {\n        if (chapter.value === 1) {\n            return (\n                <h2>\n                    Current Goal: Harvest all the moly\n                    <br />({formatWhole(\n                        Decimal.sub(10000000, flowers.flowers.value).clampMin(0)\n                    )}{\" \"}\n                    remaining)\n                </h2>\n            );\n        } else if (chapter.value == 2) {\n            return <h2>Current Goal: Perform Ritual of Génesis</h2>;\n        }\n        return <></>;\n    });\n\n    return {\n        name: \"Jobs\",\n        chapter,\n        timeSlots,\n        hasTimeSlotAvailable,\n        resetTimes,\n        closeTimeLoop,\n        activeCutscene,\n        classes: { nigredo: true },\n        display: jsx(() =>\n            activeCutscene.value ? (\n                <Cutscene\n                    stage={activeCutscene.value.pages[activeCutscene.value.page].stage}\n                    caption={activeCutscene.value.pages[activeCutscene.value.page].caption}\n                    onNext={() => {\n                        if (activeCutscene.value) {\n                            if (\n                                activeCutscene.value.page ==\n                                activeCutscene.value.pages.length - 1\n                            ) {\n                                activeCutscene.value.onFinished?.();\n                            } else {\n                                activeCutscene.value.page++;\n                            }\n                        }\n                    }}\n                />\n            ) : (\n                <>\n                    {player.devSpeed === 0 ? <div>Game Paused</div> : null}\n                    {player.devSpeed && player.devSpeed !== 1 ? (\n                        <div>Dev Speed: {format(player.devSpeed)}x</div>\n                    ) : null}\n                    {player.offlineTime ? (\n                        <div>Offline Time: {formatTime(player.offlineTime)}</div>\n                    ) : null}\n                    {player.devSpeed != null ||\n                    player.offlineTime != null ||\n                    hasTimeSlotAvailable.value ? (\n                        <Spacer />\n                    ) : null}\n                    {unref(goalDisplay)}\n                    <Spacer />\n                    {Decimal.gt(timeSlots.value, 0) ? (\n                        <div>\n                            {timeSlots.value - usedTimeSlots.value} Time Slot\n                            {timeSlots.value - usedTimeSlots.value === 1 ? \"\" : \"s\"} Available\n                        </div>\n                    ) : null}\n                    {renderCol(...jobs)}\n                    {render(closeTimeLoop)}\n                    {render(particles)}\n                </>\n            )\n        )\n    };\n});\n\nglobalBus.on(\"update\", diff => {\n    if (main.chapter.value > -1 && main.activeCutscene.value != null) {\n        main.resetTimes.value[main.chapter.value - 1] += diff;\n    }\n});\n\nexport const getInitialLayers = (\n    /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\n    player: Partial<PlayerData>\n): Array<GenericLayer> => {\n    const chapter = player.layers?.main?.chapter ?? 0;\n    if (chapter === 0) {\n        return [main];\n    } else if (chapter === 1) {\n        return [main, flowers];\n    } else if (chapter === 2) {\n        const layers: GenericLayer[] = [main, flowers, distill];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if ((player.layers?.distill as any).milestones.studyMilestone.earned.value) {\n            layers.push(study);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if ((player.layers?.distill as any).milestones.experimentsMilestone.earned.value) {\n            layers.push(experiments);\n        }\n        return layers;\n    }\n    throw `Chapter ${chapter} not supported`;\n};\n\nexport const hasWon = computed(() => {\n    return false;\n});\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\nexport function fixOldSave(\n    oldVersion: string | undefined,\n    player: Partial<PlayerData>\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n): void {}\n/* eslint-enable @typescript-eslint/no-unused-vars */\n","import Modal from \"components/Modal.vue\";\nimport {\n    CoercableComponent,\n    OptionsFunc,\n    jsx,\n    JSXFunction,\n    Replace,\n    setDefault,\n    StyleValue\n} from \"features/feature\";\nimport {\n    Computable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { createNanoEvents, Emitter } from \"nanoevents\";\nimport { InjectionKey, Ref, ref, shallowReactive, unref } from \"vue\";\nimport { globalBus } from \"./events\";\nimport { Persistent, persistent } from \"./persistence\";\nimport player from \"./player\";\n\nexport interface FeatureNode {\n    rect: DOMRect;\n    observer: MutationObserver;\n    element: HTMLElement;\n}\n\nexport const RegisterNodeInjectionKey: InjectionKey<(id: string, element: HTMLElement) => void> =\n    Symbol(\"RegisterNode\");\nexport const UnregisterNodeInjectionKey: InjectionKey<(id: string) => void> =\n    Symbol(\"UnregisterNode\");\nexport const NodesInjectionKey: InjectionKey<Ref<Record<string, FeatureNode | undefined>>> =\n    Symbol(\"Nodes\");\n\nexport interface LayerEvents {\n    // Generation\n    preUpdate: (diff: number) => void;\n    // Actions (e.g. automation)\n    update: (diff: number) => void;\n    // Effects (e.g. milestones)\n    postUpdate: (diff: number) => void;\n}\n\nexport const layers: Record<string, Readonly<GenericLayer> | undefined> = shallowReactive({});\nwindow.layers = layers;\n\ndeclare module \"@vue/runtime-dom\" {\n    interface CSSProperties {\n        \"--layer-color\"?: string;\n    }\n}\n\nexport interface Position {\n    x: number;\n    y: number;\n}\n\nexport interface LayerOptions {\n    color?: Computable<string>;\n    display: Computable<CoercableComponent>;\n    classes?: Computable<Record<string, boolean>>;\n    style?: Computable<StyleValue>;\n    name?: Computable<string>;\n    minimizable?: Computable<boolean>;\n    forceHideGoBack?: Computable<boolean>;\n    minWidth?: Computable<number | string>;\n}\n\nexport interface BaseLayer {\n    id: string;\n    minimized: Persistent<boolean>;\n    emitter: Emitter<LayerEvents>;\n    on: OmitThisParameter<Emitter<LayerEvents>[\"on\"]>;\n    emit: <K extends keyof LayerEvents>(event: K, ...args: Parameters<LayerEvents[K]>) => void;\n    nodes: Ref<Record<string, FeatureNode | undefined>>;\n}\n\nexport type Layer<T extends LayerOptions> = Replace<\n    T & BaseLayer,\n    {\n        color: GetComputableType<T[\"color\"]>;\n        display: GetComputableType<T[\"display\"]>;\n        classes: GetComputableType<T[\"classes\"]>;\n        style: GetComputableType<T[\"style\"]>;\n        name: GetComputableTypeWithDefault<T[\"name\"], string>;\n        minWidth: GetComputableTypeWithDefault<T[\"minWidth\"], 600>;\n        minimizable: GetComputableTypeWithDefault<T[\"minimizable\"], true>;\n        forceHideGoBack: GetComputableType<T[\"forceHideGoBack\"]>;\n    }\n>;\n\nexport type GenericLayer = Replace<\n    Layer<LayerOptions>,\n    {\n        name: ProcessedComputable<string>;\n        minWidth: ProcessedComputable<number>;\n        minimizable: ProcessedComputable<boolean>;\n    }\n>;\n\nexport const persistentRefs: Record<string, Set<Persistent>> = {};\nexport const addingLayers: string[] = [];\nexport function createLayer<T extends LayerOptions>(\n    id: string,\n    optionsFunc: OptionsFunc<T, BaseLayer, BaseLayer>\n): Layer<T> {\n    return createLazyProxy(() => {\n        const layer = {} as T & Partial<BaseLayer>;\n        const emitter = (layer.emitter = createNanoEvents<LayerEvents>());\n        layer.on = emitter.on.bind(emitter);\n        layer.emit = emitter.emit.bind(emitter);\n        layer.nodes = ref({});\n        layer.id = id;\n\n        addingLayers.push(id);\n        persistentRefs[id] = new Set();\n        layer.minimized = persistent(false);\n        Object.assign(layer, optionsFunc.call(layer));\n        if (\n            addingLayers[addingLayers.length - 1] == null ||\n            addingLayers[addingLayers.length - 1] !== id\n        ) {\n            throw `Adding layers stack in invalid state. This should not happen\\nStack: ${addingLayers}\\nTrying to pop ${layer.id}`;\n        }\n        addingLayers.pop();\n\n        processComputable(layer as T, \"color\");\n        processComputable(layer as T, \"display\");\n        processComputable(layer as T, \"name\");\n        setDefault(layer, \"name\", layer.id);\n        processComputable(layer as T, \"minWidth\");\n        setDefault(layer, \"minWidth\", 600);\n        processComputable(layer as T, \"minimizable\");\n        setDefault(layer, \"minimizable\", true);\n\n        return layer as unknown as Layer<T>;\n    });\n}\n\nexport function addLayer(\n    layer: GenericLayer,\n    player: { layers?: Record<string, Record<string, unknown>> }\n): void {\n    console.info(\"Adding layer\", layer.id);\n    if (layers[layer.id]) {\n        console.error(\n            \"Attempted to add layer with same ID as existing layer\",\n            layer.id,\n            layers[layer.id]\n        );\n        return;\n    }\n\n    setDefault(player, \"layers\", {});\n    if (player.layers[layer.id] == null) {\n        player.layers[layer.id] = {};\n    }\n    layers[layer.id] = layer;\n\n    globalBus.emit(\"addLayer\", layer, player.layers[layer.id]);\n}\n\nexport function getLayer<T extends GenericLayer>(layerID: string): T {\n    return layers[layerID] as T;\n}\n\nexport function removeLayer(layer: GenericLayer): void {\n    console.info(\"Removing layer\", layer.id);\n    globalBus.emit(\"removeLayer\", layer);\n\n    layers[layer.id] = undefined;\n}\n\nexport function reloadLayer(layer: GenericLayer): void {\n    removeLayer(layer);\n\n    // Re-create layer\n    addLayer(layer, player);\n}\n\nexport function setupLayerModal(layer: GenericLayer): {\n    openModal: VoidFunction;\n    modal: JSXFunction;\n} {\n    const showModal = ref(false);\n    return {\n        openModal: () => (showModal.value = true),\n        modal: jsx(() => (\n            <Modal\n                modelValue={showModal.value}\n                onUpdate:modelValue={value => (showModal.value = value)}\n                v-slots={{\n                    header: () => <h2>{unref(layer.name)}</h2>,\n                    body: unref(layer.display)\n                }}\n            />\n        ))\n    };\n}\n\nglobalBus.on(\"update\", function updateLayers(diff) {\n    Object.values(layers).forEach(layer => {\n        layer?.emit(\"preUpdate\", diff);\n    });\n    Object.values(layers).forEach(layer => {\n        layer?.emit(\"update\", diff);\n    });\n    Object.values(layers).forEach(layer => {\n        layer?.emit(\"postUpdate\", diff);\n    });\n});\n","import Col from \"components/layout/Column.vue\";\nimport Row from \"components/layout/Row.vue\";\nimport {\n    CoercableComponent,\n    Component as ComponentKey,\n    GatherProps,\n    GenericComponent,\n    JSXFunction,\n    Visibility\n} from \"features/feature\";\nimport {\n    Component,\n    computed,\n    ComputedRef,\n    DefineComponent,\n    defineComponent,\n    isRef,\n    onUnmounted,\n    PropType,\n    ref,\n    Ref,\n    ShallowRef,\n    shallowRef,\n    unref,\n    watchEffect\n} from \"vue\";\nimport { DoNotCache, ProcessedComputable } from \"./computed\";\n\nexport function coerceComponent(\n    component: CoercableComponent,\n    defaultWrapper = \"span\"\n): DefineComponent {\n    if (typeof component === \"function\") {\n        return defineComponent({ render: component });\n    }\n    if (typeof component === \"string\") {\n        if (component.length > 0) {\n            component = component.trim();\n            if (component.charAt(0) !== \"<\") {\n                component = `<${defaultWrapper}>${component}</${defaultWrapper}>`;\n            }\n\n            return defineComponent({ template: component });\n        }\n        return defineComponent({ render: () => ({}) });\n    }\n    return component;\n}\n\nexport type VueFeature = {\n    [ComponentKey]: GenericComponent;\n    [GatherProps]: () => Record<string, unknown>;\n};\n\nexport function render(object: VueFeature | CoercableComponent): JSX.Element | DefineComponent {\n    if (isCoercableComponent(object)) {\n        if (typeof object === \"function\") {\n            return (object as JSXFunction)();\n        }\n        return coerceComponent(object);\n    }\n    const Component = object[ComponentKey];\n    return <Component {...object[GatherProps]()} />;\n}\n\nexport function renderRow(...objects: (VueFeature | CoercableComponent)[]): JSX.Element {\n    return <Row>{objects.map(render)}</Row>;\n}\n\nexport function renderCol(...objects: (VueFeature | CoercableComponent)[]): JSX.Element {\n    return <Col>{objects.map(render)}</Col>;\n}\n\nexport function renderJSX(object: VueFeature | CoercableComponent): JSX.Element {\n    if (isCoercableComponent(object)) {\n        if (typeof object === \"function\") {\n            return (object as JSXFunction)();\n        }\n        if (typeof object === \"string\") {\n            return <>{object}</>;\n        }\n        // TODO why is object typed as never?\n        const Comp = object as DefineComponent;\n        return <Comp />;\n    }\n    const Component = object[ComponentKey];\n    return <Component {...object[GatherProps]()} />;\n}\n\nexport function renderRowJSX(...objects: (VueFeature | CoercableComponent)[]): JSX.Element {\n    return <Row>{objects.map(renderJSX)}</Row>;\n}\n\nexport function renderColJSX(...objects: (VueFeature | CoercableComponent)[]): JSX.Element {\n    return <Col>{objects.map(renderJSX)}</Col>;\n}\n\nexport function isCoercableComponent(component: unknown): component is CoercableComponent {\n    if (typeof component === \"string\") {\n        return true;\n    } else if (typeof component === \"object\") {\n        if (component == null) {\n            return false;\n        }\n        return \"render\" in component || \"component\" in component;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } else if (typeof component === \"function\" && (component as any)[DoNotCache] === true) {\n        return true;\n    }\n    return false;\n}\n\nexport function setupHoldToClick(\n    onClick?: Ref<((e?: MouseEvent | TouchEvent) => void) | undefined>,\n    onHold?: Ref<VoidFunction | undefined>\n): {\n    start: (e: MouseEvent | TouchEvent) => void;\n    stop: VoidFunction;\n    handleHolding: VoidFunction;\n} {\n    const interval = ref<null | number>(null);\n    const event = ref<MouseEvent | TouchEvent | undefined>(undefined);\n\n    function start(e: MouseEvent | TouchEvent) {\n        if (!interval.value) {\n            interval.value = setInterval(handleHolding, 250);\n        }\n        event.value = e;\n    }\n    function stop() {\n        if (interval.value) {\n            clearInterval(interval.value);\n            interval.value = null;\n        }\n    }\n    function handleHolding() {\n        if (onHold && onHold.value) {\n            onHold.value();\n        } else if (onClick && onClick.value) {\n            onClick.value(event.value);\n        }\n    }\n\n    onUnmounted(stop);\n\n    return { start, stop, handleHolding };\n}\n\nexport function getFirstFeature<T extends { visibility: ProcessedComputable<Visibility> }>(\n    features: T[],\n    filter: (feature: T) => boolean\n): { firstFeature: Ref<T | undefined>; hiddenFeatures: Ref<T[]> } {\n    const filteredFeatures = computed(() =>\n        features.filter(\n            feature => unref(feature.visibility) === Visibility.Visible && filter(feature)\n        )\n    );\n    return {\n        firstFeature: computed(() => filteredFeatures.value[0]),\n        hiddenFeatures: computed(() => filteredFeatures.value.slice(1))\n    };\n}\n\nexport function computeComponent(\n    component: Ref<ProcessedComputable<CoercableComponent>>,\n    defaultWrapper = \"div\"\n): ShallowRef<Component | \"\"> {\n    const comp = shallowRef<Component | \"\">();\n    watchEffect(() => {\n        comp.value = coerceComponent(unwrapRef(component), defaultWrapper);\n    });\n    return comp as ShallowRef<Component | \"\">;\n}\nexport function computeOptionalComponent(\n    component: Ref<ProcessedComputable<CoercableComponent | undefined> | undefined>,\n    defaultWrapper = \"div\"\n): ShallowRef<Component | \"\" | null> {\n    const comp = shallowRef<Component | \"\" | null>(null);\n    watchEffect(() => {\n        const currComponent = unwrapRef(component);\n        comp.value = currComponent == null ? null : coerceComponent(currComponent, defaultWrapper);\n    });\n    return comp;\n}\n\nexport function wrapRef<T>(ref: Ref<ProcessedComputable<T>>): ComputedRef<T> {\n    return computed(() => unwrapRef(ref));\n}\n\nexport function unwrapRef<T>(ref: Ref<ProcessedComputable<T>>): T {\n    return unref<T>(unref(ref));\n}\n\nexport function setRefValue<T>(ref: Ref<T | Ref<T>>, value: T) {\n    if (isRef(ref.value)) {\n        ref.value.value = value;\n    } else {\n        ref.value = value;\n    }\n}\n\nexport type PropTypes =\n    | typeof Boolean\n    | typeof String\n    | typeof Number\n    | typeof Function\n    | typeof Object\n    | typeof Array;\n// TODO Unfortunately, the typescript engine gives up on typing completely when you use this method,\n// Even though it has the same typing as when doing it manually\nexport function processedPropType<T>(...types: PropTypes[]): PropType<ProcessedComputable<T>> {\n    if (!types.includes(Object)) {\n        types.push(Object);\n    }\n    return types as PropType<ProcessedComputable<T>>;\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot } from \"vue\"\n\nimport {\n    RegisterNodeInjectionKey,\n    UnregisterNodeInjectionKey,\n    NodesInjectionKey,\n    FeatureNode\n} from \"game/layers\";\nimport { nextTick, provide, ref } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props, { expose }) {\n\nconst nodes = ref<Record<string, FeatureNode | undefined>>({});\n\nexpose({ nodes });\n\nconst observerOptions = {\n    attributes: true,\n    childList: true,\n    subtree: false\n};\n\nprovide(RegisterNodeInjectionKey, (id, element) => {\n    const observer = new MutationObserver(() => updateNode(id));\n    observer.observe(element, observerOptions);\n    nodes.value[id] = { element, observer, rect: element.getBoundingClientRect() };\n    nextTick(() => updateNode(id));\n});\nprovide(UnregisterNodeInjectionKey, id => {\n    nodes.value[id]?.observer.disconnect();\n    nodes.value[id] = undefined;\n});\nprovide(NodesInjectionKey, nodes);\n\nfunction updateNode(id: string) {\n    const node = nodes.value[id];\n    if (node == null) {\n        return;\n    }\n    node.rect = node.element.getBoundingClientRect();\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return _renderSlot(_ctx.$slots, \"default\")\n}\n}\n\n})","import script from \"./Context.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Context.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderSlot as _renderSlot, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, vShow as _vShow, withModifiers as _withModifiers, mergeProps as _mergeProps, withDirectives as _withDirectives, Transition as _Transition, Teleport as _Teleport, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = [\"onPointerdown\"]\nconst _hoisted_2 = { class: \"modal-wrapper\" }\nconst _hoisted_3 = { class: \"modal-container\" }\nconst _hoisted_4 = { class: \"modal-header\" }\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\" default header \")\nconst _hoisted_6 = { class: \"modal-body\" }\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\" default body \")\nconst _hoisted_8 = { class: \"modal-footer\" }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"modal-default-flex-grow\" }, null, -1)\n\nimport { FeatureNode } from \"game/layers\";\nimport { computed, ref, toRefs } from \"vue\";\nimport Context from \"./Context.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    modelValue: { type: Boolean }\n  },\n  emits: [\"update:modelValue\"],\n  setup(__props: any, { expose, emit }: { emit: ({\n    (e: \"update:modelValue\", value: boolean): void;\n}), expose: any, slots: any, attrs: any }) {\n\nconst _props = __props as {\n    modelValue: boolean;\n}\n\n\nconst props = toRefs(_props);\n\n\nconst isOpen = computed(() => props.modelValue || isAnimating.value);\nfunction close() {\n    emit(\"update:modelValue\", false);\n}\n\nconst isAnimating = ref(false);\n\nconst contextRef = ref<typeof Context | null>(null);\nconst nodes = computed<Record<string, FeatureNode | undefined> | null>(\n    () => contextRef.value?.nodes ?? null\n);\n\nexpose({ isOpen, nodes });\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_Teleport, { to: \"#modal-root\" }, [\n    _createVNode(_Transition, {\n      name: \"modal\",\n      onBeforeEnter: _cache[0] || (_cache[0] = ($event: any) => (isAnimating.value = true)),\n      onAfterLeave: _cache[1] || (_cache[1] = ($event: any) => (isAnimating.value = false))\n    }, {\n      default: _withCtx(() => [\n        _withDirectives(_createElementVNode(\"div\", _mergeProps({\n          class: \"modal-mask\",\n          onPointerdown: _withModifiers(close, [\"self\"])\n        }, _ctx.$attrs), [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createElementVNode(\"div\", _hoisted_3, [\n              _createElementVNode(\"div\", _hoisted_4, [\n                _renderSlot(_ctx.$slots, \"header\", { shown: _unref(isOpen) }, () => [\n                  _hoisted_5\n                ])\n              ]),\n              _createElementVNode(\"div\", _hoisted_6, [\n                _createVNode(Context, {\n                  ref_key: \"contextRef\",\n                  ref: contextRef\n                }, {\n                  default: _withCtx(() => [\n                    _renderSlot(_ctx.$slots, \"body\", { shown: _unref(isOpen) }, () => [\n                      _hoisted_7\n                    ])\n                  ]),\n                  _: 3\n                }, 512)\n              ]),\n              _createElementVNode(\"div\", _hoisted_8, [\n                _renderSlot(_ctx.$slots, \"footer\", { shown: _unref(isOpen) }, () => [\n                  _createElementVNode(\"div\", { class: \"modal-default-footer\" }, [\n                    _hoisted_9,\n                    _createElementVNode(\"button\", {\n                      class: \"button modal-default-button\",\n                      onClick: close\n                    }, \" Close \")\n                  ])\n                ])\n              ])\n            ])\n          ])\n        ], 16, _hoisted_1), [\n          [_vShow, __props.modelValue]\n        ])\n      ]),\n      _: 3\n    })\n  ]))\n}\n}\n\n})","import script from \"./Modal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Modal.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Modal.vue?vue&type=style&index=0&id=d02c1f40&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"field\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"field-title\"\n}\n\nimport \"components/common/fields.css\";\nimport { CoercableComponent } from \"features/feature\";\nimport { computeOptionalComponent, unwrapRef } from \"util/vue\";\nimport { ref, toRef, watch } from \"vue\";\nimport VueNextSelect from \"vue-next-select\";\nimport \"vue-next-select/dist/index.css\";\n\nexport type SelectOption = { label: string; value: unknown };\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    title: null,\n    modelValue: null,\n    options: null,\n    placeholder: null,\n    closeOnSelect: { type: Boolean }\n  },\n  emits: [\"update:modelValue\"],\n  setup(__props: any, { emit }: { emit: ({\n    (e: \"update:modelValue\", value: unknown): void;\n}), expose: any, slots: any, attrs: any }) {\n\nconst props = __props as {\n    title?: CoercableComponent;\n    modelValue?: unknown;\n    options: SelectOption[];\n    placeholder?: string;\n    closeOnSelect?: boolean;\n}\n\n\n\n\nconst titleComponent = computeOptionalComponent(toRef(props, \"title\"), \"span\");\n\nconst value = ref<SelectOption | null>(\n    props.options.find(option => option.value === props.modelValue) ?? null\n);\nwatch(toRef(props, \"modelValue\"), modelValue => {\n    if (unwrapRef(value) !== modelValue) {\n        value.value = props.options.find(option => option.value === modelValue) ?? null;\n    }\n});\n\nfunction onUpdate(value: SelectOption) {\n    emit(\"update:modelValue\", value.value);\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_unref(titleComponent))\n      ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, [\n          (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(titleComponent))))\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_unref(VueNextSelect), {\n      options: __props.options,\n      modelValue: value.value,\n      \"onUpdate:modelValue\": [\n        _cache[0] || (_cache[0] = ($event: any) => ((value).value = $event)),\n        onUpdate\n      ],\n      min: 1,\n      \"label-by\": \"label\",\n      placeholder: __props.placeholder,\n      \"close-on-select\": __props.closeOnSelect\n    }, null, 8, [\"options\", \"modelValue\", \"placeholder\", \"close-on-select\"])\n  ]))\n}\n}\n\n})","import script from \"./Select.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Select.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Select.vue?vue&type=style&index=0&id=4c379106&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderSlot as _renderSlot, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"table\" }\n\nimport \"components/common/table.css\";\nimport themes from \"data/themes\";\nimport settings from \"game/settings\";\nimport { computed } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst mergeAdjacent = computed(() => themes[settings.theme].mergeAdjacent);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"col\", { mergeAdjacent: _unref(mergeAdjacent) }])\n    }, [\n      _renderSlot(_ctx.$slots, \"default\")\n    ], 2)\n  ]))\n}\n}\n\n})","import script from \"./Column.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Column.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderSlot as _renderSlot, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"table\" }\n\nimport \"components/common/table.css\";\nimport themes from \"data/themes\";\nimport settings from \"game/settings\";\nimport { computed } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst mergeAdjacent = computed(() => themes[settings.theme].mergeAdjacent);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"row\", { mergeAdjacent: _unref(mergeAdjacent) }])\n    }, [\n      _renderSlot(_ctx.$slots, \"default\")\n    ], 2)\n  ]))\n}\n}\n\n})","import script from \"./Row.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Row.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { renderSlot as _renderSlot, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8ca805aa\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"material-icons pinned\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"tooltip-container\", { shown: _ctx.isShown, ..._ctx.unref(_ctx.classes) }]),\n    onMouseenter: _cache[0] || (_cache[0] = ($event: any) => (_ctx.isHovered = true)),\n    onMouseleave: _cache[1] || (_cache[1] = ($event: any) => (_ctx.isHovered = false)),\n    onClickCapture: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.togglePinned && _ctx.togglePinned(...args)))\n  }, [\n    _renderSlot(_ctx.$slots, \"default\", {}, undefined, true),\n    (_ctx.elementComp)\n      ? (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.elementComp), { key: 0 }))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_Transition, { name: \"fade\" }, {\n      default: _withCtx(() => [\n        (_ctx.isShown)\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              class: _normalizeClass([\"tooltip\", {\n                    top: _ctx.unref(_ctx.direction) === _ctx.Direction.Up,\n                    left: _ctx.unref(_ctx.direction) === _ctx.Direction.Left,\n                    right: _ctx.unref(_ctx.direction) === _ctx.Direction.Right,\n                    bottom: _ctx.unref(_ctx.direction) === _ctx.Direction.Down,\n                    ..._ctx.unref(_ctx.classes)\n                }]),\n              style: _normalizeStyle([\n                    {\n                        '--xoffset': _ctx.unref(_ctx.xoffset) || '0px',\n                        '--yoffset': _ctx.unref(_ctx.yoffset) || '0px'\n                    },\n                    _ctx.unref(_ctx.style) ?? {}\n                ])\n            }, [\n              (_ctx.showPin)\n                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_1, \"push_pin\"))\n                : _createCommentVNode(\"\", true),\n              (_ctx.comp)\n                ? (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.comp), { key: 1 }))\n                : _createCommentVNode(\"\", true)\n            ], 6))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ], 34))\n}","\nimport themes from \"data/themes\";\nimport { CoercableComponent, jsx, StyleValue } from \"features/feature\";\nimport { Persistent } from \"game/persistence\";\nimport settings from \"game/settings\";\nimport { Direction } from \"util/common\";\nimport {\n    coerceComponent,\n    computeOptionalComponent,\n    processedPropType,\n    render,\n    unwrapRef,\n    VueFeature\n} from \"util/vue\";\nimport {\n    Component,\n    computed,\n    defineComponent,\n    PropType,\n    ref,\n    shallowRef,\n    toRefs,\n    unref,\n    watchEffect\n} from \"vue\";\n\nexport default defineComponent({\n    props: {\n        element: processedPropType<VueFeature>(Object),\n        display: {\n            type: processedPropType<CoercableComponent>(Object, String, Function),\n            required: true\n        },\n        style: processedPropType<StyleValue>(Object, String, Array),\n        classes: processedPropType<Record<string, boolean>>(Object),\n        direction: processedPropType<Direction>(String),\n        xoffset: processedPropType<string>(String),\n        yoffset: processedPropType<string>(String),\n        pinned: Object as PropType<Persistent<boolean>>\n    },\n    setup(props) {\n        const { element, display, pinned } = toRefs(props);\n\n        const isHovered = ref(false);\n        const isShown = computed(() => (unwrapRef(pinned) || isHovered.value) && comp.value);\n        const comp = computeOptionalComponent(display);\n\n        const elementComp = shallowRef<Component | \"\" | null>(null);\n        watchEffect(() => {\n            const currComponent = unwrapRef(element);\n            elementComp.value =\n                currComponent == null\n                    ? null\n                    : coerceComponent(jsx(() => render(currComponent) as JSX.Element));\n        });\n\n        function togglePinned(e: MouseEvent) {\n            const isPinned = pinned as unknown as Persistent<boolean> | undefined; // Vue typing :/\n            if (e.shiftKey && isPinned) {\n                isPinned.value = !isPinned.value;\n                e.stopPropagation();\n                e.preventDefault();\n            }\n        }\n\n        const showPin = computed(() => unwrapRef(pinned) && themes[settings.theme].showPin);\n\n        return {\n            Direction,\n            isHovered,\n            isShown,\n            comp,\n            elementComp,\n            unref,\n            togglePinned,\n            showPin\n        };\n    }\n});\n","import { render } from \"./Tooltip.vue?vue&type=template&id=8ca805aa&scoped=true&ts=true\"\nimport script from \"./Tooltip.vue?vue&type=script&lang=ts\"\nexport * from \"./Tooltip.vue?vue&type=script&lang=ts\"\n\nimport \"./Tooltip.vue?vue&type=style&index=0&id=8ca805aa&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Kronos/Kronos/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8ca805aa\"]])\n\nexport default __exports__","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 7634;\nmodule.exports = webpackEmptyContext;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkprofectus\"] = self[\"webpackChunkprofectus\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(8039); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["defaultTheme","variables","floatingTabs","mergeAdjacent","showPin","Themes","classic","paper","nordic","aqua","Component","Symbol","GatherProps","id","getUniqueID","prefix","Visibility","jsx","func","showIf","condition","otherwise","None","Visible","setDefault","object","key","value","undefined","globalBus","intervalID","hasWon","update","now","Date","diff","trueDiff","Math","max","offlineDiff","min","Number","isFinite","emit","requestAnimationFrame","clearInterval","setInterval","async","startGameLoop","watch","PersistentState","DefaultValue","StackTrace","Deleted","getStackTrace","Error","stack","split","slice","map","line","trim","join","persistent","defaultValue","isRef","ref","addingLayers","console","warn","persistentRefs","add","layer","saveData","features","handleObject","obj","path","foundPersistent","Object","keys","forEach","delete","persistentState","reduce","acc","curr","savedValue","isReactive","includes","type","push","foundPersistentInChild","error","clear","state","reactive","devSpeed","name","tabs","time","autosave","offlineProd","offlineTime","timePlayed","keepGoing","modID","modVersion","layers","stringifySave","player","JSON","stringify","unref","playerHandler","get","target","Array","isArray","Proxy","set","property","receiver","isNaN","sign","mag","currentValue","ownKeys","Reflect","has","getOwnPropertyDescriptor","window","active","saves","showTPS","theme","unthrottled","loadSettings","item","localStorage","getItem","decodeURIComponent","escape","atob","settings","parse","assign","stringifiedSettings","setItem","deep","hardResetSettings","settingFields","registerSettingField","component","infoComponents","gameComponents","shallowReactive","lastTenTicks","hasNaN","NaNPath","render","_ctx","_cache","$props","$setup","$data","$options","_component_Context","class","style","color","showGoBack","onClick","args","goBack","minimized","$event","default","_","minimizable","defineComponent","components","Context","props","index","required","tab","Function","display","String","minWidth","Boolean","nodes","setup","toRefs","computed","projInfo","allowGoBack","Infinity","nextTick","updateTab","contextRef","width","parseInt","tabValue","flexGrow","flexShrink","flexBasis","margin","__exports__","_withScopeId","n","_hoisted_1","_hoisted_2","open","__props","expose","isOpen","Modal","modelValue","header","body","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","href","_hoisted_13","_hoisted_14","changelog","_props","title","logo","author","discordName","discordLink","versionNumber","versionTitle","infoComponent","openChangelog","src","alt","shown","emits","themes","label","settingFieldsComponent","isPaused","offlineProdTitle","autosaveTitle","isPausedTitle","Select","options","Toggle","enablePausing","textArea","placeholder","maxHeight","titleComponent","field","onMounted","focus","submit","onSubmit","onBlur","ref_key","fullWidth","disabled","skipConfirm","isConfirming","click","cancel","confirming","$slots","left","activated","activatedTimeout","clearTimeout","setTimeout","_hoisted_15","_hoisted_16","save","dateFormat","Intl","DateTimeFormat","year","month","day","hour","minute","second","isEditing","newName","isActive","currentTime","changeName","FeedbackButton","Tooltip","direction","Left","DangerButton","onConfirmingChanged","format","Text","modal","importingFailed","saveToImport","selectedPreset","importedSave","playerData","e","bankContext","bank","cachedSaves","getCachedSave","exportSave","saveToExport","exportEncoding","btoa","unescape","encodeURIComponent","el","document","createElement","appendChild","select","setSelectionRange","execCommand","removeChild","duplicateSave","deleteSave","removeItem","openSave","newFromPreset","preset","editSave","currSave","list","handle","itemKey","element","Save","onOpen","onExport","onEditName","onDuplicate","onDelete","footer","length","closeOnSelect","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","info","savesManager","useHeader","banner","openDiscord","$attrs","Down","yoffset","xoffset","Right","Info","SavesManager","Options","Changelog","toRef","layerKeys","gatherLayerProps","classes","ref_for","Nav","Layer","$refs","playAgain","previous","setZero","setOne","ignore","NaN","neq","tps","lastTenFPS","watchEffect","round","toNumber","low","showLow","gt","isNan","gameComponent","Game","TPS","GameOverScreen","NaNScreen","log","vue","createApp","App","mount","exponentialFormat","commaFormat","regularFormat","formatWhole","formatTime","toPlaces","formatSmall","invertOOM","Decimal","MAX_SIGNIFICANT_DIGITS","EXP_LIMIT","LAYER_DOWN","log10","FIRST_NEG_LAYER","NUMBER_EXP_MAX","NUMBER_EXP_MIN","MAX_ES_IN_A_ROW","IGNORE_COMMAS","COMMAS_ARE_DECIMAL_POINTS","powerOf10","powersOf10","i","for","indexOf0InPowersOf10","power","critical_headers","E","critical_tetr_values","critical_slog_values","D","fromValue_noAlloc","FC","fromComponents","FC_NN","fromComponents_noNormalize","decimalPlaces","places","len","numDigits","ceil","abs","rounded","pow","parseFloat","toFixed","f_maglog10","f_gamma","trunc","NEGATIVE_INFINITY","scal1","l","n2","np","exp","OMEGA","f_lambertw","z","tol","w","wn","toString","d_lambertw","ew","wewz","dZero","dOne","ln","sub","mul","div","lt","constructor","this","fromDecimal","fromNumber","fromString","m","floor","man","residue","fromMantissaExponent","exponent","POSITIVE_INFINITY","s","mantissa","fromMantissaExponent_noNormalize","fromValue","neg","other","recip","reciprocate","cmp","cmpabs","eq","notEquals","lte","gte","minabs","maxabs","clamp","clampMin","clampMax","tolerance","cmp_tolerance","eq_tolerance","neq_tolerance","notEquals_tolerance","lt_tolerance","lte_tolerance","gt_tolerance","gte_tolerance","pLog10","absLog10","base","log2","logarithm","pow10","root","_other","factorial","gamma","lngamma","sqr","sqrt","cube","cbrt","height","payload","tetrate","iteratedexp","times","iteratedlog","layeradd10","layeradd","slog","lambertw","ssqrt","pentate","resourcesAvailable","priceStart","priceRatio","currentOwned","affordGeometricSeries_core","numItems","sumGeometricSeries_core","priceAdd","affordArithmeticSeries_core","sumArithmeticSeries_core","cost","currentRpS","deltaRpS","efficiencyOfPurchase_core","maxLayers","random","randomsign","randomexp","randommag","actualStart","b","b2","plus","normalize","absmag","signmag","replace","pentationparts","heightparts","result","tetrationparts","powparts","toLowerCase","ptparts","parts","ecount","numberAttempt","newparts","charAt","layerstring","chrcode","charCodeAt","substr","me","mantissaWithDecimalPlaces","magnitudeWithDecimalPlaces","repeat","toExponential","toStringWithDecimalPlaces","toPrecision","valueOf","toJSON","negate","negated","sgn","decimal","a","layera","layerb","magdiff","subtract","minus","newmag","multiply","divide","divideBy","dividedBy","dNaN","reciprocal","compare","equals","compare_tolerance","magA","magB","equals_tolerance","pow_base","t","lm","adj","l2","this_num","negln","oldheight","fracheight","old_payload","next_payload","tetrate_critical","fulltimes","fraction","layerloss","dNegOne","copy","slog_critical","critical_section","grid","lower","upper","basefrac","frac","slogthis","slogdest","lnx","sin","cos","tan","asin","acos","atan","sinh","cosh","tanh","asinh","acosh","atanh","ascensionPenalty","ascensions","egg","lessThanOrEqualTo","lessThan","greaterThanOrEqualTo","greaterThan","MAX_VALUE","MIN_VALUE","decimalOne","num","precision","eString","defaultDecimalsShown","init","portions","eeee1000","e100000","e1000","e9","e6","e3","nearOne","thousandth","zero","small","defaultShowSmall","val","seconds","x","maxAccepted","camelToTitle","camel","toUpperCase","isPlainObject","prototype","call","isFunction","Direction","DoNotCache","processComputable","computable","bind","convertComputable","ProxyState","ProxyPath","createLazyProxy","objectFunc","baseObject","calculated","calculateObj","setupInitialStore","stringifiedSave","load","loadSave","newSave","playerObj","removeLayer","addLayer","fixOldSave","getInitialLayers","onbeforeunload","hardReset","onInit","onContainerResized","onHotReload","app","resizeObserver","ResizeObserver","updateBounds","inject","NodesInjectionKey","resizeListener","resListener","observe","resizeTo","backgroundAlpha","view","onBeforeUnmount","destroy","isDirty","values","filter","node","rect","getBoundingClientRect","resize","fonts","ready","then","ParticlesType","createParticles","optionsFunc","particles","Particles","shallowRef","addEmitter","config","genericParticles","Promise","resolve","stage","emittersToAdd","upgradeConfig","_component_MarkNode","_component_Node","visibility","Hidden","purchase","feature","upgrade","can","canPurchase","locked","bought","mark","register","RegisterNodeInjectionKey","unregister","UnregisterNodeInjectionKey","parentNode","parentElement","newNode","newID","prevNode","prevID","onUnmounted","createResource","displayName","resource","overrideAmount","amount","Node","MarkNode","currDisplay","currCost","Title","Description","description","EffectDisplay","effectDisplay","UpgradeType","createUpgrade","Upgrade","canAfford","genericUpgrade","onPurchase","in","scale","caption","seedToUse","stageComp","captionComp","to","y","baseFrequency","numOctaves","seed","collapsed","content","displayComponent","contentComponent","onMousedown","start","onMouseleave","stop","onMouseup","onTouchstartPassive","onTouchendPassive","onTouchcancelPassive","clickable","canClick","comp","onHold","ClickableType","Clickable","_component_Links","nodesComp","leftNodesComp","rightNodesComp","branches","links","link","startNode","endNode","boundingRect","startPosition","position","offsetStart","endPosition","offsetEnd","stroke","x1","y1","x2","y2","updateNodes","validLinks","Link","leftSideNodes","rightSideNodes","Links","currNodes","row","treeNode","backgroundColor","boxShadow","glowColor","isCoercableComponent","TreeNodeType","TreeType","TreeNode","createTree","tree","Tree","isResetting","resettingNode","reset","genericTree","resetPropagation","onReset","createCollapsibleModifierSections","sections","processedBase","processedBaseText","baseText","processedVisible","visible","jsxFunc","sectionJSX","subtitle","modifiers","unit","modifier","apply","bar","borderStyle","textStyle","baseStyle","barStyle","fillStyle","progress","normalizedProgress","progressNumber","clipPath","BarType","createBar","Bar","_component_ModifierInfo","_component_Tooltip","imageFocus","levelProgress","selected","timeLoopActive","animating","openJob","image","resourceArray","displayResource","level","modifierInfo","modifierModalAttrs","currentQuip","finishedFirstChapter","hasTimeSlotAvailable","openModal","watcher","xp","layerID","randomQuips","ModifierInfo","main","chapter","quipTimer","quips","currResource","JobType","levelSoftcapPower","createJob","job","Job","rawLevel","genericJob","baseLevel","prevRequirement","getXPRequirement","nextRequirement","setQuip","quip","milestone","done","earned","Requirement","requirement","OptionsDisplay","optionsDisplay","getNotifyStyle","strength","transform","borderColor","zIndex","use","toast","MilestoneType","MilestoneDisplay","createMilestone","Milestone","complete","All","Configurable","Incomplete","shouldEarn","genericMilestone","onComplete","Display","msDisplayOptions","option","effectComponent","showPrefix","Resource","spell","treeComponent","treeNodes","castingTime","clickableComponent","selectTab","glowColorStyle","floating","_component_TabButton","_component_Sticky","tabClasses","tabStyle","button","onSelectTab","activeTab","gatherButtonProps","top","observer","updateTop","newTop","previousSibling","sibling","dataset","offsetHeight","Sticky","TabButton","currActiveTab","TabButtonType","TabFamilyType","createTabFamily","tabFamily","TabFamily","parsedTabs","tabButton","processedTabFamily","firstTab","find","createAdditiveModifier","addend","enabled","processedAddend","processedDescription","processedEnabled","gain","revert","createMultiplicativeModifier","multiplier","processedMultiplier","createExponentialModifier","processedExponent","createSequentialModifier","every","reduceRight","d","createLayer","flowers","modifierTabs","activeSpells","spells","maxActiveSpells","fullscreen","particleEffect","particleEffectConfig","updateParticleEffect","spellExpMilestone","flowerSpellMilestone","chargeSpellMilestone","expSpellMilestone","milestones","orderedMilestones","collapseMilestones","lockedMilestones","firstFeature","firstMilestone","hiddenFeatures","otherMilestones","blank","createSpell","effect","visibleCondition","rows","spentPoints","requirements","some","r","previousLevelReq","nextLevelReq","selector","spellSelector","activeSpell","particleEffectWatcher","particle","cleanup","updateOwnerPos","resetPositionTracking","immediate","chargeAmount","chargeBar","toLocaleString","useGrouping","computedChargeCap","jobLevelEffect","moreJobXpPerSpellEffect","morePotencyPerJobLevelEffect","moreJobXpPerJobLevelEffect","moreJobXpPerSpellLevelEffect","xpSpell","moreSpellXpPerJobLevelEffect","moreJobXpFlat","moreJobXpPerSpell","morePotencyPerJobLevel","moreJobXpPerJobLevel","moreJobXpPerSpellLevel","morePotencyOverTime","moreSpellXpPerJobLevel","moreFlowersPerSpellEffect","moreFlowersPerLevelEffect","flowerSpell","flowersEffect","flowersEffectDescription","moreFlowersFlat","moreFlowersPerSpell","moreFlowersPerLevel","moreJobXpPerFlower","moreSpellXpPerFlower","morePotencyPerFlower","passiveFlowerGain","chargeSpell","spellEff","fasterChargeFlat","fasterChargeByLevel","betterChargeMulti","largerChargeFlat","largerChargeByLevel","slowerDischargeByLevel","moreXpPerLevelEffect","massXpSpell","moreSpellXp","moreXpSpellXp","moreFlowerSpellXp","moreChargeSpellXp","moreMassXpSpellXp","moreXpPerLevel","morePotency","chargeMult","computedChargeMult","allSpellPotency","computedAllSpellPotency","allSpellXpGain","computedAllSpellXpGain","xpSpellPotency","computedXpSpellPotency","xpSpellXp","jobXpGain","jobXpDischargeRate","computedJobXpDischargeRate","computedBaseDischargeRate","flowerSpellPotency","computedFlowerSpellPotency","flowerSpellXp","flowerGain","computedFlowerGain","flowerPassiveGain","flowerDischargeRate","computedFlowerDischargeRate","chargeSpellPotency","computedChargeSpellPotency","chargeSpellXp","chargeCap","chargeRate","computedChargeRate","baseDischargeRate","massXpSpellPotency","computedMassXpSpellPotency","massXpSpellXp","massXpGain","massXpDischargeRate","computedMassXpDischargeRate","generalTab","generalTabCollapsed","xpSpellTab","xpSpellTabCollapsed","flowerSpellTab","flowerSpellTabCollapsed","chargeSpellTab","chargeSpellTabCollapsed","massXpSpellTab","massXpSpellTabCollapsed","general","on","passiveGain","xpEfficiency","milestonesToDisplay","BuyableType","createBuyable","buyable","genericBuyable","purchaseLimit","maxed","currClasses","CurrDisplay","amountDisplay","potentia","distill","experimentsMilestone","properties","insights","studyMilestone","isPastChapter1","getElementParticlesConfig","startColor","endColor","behaviors","essentia","waterMilestone","principlesMilestone","study","airMilestone","fireMilestone","experiments","elements","refreshParticleEffect","symbol","particlesConfig","principle","prevElement","conversionAmount","principleClickable","passiveEssenceGain","computedCost","actualGain","modifierSections","tabCollapsed","particlesEmitter","isGaining","earth","water","air","fire","createInstrument","instrument","principled","instruments","v","alembic","retort","crucible","bainMarie","jobXp","totalFlowerLoss","entries","spentFlowers","jobs","timeSlots","slots","usedTimeSlots","j","resetTimes","lastProc","currLevel","prevLevel","data","h","playOnceAndDestroy","closeTimeLoop","Image","activeCutscene","pages","page","onFinished","goalDisplay","nigredo","oldVersion","emitter","Set","pop","getLayer","reloadLayer","setupLayerModal","showModal","coerceComponent","defaultWrapper","template","renderCol","objects","renderJSX","Comp","renderRowJSX","renderColJSX","setupHoldToClick","interval","event","handleHolding","getFirstFeature","filteredFeatures","computeComponent","unwrapRef","computeOptionalComponent","currComponent","wrapRef","processedPropType","types","observerOptions","attributes","childList","subtree","updateNode","provide","MutationObserver","disconnect","isAnimating","close","onBeforeEnter","onAfterLeave","onPointerdown","onUpdate","isShown","onMouseenter","isHovered","onClickCapture","togglePinned","elementComp","Up","right","bottom","pinned","isPinned","shiftKey","stopPropagation","preventDefault","webpackEmptyContext","req","code","module","exports","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","deferred","O","chunkIds","fn","priority","notFulfilled","fulfilled","splice","getter","__esModule","definition","o","defineProperty","enumerable","g","globalThis","prop","hasOwnProperty","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}