(function(){var e={1037:function(e,o,l){"use strict";l.d(o,{b:function(){return r}});const t={variables:{"--foreground":"#dfdfdf","--background":"#0f0f0f","--feature-foreground":"#0f0f0f","--tooltip-background":"rgba(0, 0, 0, 0.75)","--raised-background":"#0f0f0f","--points":"#ffffff","--locked":"#bf8f8f","--highlighted":"#333","--bought":"#77bf5f","--danger":"rgb(220, 53, 69)","--link":"#02f2f2","--outline":"#dfdfdf","--accent1":"#627a82","--accent2":"#658262","--accent3":"#7c6282","--border-radius":"15px","--modal-border":"solid 2px var(--color)","--feature-margin":"0px"},floatingTabs:!0,mergeAdjacent:!0,showPin:!0};var r;(function(e){e["Classic"]="classic",e["Paper"]="paper",e["Nordic"]="nordic",e["Aqua"]="aqua"})(r||(r={})),o["Z"]={classic:t,paper:{...t,variables:{...t.variables,"--background":"#2a323d","--feature-foreground":"#000","--raised-background":"#333c4a","--locked":"#3a3e45","--bought":"#5C8A58","--outline":"#333c4a","--border-radius":"4px","--modal-border":"","--feature-margin":"5px"},floatingTabs:!1},nordic:{...t,variables:{...t.variables,"--foreground":"#D8DEE9","--background":"#2E3440","--feature-foreground":"#000","--raised-background":"#3B4252","--points":"#E5E9F0","--locked":"#4c566a","--highlighted":"#434c5e","--bought":"#8FBCBB","--danger":"#D08770","--link":"#88C0D0","--outline":"#3B4252","--accent1":"#B48EAD","--accent2":"#A3BE8C","--accent3":"#EBCB8B","--border-radius":"4px","--modal-border":"solid 2px #3B4252","--feature-margin":"5px"},floatingTabs:!1},aqua:{...t,variables:{...t.variables,"--foreground":"#bfdfff","--background":"#001f3f","--tooltip-background":"rgba(0, 15, 31, 0.75)","--raised-background":"#001f3f","--points":"#dfefff","--locked":"#c4a7b3","--outline":"#bfdfff"}}}},6113:function(e,o,l){"use strict";l.d(o,{wA:function(){return r},tj:function(){return i},QI:function(){return a},EE:function(){return s},tZ:function(){return u},Kf:function(){return m},Rh:function(){return c}});l(9706);var t=l(9583);l(4865);const r=Symbol("Component"),i=Symbol("GatherProps");let n=0;function a(e="feature-"){return(()=>void 0!==e&&null!==e&&e[Symbol.for("+")]?e[Symbol.for("+")](n++):e+n++)()}var s;function u(e){return e[t.mM]=!0,e}function m(e,o=s.None){return e?s.Visible:o}function c(e,o,l){void 0===e[o]&&(()=>void 0!==l&&null!==l&&l[Symbol.for("!=")]?l[Symbol.for("!=")](void 0):void 0!=l)()&&(e[o]=l)}(function(e){e[e["Visible"]=0]="Visible",e[e["Hidden"]=1]="Hidden",e[e["None"]=2]="None"})(s||(s={}))},7302:function(e,o,l){"use strict";l.r(o),l.d(o,{globalBus:function(){return m},startGameLoop:function(){return y}});var t=l(6453),r=l(9706),i=l(8111),n=l(4865),a=l(5967),s=l(9266),u=l(3032);const m=(0,i.i)();let c=null,f=null;function d(){const e=Date.now();let o=(()=>e-a.Z.time!==void 0&&e-a.Z.time!==null&&(e-a.Z.time)[Symbol.for("/")]?(e-a.Z.time)[Symbol.for("/")](1e3):(e-a.Z.time)/1e3)();a.Z.time=e;const l=o;if(u.Z.lastTenTicks.push(l),(()=>void 0!==u.Z.lastTenTicks.length&&null!==u.Z.lastTenTicks.length&&u.Z.lastTenTicks.length[Symbol.for(">")]?u.Z.lastTenTicks.length[Symbol.for(">")](10):u.Z.lastTenTicks.length>10)()&&(u.Z.lastTenTicks=u.Z.lastTenTicks.slice(1)),(!f?.value||!(()=>void 0!==a.Z.keepGoing&&null!==a.Z.keepGoing&&a.Z.keepGoing[Symbol.for("!")]?a.Z.keepGoing[Symbol.for("!")]():!a.Z.keepGoing)())&&!u.Z.hasNaN&&(o=Math.max(o,0),0!==a.Z.devSpeed)){if((()=>void 0!==a.Z.offlineTime&&null!==a.Z.offlineTime&&a.Z.offlineTime[Symbol.for("!=")]?a.Z.offlineTime[Symbol.for("!=")](void 0):void 0!=a.Z.offlineTime)()){if(r.ZP.gt(a.Z.offlineTime,(()=>void 0!==t.offlineLimit&&null!==t.offlineLimit&&t.offlineLimit[Symbol.for("*")]?t.offlineLimit[Symbol.for("*")](3600):3600*t.offlineLimit)())&&(a.Z.offlineTime=(()=>void 0!==t.offlineLimit&&null!==t.offlineLimit&&t.offlineLimit[Symbol.for("*")]?t.offlineLimit[Symbol.for("*")](3600):3600*t.offlineLimit)()),r.ZP.gt(a.Z.offlineTime,0)&&(()=>void 0!==a.Z.devSpeed&&null!==a.Z.devSpeed&&a.Z.devSpeed[Symbol.for("!==")]?a.Z.devSpeed[Symbol.for("!==")](0):0!==a.Z.devSpeed)()){const e=Math.max((()=>void 0!==a.Z.offlineTime&&null!==a.Z.offlineTime&&a.Z.offlineTime[Symbol.for("/")]?a.Z.offlineTime[Symbol.for("/")](10):a.Z.offlineTime/10)(),o);a.Z.offlineTime=(()=>void 0!==a.Z.offlineTime&&null!==a.Z.offlineTime&&a.Z.offlineTime[Symbol.for("-")]?a.Z.offlineTime[Symbol.for("-")](e):a.Z.offlineTime-e)(),o=(()=>void 0!==o&&null!==o&&o[Symbol.for("+")]?o[Symbol.for("+")](e):o+e)()}else 0===a.Z.devSpeed&&(a.Z.offlineTime=(()=>void 0!==a.Z.offlineTime&&null!==a.Z.offlineTime&&a.Z.offlineTime[Symbol.for("+")]?a.Z.offlineTime[Symbol.for("+")](o):a.Z.offlineTime+o)());((()=>void 0!==a.Z.offlineProd&&null!==a.Z.offlineProd&&a.Z.offlineProd[Symbol.for("!")]?a.Z.offlineProd[Symbol.for("!")]():!a.Z.offlineProd)()||r.ZP.lt(a.Z.offlineTime,0))&&(a.Z.offlineTime=null)}o=Math.min(o,t.maxTickLength),(()=>void 0!==a.Z.devSpeed&&null!==a.Z.devSpeed&&a.Z.devSpeed[Symbol.for("!=")]?a.Z.devSpeed[Symbol.for("!=")](void 0):void 0!=a.Z.devSpeed)()&&(o=(()=>void 0!==o&&null!==o&&o[Symbol.for("*")]?o[Symbol.for("*")](a.Z.devSpeed):o*a.Z.devSpeed)()),(()=>void 0!==Number.isFinite(o)&&null!==Number.isFinite(o)&&Number.isFinite(o)[Symbol.for("!")]?Number.isFinite(o)[Symbol.for("!")]():!Number.isFinite(o))()&&(o=1e308),r.ZP.eq(o,0)||(a.Z.timePlayed=(()=>void 0!==a.Z.timePlayed&&null!==a.Z.timePlayed&&a.Z.timePlayed[Symbol.for("+")]?a.Z.timePlayed[Symbol.for("+")](o):a.Z.timePlayed+o)(),(()=>void 0!==Number.isFinite(a.Z.timePlayed)&&null!==Number.isFinite(a.Z.timePlayed)&&Number.isFinite(a.Z.timePlayed)[Symbol.for("!")]?Number.isFinite(a.Z.timePlayed)[Symbol.for("!")]():!Number.isFinite(a.Z.timePlayed))()&&(a.Z.timePlayed=1e308),m.emit("update",o,l),s.ZP.unthrottled?(requestAnimationFrame(d),(()=>void 0!==c&&null!==c&&c[Symbol.for("!=")]?c[Symbol.for("!=")](null):null!=c)()&&(clearInterval(c),c=null)):(()=>void 0!==c&&null!==c&&c[Symbol.for("==")]?c[Symbol.for("==")](null):null==c)()&&(c=setInterval(d,50)))}}async function y(){f=(await Promise.resolve().then(l.bind(l,6380))).hasWon,(0,n.watch)(f,(e=>{e&&m.emit("gameWon")})),s.ZP.unthrottled?requestAnimationFrame(d):c=setInterval(d,50)}},4061:function(e,o,l){"use strict";l.d(o,{ax:function(){return y}});l(1703);var t=l(7302),r=l(9706),i=l(3273),n=l(3577),a=l(4865),s=l(9365);const u=Symbol("PersistentState"),m=Symbol("DefaultValue"),c=Symbol("StackTrace"),f=Symbol("Deleted");function d(){return(new Error).stack?.split("\n").slice(3,5).map((e=>e.trim())).join("\n")||""}function y(e){const o=(0,a.isRef)(e)?e:(0,a.ref)(e);return o[u]=o,o[m]=(0,a.isRef)(e)?e.value:e,o[c]=d(),o[f]=!1,0===s.addingLayers.length?console.warn("Creating a persistent ref outside of a layer. This is not officially supported",o,(()=>"\nCreated at:\n"[Symbol.for("+")]?"\nCreated at:\n"[Symbol.for("+")](o[c]):"\nCreated at:\n"+o[c])()):s.persistentRefs[s.addingLayers[(()=>void 0!==s.addingLayers.length&&null!==s.addingLayers.length&&s.addingLayers.length[Symbol.for("-")]?s.addingLayers.length[Symbol.for("-")](1):s.addingLayers.length-1)()]].add(o),o}t.globalBus.on("addLayer",((e,o)=>{const l=[],t=(d,y=[])=>{let b=!1;return Object.keys(d).forEach((h=>{const p=d[h];if(p&&"object"===typeof p)if((()=>void 0!==u&&null!==u&&u[Symbol.for("in")]?u[Symbol.for("in")](p):u in p)()){if(b=!0,p[f])return void console.warn("Deleted persistent ref present in returned object. Ignoring...",p,(()=>"\nCreated at:\n"[Symbol.for("+")]?"\nCreated at:\n"[Symbol.for("+")](p[c]):"\nCreated at:\n"+p[c])());s.persistentRefs[e.id].delete((()=>void 0!==i.Le&&null!==i.Le&&i.Le[Symbol.for("in")]?i.Le[Symbol.for("in")](p):i.Le in p)()?p[i.Le]:p);const l=y.reduce(((e,o)=>((()=>o in e!==void 0&&o in e!==null&&(o in e)[Symbol.for("!")]?(o in e)[Symbol.for("!")]():!(o in e))()&&(e[o]={}),e[o])),o),t=l[h];l[h]=p[u],(0,a.isReactive)(l)?(()=>void 0!==t&&null!==t&&t[Symbol.for("!=")]?t[Symbol.for("!=")](null):null!=t)()?l[h]=t:l[h]=p[m]:(()=>void 0!==t&&null!==t&&t[Symbol.for("!=")]?t[Symbol.for("!=")](null):null!=t)()?l[h].value=t:l[h].value=p[m]}else if((()=>p instanceof r.ZP!==void 0&&p instanceof r.ZP!==null&&(p instanceof r.ZP)[Symbol.for("!")]?(p instanceof r.ZP)[Symbol.for("!")]():!(p instanceof r.ZP))()&&(()=>void 0!==(0,a.isRef)(p)&&null!==(0,a.isRef)(p)&&(0,a.isRef)(p)[Symbol.for("!")]?(0,a.isRef)(p)[Symbol.for("!")]():!(0,a.isRef)(p))()&&(()=>void 0!==l.includes(p)&&null!==l.includes(p)&&l.includes(p)[Symbol.for("!")]?l.includes(p)[Symbol.for("!")]():!l.includes(p))()){"symbol"===typeof p.type&&l.push(p);const e=t(p,[...y,h]);e&&((0,n.kJ)(p)&&(()=>void 0!==(0,n.kJ)(d)&&null!==(0,n.kJ)(d)&&(0,n.kJ)(d)[Symbol.for("!")]?(0,n.kJ)(d)[Symbol.for("!")]():!(0,n.kJ)(d))()?console.warn("Found array that contains persistent values when adding layer. Keep in mind changing the order of elements in the array will mess with existing player saves.",(()=>void 0!==i.Le&&null!==i.Le&&i.Le[Symbol.for("in")]?i.Le[Symbol.for("in")](d):i.Le in d)()?d[i.Le]:d,h):b=!0)}})),b};t(e),s.persistentRefs[e.id].forEach((o=>{console.error(`Created persistent ref in ${e.id} without registering it to the layer! Make sure to include everything persistent in the returned object`,o,(()=>"\nCreated at:\n"[Symbol.for("+")]?"\nCreated at:\n"[Symbol.for("+")](o[c]):"\nCreated at:\n"+o[c])())})),s.persistentRefs[e.id].clear()}))},5967:function(e,o,l){"use strict";l.d(o,{U:function(){return u}});var t=l(9706),r=l(1349),i=l(3273),n=l(4865),a=l(3032);const s=(0,n.reactive)({id:"",devSpeed:null,name:"",tabs:[],time:(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)(),autosave:!0,offlineProd:!0,offlineTime:null,timePlayed:0,keepGoing:!1,modID:"",modVersion:"",layers:{}});function u(e){return JSON.stringify(e,((e,o)=>(0,n.unref)(o)))}const m={get(e,o){if(o===i.Le||o===i.c4)return e[o];const l=e[i.Le][o];if((()=>void 0!==o&&null!==o&&o[Symbol.for("!==")]?o[Symbol.for("!==")]("value"):"value"!==o)()&&((0,r.PO)(l)||Array.isArray(l))&&(()=>l instanceof t.ZP!==void 0&&l instanceof t.ZP!==null&&(l instanceof t.ZP)[Symbol.for("!")]?(l instanceof t.ZP)[Symbol.for("!")]():!(l instanceof t.ZP))()){if((()=>void 0!==l&&null!==l&&l[Symbol.for("!==")]?l[Symbol.for("!==")](e[o]?.[i.Le]):l!==e[o]?.[i.Le])()){const t=[...e[i.c4],o];e[o]=new Proxy({[i.Le]:l,[i.c4]:t},m)}return e[o]}return l},set(e,o,l,r){if((()=>void 0!==a.Z.hasNaN&&null!==a.Z.hasNaN&&a.Z.hasNaN[Symbol.for("!")]?a.Z.hasNaN[Symbol.for("!")]():!a.Z.hasNaN)()&&("number"===typeof l&&isNaN(l)||l instanceof t.ZP&&(isNaN(l.sign)||isNaN(l.layer)||isNaN(l.mag)))){const l=e[i.Le][o];if((()=>void 0!==("number"===typeof l&&isNaN(l)||l instanceof t.ZP&&(isNaN(l.sign)||isNaN(l.layer)||isNaN(l.mag)))&&null!==("number"===typeof l&&isNaN(l)||l instanceof t.ZP&&(isNaN(l.sign)||isNaN(l.layer)||isNaN(l.mag)))&&("number"===typeof l&&isNaN(l)||l instanceof t.ZP&&(isNaN(l.sign)||isNaN(l.layer)||isNaN(l.mag)))[Symbol.for("!")]?("number"===typeof l&&isNaN(l)||l instanceof t.ZP&&(isNaN(l.sign)||isNaN(l.layer)||isNaN(l.mag)))[Symbol.for("!")]():!("number"===typeof l&&isNaN(l)||l instanceof t.ZP&&(isNaN(l.sign)||isNaN(l.layer)||isNaN(l.mag))))())throw s.autosave=!1,a.Z.hasNaN=!0,a.Z.NaNPath=[...e[i.c4],o],a.Z.NaNReceiver=r,console.error("Attempted to set NaN value",[...e[i.c4],o],e[i.Le]),"Attempted to set NaN value. See above for details"}return e[i.Le][o]=l,!0},ownKeys(e){return Reflect.ownKeys(e[i.Le])},has(e,o){return Reflect.has(e[i.Le],o)},getOwnPropertyDescriptor(e,o){return Object.getOwnPropertyDescriptor(e[i.Le],o)}};o["Z"]=window.player=new Proxy({[i.Le]:s,[i.c4]:["player"]},m)},9266:function(e,o,l){"use strict";l.d(o,{ri:function(){return c},V$:function(){return f},QV:function(){return d},II:function(){return y},t:function(){return b}});l(2801);var t=l(6453),r=l(1037),i=l(7302),n=l(6961),a=l.n(n),s=l(463),u=l(4865);const m=(0,u.reactive)({active:"",saves:[],showTPS:!0,theme:r.b.Nordic,unthrottled:!1});function c(){try{let e=localStorage.getItem(t.id);if((()=>void 0!==e&&null!==e&&e[Symbol.for("!=")]?e[Symbol.for("!=")](null):null!=e)()&&(()=>void 0!==e&&null!==e&&e[Symbol.for("!==")]?e[Symbol.for("!==")](""):""!==e)()){if("{"===e[0]);else if("e"===e[0])e=decodeURIComponent(escape(atob(e)));else{if("ᯡ"!==e[0])return void console.warn("Unable to determine settings encoding",e);e=a().decompressFromUTF16(e)}const o=JSON.parse(e);"object"===typeof o&&Object.assign(m,o)}i.globalBus.emit("loadSettings",m)}catch{}}(0,u.watch)(m,(e=>{const o=a().compressToUTF16(JSON.stringify(e));localStorage.setItem(t.id,o)}),{deep:!0}),o["ZP"]=window.settings=m;window.hardResetSettings=()=>{const e={active:"",saves:[],showTPS:!0,theme:r.b.Nordic};i.globalBus.emit("loadSettings",e),Object.assign(m,e),(0,s.y6)()};const f=(0,u.reactive)([]);function d(e){f.push(e)}const y=(0,u.reactive)([]);const b=(0,u.reactive)([])},3032:function(e,o,l){"use strict";var t=l(4865);o["Z"]=window.state=(0,t.shallowReactive)({lastTenTicks:[],hasNaN:!1,NaNPath:[]})},8039:function(e,o,l){"use strict";var t=l(4865),r=l(6113),i=l(1604),n=l(6453),a=l(9365),s=l(5967);function u(e,o,l,r,i,n){const a=(0,t.resolveComponent)("Context");return(0,t.openBlock)(),(0,t.createElementBlock)("div",{class:"layer-container",style:(0,t.normalizeStyle)({"--layer-color":e.unref(e.color)})},[e.showGoBack?((0,t.openBlock)(),(0,t.createElementBlock)("button",{key:0,class:"goBack",onClick:o[0]||(o[0]=(...o)=>e.goBack&&e.goBack(...o))},"←")):(0,t.createCommentVNode)("",!0),e.minimized.value?((0,t.openBlock)(),(0,t.createElementBlock)("button",{key:1,class:"layer-tab minimized",onClick:o[1]||(o[1]=o=>e.minimized.value=!1)},[(0,t.createElementVNode)("div",null,(0,t.toDisplayString)(e.unref(e.name)),1)])):((0,t.openBlock)(),(0,t.createElementBlock)("div",{key:2,class:(0,t.normalizeClass)(["layer-tab",{showGoBack:e.showGoBack}])},[(0,t.createVNode)(a,{ref:"contextRef"},{default:(0,t.withCtx)((()=>[((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(e.component)))])),_:1},512)],2)),e.unref(e.minimizable)?((0,t.openBlock)(),(0,t.createElementBlock)("button",{key:3,class:"minimize",onClick:o[2]||(o[2]=o=>e.minimized.value=!0)}," ▼ ")):(0,t.createCommentVNode)("",!0)],4)}var m=l(5053),c=(0,t.defineComponent)({components:{Context:m.Z},props:{index:{type:Number,required:!0},tab:{type:Function,required:!0},display:{type:(0,i.P5)(Object,String,Function),required:!0},minimized:{type:Object,required:!0},minWidth:{type:(0,i.P5)(Number,String),required:!0},name:{type:(0,i.P5)(String),required:!0},color:(0,i.P5)(String),minimizable:(0,i.P5)(Boolean),nodes:{type:Object,required:!0}},setup(e){const{display:o,index:l,minimized:r,minWidth:a,tab:u}=(0,t.toRefs)(e),m=(0,i.vq)(o),c=(0,t.computed)((()=>n.allowGoBack&&(()=>void 0!==l.value&&null!==l.value&&l.value[Symbol.for(">")]?l.value[Symbol.for(">")](0):l.value>0)()&&(()=>void 0!==r.value&&null!==r.value&&r.value[Symbol.for("!")]?r.value[Symbol.for("!")]():!r.value)()));function f(){s.Z.tabs.splice((0,t.unref)(e.index),1/0)}(0,t.nextTick)((()=>y(r.value,(0,t.unref)(a.value)))),(0,t.watch)([r,(0,i.o9)(a)],(([e,o])=>y(e,o)));const d=(0,t.ref)(null);function y(e,o){const l="number"===typeof o||Number.isNaN(parseInt(o))?(()=>void 0!==o&&null!==o&&o[Symbol.for("+")]?o[Symbol.for("+")]("px"):o+"px")():o,t=u.value();(()=>void 0!==t&&null!==t&&t[Symbol.for("!=")]?t[Symbol.for("!=")](void 0):void 0!=t)()&&(e?(t.style.flexGrow="0",t.style.flexShrink="0",t.style.width="60px",t.style.minWidth=t.style.flexBasis="",t.style.margin="0"):(t.style.flexGrow="",t.style.flexShrink="",t.style.width="",t.style.minWidth=t.style.flexBasis=l,t.style.margin=""))}return(0,t.watch)((()=>d.value?.nodes),(o=>{o&&(e.nodes.value=o)})),{component:m,showGoBack:c,contextRef:d,unref:t.unref,goBack:f}}}),f=l(3744);const d=(0,f.Z)(c,[["render",u],["__scopeId","data-v-e6ceea64"]]);var y=d,b=l(6948);const h=e=>((0,t.pushScopeId)("data-v-5f8298e6"),e=e(),(0,t.popScopeId)(),e),p=h((()=>(0,t.createElementVNode)("h2",null,"Changelog",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),v=h((()=>(0,t.createElementVNode)("details",{open:""},[(0,t.createElementVNode)("summary",null,[(0,t.createTextVNode)("v0.0 Initial Commit - "),(0,t.createElementVNode)("time",null,"2021-09-04")]),(0,t.createTextVNode)(" This is the first release :D "),(0,t.createElementVNode)("ul",null,[(0,t.createElementVNode)("li",{class:"feature"},"Did everything"),(0,t.createElementVNode)("li",{class:"fix"},"Had some fun"),(0,t.createElementVNode)("li",{class:"breaking"},"Removed everything"),(0,t.createElementVNode)("li",{class:"balancing"},"Created some bugs to fix later")])],(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)())));var g=(0,t.defineComponent)({setup(e,{expose:o}){const l=(0,t.ref)(!1);return o({open(){l.value=!0}}),(e,o)=>((0,t.openBlock)(),(0,t.createBlock)(b.Z,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=e=>l.value=e)},{header:(0,t.withCtx)((()=>[p])),body:(0,t.withCtx)((()=>[v])),_:1},8,["modelValue"]))}});const S=(0,f.Z)(g,[["__scopeId","data-v-5f8298e6"]]);var N=S,k=l(9266),x=l(9706);const V=e=>((0,t.pushScopeId)("data-v-3eb46986"),e=e(),(0,t.popScopeId)(),e),w={class:"info-modal-header"},M=["src","alt"],P={class:"info-modal-title"},Z={key:0},E={key:0},C={key:0},T=V((()=>(0,t.createElementVNode)("div",null," Made in Profectus, by thepaperpilot with inspiration from Acameada and Jacorb ",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),B=V((()=>(0,t.createElementVNode)("br",null,null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),F=V((()=>(0,t.createElementVNode)("br",null,null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),D=["href"],I=V((()=>(0,t.createElementVNode)("span",{class:"material-icons info-modal-discord"},"discord",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),q=V((()=>(0,t.createElementVNode)("div",null,[(0,t.createElementVNode)("a",{href:"https://discord.gg/WzejVAx",class:"info-modal-discord-link"},[(0,t.createElementVNode)("span",{class:"material-icons info-modal-discord"},"discord"),(0,t.createTextVNode)(" The Paper Pilot Community ")])],(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),_=V((()=>(0,t.createElementVNode)("div",null,[(0,t.createElementVNode)("a",{href:"https://discord.gg/F3xveHV",class:"info-modal-discord-link"},[(0,t.createElementVNode)("span",{class:"material-icons info-modal-discord"},"discord"),(0,t.createTextVNode)(" The Modding Tree ")])],(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),j=V((()=>(0,t.createElementVNode)("br",null,null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)())));var L=(0,t.defineComponent)({props:{changelog:null},setup(e,{expose:o}){const l=e,{title:a,logo:u,author:m,discordName:c,discordLink:f,versionNumber:d,versionTitle:y}=n,h=(0,t.toRefs)(l),p=(0,t.ref)(!1),v=(0,t.computed)((()=>(0,x.mr)(s.Z.timePlayed))),g=(0,t.computed)((()=>(0,i.MM)((0,r.tZ)((()=>(0,t.createVNode)(t.Fragment,null,[k.II.map(i.sY)]))))));function S(){(0,t.unref)(h.changelog)?.open()}return o({open(){p.value=!0}}),(e,o)=>((0,t.openBlock)(),(0,t.createBlock)(b.Z,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=e=>p.value=e)},{header:(0,t.withCtx)((()=>[(0,t.createElementVNode)("div",w,[(0,t.unref)(u)?((0,t.openBlock)(),(0,t.createElementBlock)("img",{key:0,class:"info-modal-logo",src:(0,t.unref)(u),alt:(0,t.unref)(a)},null,8,M)):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("div",P,[(0,t.createElementVNode)("h2",null,(0,t.toDisplayString)((0,t.unref)(a)),1),(0,t.createElementVNode)("h4",null,[(0,t.createTextVNode)((()=>" v"[Symbol.for("+")]?" v"[Symbol.for("+")]((0,t.toDisplayString)((0,t.unref)(d))):" v"+(0,t.toDisplayString)((0,t.unref)(d)))(),1),(0,t.unref)(y)?((0,t.openBlock)(),(0,t.createElementBlock)("span",Z,(()=>": "[Symbol.for("+")]?": "[Symbol.for("+")]((0,t.toDisplayString)((0,t.unref)(y))):": "+(0,t.toDisplayString)((0,t.unref)(y)))(),1)):(0,t.createCommentVNode)("",!0)])])])])),body:(0,t.withCtx)((({shown:e})=>[e?((0,t.openBlock)(),(0,t.createElementBlock)("div",E,[(0,t.unref)(m)?((0,t.openBlock)(),(0,t.createElementBlock)("div",C,(()=>"By "[Symbol.for("+")]?"By "[Symbol.for("+")]((0,t.toDisplayString)((0,t.unref)(m))):"By "+(0,t.toDisplayString)((0,t.unref)(m)))(),1)):(0,t.createCommentVNode)("",!0),T,B,(0,t.createElementVNode)("div",{class:"link",onClick:S},"Changelog"),F,(0,t.createElementVNode)("div",null,[(()=>void 0!==(0,t.unref)(f)&&null!==(0,t.unref)(f)&&(0,t.unref)(f)[Symbol.for("!==")]?(0,t.unref)(f)[Symbol.for("!==")]("https://discord.gg/WzejVAx"):"https://discord.gg/WzejVAx"!==(0,t.unref)(f))()?((0,t.openBlock)(),(0,t.createElementBlock)("a",{key:0,href:(0,t.unref)(f),class:"info-modal-discord-link"},[I,(0,t.createTextVNode)((()=>" "[Symbol.for("+")]?" "[Symbol.for("+")]((0,t.toDisplayString)((0,t.unref)(c))):" "+(0,t.toDisplayString)((0,t.unref)(c)))(),1)],8,D)):(0,t.createCommentVNode)("",!0)]),q,_,j,(0,t.createElementVNode)("div",null,(()=>"Time Played: "[Symbol.for("+")]?"Time Played: "[Symbol.for("+")]((0,t.toDisplayString)((0,t.unref)(v))):"Time Played: "+(0,t.toDisplayString)((0,t.unref)(v)))(),1),((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)((0,t.unref)(g))))])):(0,t.createCommentVNode)("",!0)])),_:1},8,["modelValue"]))}});const O=(0,f.Z)(L,[["__scopeId","data-v-3eb46986"]]);var A=O,R=l(1037),U=l(1349),z=l(5418);const W={class:"field"};var X=(0,t.defineComponent)({props:{title:null,modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:o}){const l=e,r=(0,t.computed)((()=>(0,i.MM)((0,t.unref)(l.title)||"<span></span>","span"))),n=(0,t.computed)({get(){return(()=>void 0!==!l.modelValue&&null!==!l.modelValue&&(!l.modelValue)[Symbol.for("!")]?(!l.modelValue)[Symbol.for("!")]():!!l.modelValue)()},set(e){o("update:modelValue",e)}});return(e,o)=>((0,t.openBlock)(),(0,t.createElementBlock)("label",W,[(0,t.withDirectives)((0,t.createElementVNode)("input",{type:"checkbox",class:"toggle","onUpdate:modelValue":o[0]||(o[0]=e=>(0,t.isRef)(n)?n.value=e:null)},null,512),[[t.vModelCheckbox,(0,t.unref)(n)]]),((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)((0,t.unref)(r))))]))}});const G=(0,f.Z)(X,[["__scopeId","data-v-43cf95d0"]]);var H=G,J=l(8779);const $=e=>((0,t.pushScopeId)("data-v-85d7ae40"),e=e(),(0,t.popScopeId)(),e),K=$((()=>(0,t.createElementVNode)("div",{class:"header"},[(0,t.createElementVNode)("h2",null,"Options")],(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Q=$((()=>(0,t.createElementVNode)("hr",null,null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)())));var Y=(0,t.defineComponent)({setup(e,{expose:o}){const l=(0,t.ref)(!1);o({open(){l.value=!0}});const a=Object.keys(R.Z).map((e=>({label:(0,U.IJ)(e),value:e}))),u=(0,t.computed)((()=>(0,i.MM)((0,r.tZ)((()=>(0,t.createVNode)(t.Fragment,null,[k.V$.map(i.sY)])))))),{showTPS:m,theme:c,unthrottled:f}=(0,t.toRefs)(k.ZP),{autosave:d,offlineProd:y}=(0,t.toRefs)(s.Z),h=(0,t.computed)({get(){return 0===s.Z.devSpeed},set(e){s.Z.devSpeed=e?0:null}}),p=(0,r.tZ)((()=>(0,t.createVNode)("span",null,[(0,t.createTextVNode)("Offline Production"),(0,t.createVNode)(J.Z,{display:"Save-specific"},{default:()=>[(0,t.createTextVNode)("*")]})]))),v=(0,r.tZ)((()=>(0,t.createVNode)("span",null,[(0,t.createTextVNode)("Autosave"),(0,t.createVNode)(J.Z,{display:"Save-specific"},{default:()=>[(0,t.createTextVNode)("*")]})]))),g=(0,r.tZ)((()=>(0,t.createVNode)("span",null,[(0,t.createTextVNode)("Pause game"),(0,t.createVNode)(J.Z,{display:"Save-specific"},{default:()=>[(0,t.createTextVNode)("*")]})])));return(e,o)=>((0,t.openBlock)(),(0,t.createBlock)(b.Z,{modelValue:l.value,"onUpdate:modelValue":o[6]||(o[6]=e=>l.value=e)},{header:(0,t.withCtx)((()=>[K])),body:(0,t.withCtx)((()=>[(0,t.createVNode)(z.Z,{title:"Theme",options:(0,t.unref)(a),modelValue:(0,t.unref)(c),"onUpdate:modelValue":o[0]||(o[0]=e=>(0,t.isRef)(c)?c.value=e:null)},null,8,["options","modelValue"]),((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)((0,t.unref)(u)))),(0,t.createVNode)(H,{title:"Show TPS",modelValue:(0,t.unref)(m),"onUpdate:modelValue":o[1]||(o[1]=e=>(0,t.isRef)(m)?m.value=e:null)},null,8,["modelValue"]),Q,(0,t.createVNode)(H,{title:"Unthrottled",modelValue:(0,t.unref)(f),"onUpdate:modelValue":o[2]||(o[2]=e=>(0,t.isRef)(f)?f.value=e:null)},null,8,["modelValue"]),(0,t.createVNode)(H,{title:(0,t.unref)(p),modelValue:(0,t.unref)(y),"onUpdate:modelValue":o[3]||(o[3]=e=>(0,t.isRef)(y)?y.value=e:null)},null,8,["title","modelValue"]),(0,t.createVNode)(H,{title:(0,t.unref)(v),modelValue:(0,t.unref)(d),"onUpdate:modelValue":o[4]||(o[4]=e=>(0,t.isRef)(d)?d.value=e:null)},null,8,["title","modelValue"]),(0,t.unref)(n).enablePausing?((0,t.openBlock)(),(0,t.createBlock)(H,{key:0,title:(0,t.unref)(g),modelValue:(0,t.unref)(h),"onUpdate:modelValue":o[5]||(o[5]=e=>(0,t.isRef)(h)?h.value=e:null)},null,8,["title","modelValue"])):(0,t.createCommentVNode)("",!0)])),_:1},8,["modelValue"]))}});const ee=(0,f.Z)(Y,[["__scopeId","data-v-85d7ae40"]]);var oe=ee,le=(l(2801),l(463)),te=l(7197);const re=["onSubmit"],ie={class:"field"},ne={key:0,class:"field-title"},ae=["placeholder"];var se=(0,t.defineComponent)({props:{title:null,modelValue:null,textArea:{type:Boolean},placeholder:null,maxHeight:null},emits:["update:modelValue","submit"],setup(e,{emit:o}){const l=e,r=(0,t.toRefs)(l),n=(0,t.computed)((()=>r.title?.value&&(0,i.MM)((0,t.unref)(r.title.value),"span"))),a=(0,t.ref)(null);(0,t.onMounted)((()=>{a.value?.focus()}));const s=(0,t.computed)({get(){return(0,t.unref)(r.modelValue)||""},set(e){o("update:modelValue",e)}});function u(){o("submit")}return(o,l)=>((0,t.openBlock)(),(0,t.createElementBlock)("form",{onSubmit:(0,t.withModifiers)(u,["prevent"])},[(0,t.createElementVNode)("div",ie,[(0,t.unref)(n)?((0,t.openBlock)(),(0,t.createElementBlock)("span",ne,[((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)((0,t.unref)(n))))])):(0,t.createCommentVNode)("",!0),e.textArea?((0,t.openBlock)(),(0,t.createBlock)((0,t.unref)(te.Z),{key:1,modelValue:(0,t.unref)(s),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,t.isRef)(s)?s.value=e:null),placeholder:e.placeholder,maxHeight:e.maxHeight,onBlur:u,ref_key:"field",ref:a},null,8,["modelValue","placeholder","maxHeight"])):(0,t.withDirectives)(((0,t.openBlock)(),(0,t.createElementBlock)("input",{key:2,type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>(0,t.isRef)(s)?s.value=e:null),placeholder:e.placeholder,class:(0,t.normalizeClass)({fullWidth:(()=>void 0!==e.title&&null!==e.title&&e.title[Symbol.for("!")]?e.title[Symbol.for("!")]():!e.title)()}),onBlur:u,ref_key:"field",ref:a},null,42,ae)),[[t.vModelText,(0,t.unref)(s)]])])],40,re))}});const ue=(0,f.Z)(se,[["__scopeId","data-v-8bda704a"]]);var me=ue;const ce={key:0},fe=["onClick","disabled"],de={key:0},ye=["onClick"];var be=(0,t.defineComponent)({props:{disabled:{type:Boolean},skipConfirm:{type:Boolean}},emits:["click","confirmingChanged"],setup(e,{emit:o}){const l=e,r=(0,t.toRefs)(l),i=(0,t.ref)(!1);function n(){(0,t.unref)(r.skipConfirm)?o("click"):(i.value&&o("click"),i.value=(()=>void 0!==i.value&&null!==i.value&&i.value[Symbol.for("!")]?i.value[Symbol.for("!")]():!i.value)())}function a(){i.value=!1}return(0,t.watch)(i,(e=>{o("confirmingChanged",e)})),(o,l)=>((0,t.openBlock)(),(0,t.createElementBlock)("span",{class:(0,t.normalizeClass)(["container",{confirming:i.value}])},[i.value?((0,t.openBlock)(),(0,t.createElementBlock)("span",ce,"Are you sure?")):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("button",{onClick:(0,t.withModifiers)(n,["stop"]),class:"button danger",disabled:e.disabled},[i.value?((0,t.openBlock)(),(0,t.createElementBlock)("span",de,"Yes")):(0,t.renderSlot)(o.$slots,"default",{key:1})],8,fe),i.value?((0,t.openBlock)(),(0,t.createElementBlock)("button",{key:1,class:"button",onClick:(0,t.withModifiers)(a,["stop"])},"No",8,ye)):(0,t.createCommentVNode)("",!0)],2))}});const he=(0,f.Z)(be,[["__scopeId","data-v-bf59fca4"]]);var pe=he;const ve=["onClick"];var ge=(0,t.defineComponent)({props:{left:{type:Boolean}},emits:["click"],setup(e,{emit:o}){const l=(0,t.ref)(!1),r=(0,t.ref)(null);function i(){o("click"),r.value&&clearTimeout(r.value),l.value=!1,(0,t.nextTick)((()=>{l.value=!0,r.value=setTimeout((()=>l.value=!1),500)}))}return(o,r)=>((0,t.openBlock)(),(0,t.createElementBlock)("button",{onClick:(0,t.withModifiers)(i,["stop"]),class:(0,t.normalizeClass)(["feedback",{activated:l.value,left:e.left}])},[(0,t.renderSlot)(o.$slots,"default")],10,ve))}});const Se=(0,f.Z)(ge,[["__scopeId","data-v-5bbcedd3"]]);var Ne=Se;const ke=e=>((0,t.pushScopeId)("data-v-335ce270"),e=e(),(0,t.popScopeId)(),e),xe=ke((()=>(0,t.createElementVNode)("div",{class:"handle material-icons"},"drag_handle",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Ve={key:0,class:"actions"},we=ke((()=>(0,t.createElementVNode)("span",{class:"material-icons"},"content_paste",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Me=ke((()=>(0,t.createElementVNode)("span",{class:"material-icons"},"content_copy",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Pe=ke((()=>(0,t.createElementVNode)("span",{class:"material-icons"},"edit",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Ze=ke((()=>(0,t.createElementVNode)("span",{class:"material-icons",style:{margin:"-2px"}},"delete",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Ee={key:1,class:"actions"},Ce=ke((()=>(0,t.createElementVNode)("span",{class:"material-icons"},"check",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Te=ke((()=>(0,t.createElementVNode)("span",{class:"material-icons"},"close",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Be={key:2,class:"details"},Fe={class:"save-version"},De=ke((()=>(0,t.createElementVNode)("br",null,null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Ie={key:0},qe={key:3,class:"details"},_e={key:4,class:"details error"},je=ke((()=>(0,t.createElementVNode)("br",null,null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)())));var Le=(0,t.defineComponent)({props:{save:null},emits:["export","open","duplicate","delete","editName"],setup(e,{emit:o}){const l=e,{save:r}=(0,t.toRefs)(l),i=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),n=(0,t.ref)(!1),a=(0,t.ref)(!1),u=(0,t.ref)("");(0,t.watch)(n,(()=>u.value=r.value.name||""));const m=(0,t.computed)((()=>r.value&&r.value.id===s.Z.id)),c=(0,t.computed)((()=>m.value?s.Z.time:r.value&&r.value.time||0));function f(){o("editName",u.value),n.value=!1}return(e,l)=>((0,t.openBlock)(),(0,t.createElementBlock)("div",{class:(0,t.normalizeClass)(["save",{active:(0,t.unref)(m)}])},[xe,(()=>void 0!==n.value&&null!==n.value&&n.value[Symbol.for("!")]?n.value[Symbol.for("!")]():!n.value)()?((0,t.openBlock)(),(0,t.createElementBlock)("div",Ve,[(()=>void 0!==(0,t.unref)(r).error&&null!==(0,t.unref)(r).error&&(0,t.unref)(r).error[Symbol.for("==")]?(0,t.unref)(r).error[Symbol.for("==")](void 0):void 0==(0,t.unref)(r).error)()&&(()=>void 0!==a.value&&null!==a.value&&a.value[Symbol.for("!")]?a.value[Symbol.for("!")]():!a.value)()?((0,t.openBlock)(),(0,t.createBlock)(Ne,{key:0,onClick:l[0]||(l[0]=e=>o("export")),class:"button",left:""},{default:(0,t.withCtx)((()=>[(0,t.createVNode)(J.Z,{display:"Export",direction:(0,t.unref)(U.Nm).Left,class:"info"},{default:(0,t.withCtx)((()=>[we])),_:1},8,["direction"])])),_:1})):(0,t.createCommentVNode)("",!0),(()=>void 0!==(0,t.unref)(r).error&&null!==(0,t.unref)(r).error&&(0,t.unref)(r).error[Symbol.for("==")]?(0,t.unref)(r).error[Symbol.for("==")](void 0):void 0==(0,t.unref)(r).error)()&&(()=>void 0!==a.value&&null!==a.value&&a.value[Symbol.for("!")]?a.value[Symbol.for("!")]():!a.value)()?((0,t.openBlock)(),(0,t.createElementBlock)("button",{key:1,onClick:l[1]||(l[1]=e=>o("duplicate")),class:"button"},[(0,t.createVNode)(J.Z,{display:"Duplicate",direction:(0,t.unref)(U.Nm).Left,class:"info"},{default:(0,t.withCtx)((()=>[Me])),_:1},8,["direction"])])):(0,t.createCommentVNode)("",!0),(()=>void 0!==(0,t.unref)(r).error&&null!==(0,t.unref)(r).error&&(0,t.unref)(r).error[Symbol.for("==")]?(0,t.unref)(r).error[Symbol.for("==")](void 0):void 0==(0,t.unref)(r).error)()&&(()=>void 0!==a.value&&null!==a.value&&a.value[Symbol.for("!")]?a.value[Symbol.for("!")]():!a.value)()?((0,t.openBlock)(),(0,t.createElementBlock)("button",{key:2,onClick:l[2]||(l[2]=e=>n.value=(()=>void 0!==n.value&&null!==n.value&&n.value[Symbol.for("!")]?n.value[Symbol.for("!")]():!n.value)()),class:"button"},[(0,t.createVNode)(J.Z,{display:"Edit Name",direction:(0,t.unref)(U.Nm).Left,class:"info"},{default:(0,t.withCtx)((()=>[Pe])),_:1},8,["direction"])])):(0,t.createCommentVNode)("",!0),(0,t.createVNode)(pe,{disabled:(0,t.unref)(m),onClick:l[3]||(l[3]=e=>o("delete")),onConfirmingChanged:l[4]||(l[4]=e=>a.value=e)},{default:(0,t.withCtx)((()=>[(0,t.createVNode)(J.Z,{display:"Delete",direction:(0,t.unref)(U.Nm).Left,class:"info"},{default:(0,t.withCtx)((()=>[Ze])),_:1},8,["direction"])])),_:1},8,["disabled"])])):((0,t.openBlock)(),(0,t.createElementBlock)("div",Ee,[(0,t.createElementVNode)("button",{onClick:f,class:"button"},[(0,t.createVNode)(J.Z,{display:"Save",direction:(0,t.unref)(U.Nm).Left,class:"info"},{default:(0,t.withCtx)((()=>[Ce])),_:1},8,["direction"])]),(0,t.createElementVNode)("button",{onClick:l[5]||(l[5]=e=>n.value=(()=>void 0!==n.value&&null!==n.value&&n.value[Symbol.for("!")]?n.value[Symbol.for("!")]():!n.value)()),class:"button"},[(0,t.createVNode)(J.Z,{display:"Cancel",direction:(0,t.unref)(U.Nm).Left,class:"info"},{default:(0,t.withCtx)((()=>[Te])),_:1},8,["direction"])])])),(()=>void 0!==(0,t.unref)(r).error&&null!==(0,t.unref)(r).error&&(0,t.unref)(r).error[Symbol.for("==")]?(0,t.unref)(r).error[Symbol.for("==")](void 0):void 0==(0,t.unref)(r).error)()&&(()=>void 0!==n.value&&null!==n.value&&n.value[Symbol.for("!")]?n.value[Symbol.for("!")]():!n.value)()?((0,t.openBlock)(),(0,t.createElementBlock)("div",Be,[(0,t.createElementVNode)("button",{class:"button open",onClick:l[6]||(l[6]=e=>o("open"))},[(0,t.createElementVNode)("h3",null,(0,t.toDisplayString)((0,t.unref)(r).name),1)]),(0,t.createElementVNode)("span",Fe,(()=>"v"[Symbol.for("+")]?"v"[Symbol.for("+")]((0,t.toDisplayString)((0,t.unref)(r).modVersion)):"v"+(0,t.toDisplayString)((0,t.unref)(r).modVersion))(),1),De,(0,t.unref)(c)?((0,t.openBlock)(),(0,t.createElementBlock)("div",Ie,(()=>"Last played "[Symbol.for("+")]?"Last played "[Symbol.for("+")]((0,t.toDisplayString)((0,t.unref)(i).format((0,t.unref)(c)))):"Last played "+(0,t.toDisplayString)((0,t.unref)(i).format((0,t.unref)(c))))(),1)):(0,t.createCommentVNode)("",!0)])):(()=>void 0!==(0,t.unref)(r).error&&null!==(0,t.unref)(r).error&&(0,t.unref)(r).error[Symbol.for("==")]?(0,t.unref)(r).error[Symbol.for("==")](void 0):void 0==(0,t.unref)(r).error)()&&n.value?((0,t.openBlock)(),(0,t.createElementBlock)("div",qe,[(0,t.createVNode)(me,{modelValue:u.value,"onUpdate:modelValue":l[7]||(l[7]=e=>u.value=e),class:"editname",onSubmit:f},null,8,["modelValue"])])):((0,t.openBlock)(),(0,t.createElementBlock)("div",_e,[(0,t.createTextVNode)((()=>" Error: Failed to load save with id "[Symbol.for("+")]?" Error: Failed to load save with id "[Symbol.for("+")]((0,t.toDisplayString)((0,t.unref)(r).id)):" Error: Failed to load save with id "+(0,t.toDisplayString)((0,t.unref)(r).id))(),1),je,(0,t.createTextVNode)((0,t.toDisplayString)((0,t.unref)(r).error),1)]))],2))}});const Oe=(0,f.Z)(Le,[["__scopeId","data-v-335ce270"]]);var Ae=Oe,Re=l(9980),Ue=l.n(Re),ze=l(6961),We=l.n(ze),Xe=l(3273);const Ge=e=>((0,t.pushScopeId)("data-v-2bfdf896"),e=e(),(0,t.popScopeId)(),e),He=Ge((()=>(0,t.createElementVNode)("h2",null,"Saves Manager",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Je={class:"modal-footer"},$e={class:"field"},Ke=Ge((()=>(0,t.createElementVNode)("span",{class:"field-title"},"Create Save",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Qe={class:"field-buttons"},Ye={class:"footer"},eo=Ge((()=>(0,t.createElementVNode)("div",{style:{"flex-grow":"1"}},null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)())));var oo=(0,t.defineComponent)({setup(e,{expose:o}){const r=(0,t.ref)(!1),i=(0,t.ref)(null);o({open(){r.value=!0}});const a=(0,t.ref)(!1),u=(0,t.ref)(""),m=(0,t.ref)(null);(0,t.watch)(u,(e=>{e?(0,t.nextTick)((()=>{try{if("{"===e[0]);else if("e"===e[0])e=decodeURIComponent(escape(atob(e)));else{if("ᯡ"!==e[0])return console.warn("Unable to determine preset encoding",e),void(a.value=!0);e=We().decompressFromUTF16(e)}const o=JSON.parse(e);if((()=>void 0!==typeof o&&null!==typeof o&&(typeof o)[Symbol.for("!==")]?(typeof o)[Symbol.for("!==")]("object"):"object"!==typeof o)())return void(a.value=!0);const l=(0,le.QI)();o.id=l,(0,le.a1)(o),u.value="",a.value=!1,k.ZP.saves.push(l)}catch(o){a.value=!0}})):a.value=!1}));let c=l(7634),f=(0,t.ref)(c.keys().reduce(((e,o)=>(e.push({label:o.slice(2,(()=>4[Symbol.for("minus")]?4[Symbol.for("minus")]():-4)()),value:c(o).default}),e)),[]));const d=(0,t.shallowReactive)({});function y(e){if((()=>void 0!==d[e]&&null!==d[e]&&d[e][Symbol.for("==")]?d[e][Symbol.for("==")](null):null==d[e])()){let l=localStorage.getItem(e);if((()=>void 0!==l&&null!==l&&l[Symbol.for("==")]?l[Symbol.for("==")](null):null==l)())d[e]={error:"Save doesn't exist in localStorage",id:e};else if("dW5kZWZpbmVk"===l)d[e]={error:"Save is undefined",id:e};else try{if("{"===l[0]);else if("e"===l[0])l=decodeURIComponent(escape(atob(l)));else{if("ᯡ"!==l[0])return console.warn("Unable to determine preset encoding",l),a.value=!0,d[e]={error:"Unable to determine preset encoding",id:e},d[e];l=We().decompressFromUTF16(l)}d[e]={...JSON.parse(l),id:e}}catch(o){d[e]={error:o,id:e},console.warn(`SavesManager: Failed to load info about save with id ${e}:\n${o}\n${l}`)}}return d[e]}(0,t.watch)(r,(e=>{e&&Object.keys(d).forEach((e=>(()=>void 0!==d&&null!==d&&d[Symbol.for("delete")]?d[Symbol.for("delete")]("key"):delete d.key)()))}));const h=(0,t.computed)((()=>k.ZP.saves.reduce(((e,o)=>(e[o]=y(o),e)),{})));function p(e){let o;switch(o=s.Z.id===e?(0,s.U)(s.Z[Xe.Le]):JSON.stringify(h.value[e]),n.exportEncoding){default:console.warn(`Unknown save encoding: ${n.exportEncoding}. Defaulting to lz`);case"lz":o=We().compressToUTF16(o);break;case"base64":o=btoa(unescape(encodeURIComponent(o)));break;case"plain":break}const l=document.createElement("textarea");l.value=o,document.body.appendChild(l),l.select(),l.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(l)}function v(e){s.Z.id===e&&(0,le.a1)();const o={...h.value[e],id:(0,le.QI)()};(0,le.a1)(o),k.ZP.saves.push(o.id)}function g(e){k.ZP.saves=k.ZP.saves.filter((o=>(()=>void 0!==o&&null!==o&&o[Symbol.for("!==")]?o[Symbol.for("!==")](e):o!==e)())),localStorage.removeItem(e),d[e]=void 0}function S(e){h.value[s.Z.id].time=s.Z.time,(0,le.a1)(),d[s.Z.id]=void 0,(0,le.uW)(h.value[e]),d[e]=void 0}function N(e){if(m.value=e,(0,t.nextTick)((()=>{m.value=null})),"{"===e[0]);else if("e"===e[0])e=decodeURIComponent(escape(atob(e)));else{if("ᯡ"!==e[0])return void console.warn("Unable to determine preset encoding",e);e=We().decompressFromUTF16(e)}const o=JSON.parse(e);o.id=(0,le.QI)(),(0,le.a1)(o),k.ZP.saves.push(o.id),S(o.id)}function x(e,o){const l=h.value[e];l&&(l.name=o,s.Z.id===e?(s.Z.name=o,(0,le.a1)()):((0,le.a1)(l),d[e]=void 0))}return(e,o)=>((0,t.openBlock)(),(0,t.createBlock)(b.Z,{modelValue:r.value,"onUpdate:modelValue":o[4]||(o[4]=e=>r.value=e),ref_key:"modal",ref:i},{header:(0,t.withCtx)((()=>[He])),body:(0,t.withCtx)((({shown:e})=>[e?((0,t.openBlock)(),(0,t.createBlock)((0,t.unref)(Ue()),{key:0,list:(0,t.unref)(k.ZP).saves,handle:".handle",itemKey:e=>e},{item:(0,t.withCtx)((({element:e})=>[(0,t.createVNode)(Ae,{save:(0,t.unref)(h)[e],onOpen:o=>S(e),onExport:o=>p(e),onEditName:o=>x(e,o),onDuplicate:o=>v(e),onDelete:o=>g(e)},null,8,["save","onOpen","onExport","onEditName","onDuplicate","onDelete"])])),_:1},8,["list","itemKey"])):(0,t.createCommentVNode)("",!0)])),footer:(0,t.withCtx)((()=>[(0,t.createElementVNode)("div",Je,[(0,t.createVNode)(me,{modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=e=>u.value=e),title:"Import Save",placeholder:"Paste your save here!",class:(0,t.normalizeClass)({importingFailed:a.value})},null,8,["modelValue","class"]),(0,t.createElementVNode)("div",$e,[Ke,(0,t.createElementVNode)("div",Qe,[(0,t.createElementVNode)("button",{class:"button",onClick:o[1]||(o[1]=e=>S((0,t.unref)(le.xM)().id))},"New Game"),(()=>void 0!==Object.keys((0,t.unref)(f)).length&&null!==Object.keys((0,t.unref)(f)).length&&Object.keys((0,t.unref)(f)).length[Symbol.for(">")]?Object.keys((0,t.unref)(f)).length[Symbol.for(">")](0):Object.keys((0,t.unref)(f)).length>0)()?((0,t.openBlock)(),(0,t.createBlock)(z.Z,{key:0,options:(0,t.unref)(f),modelValue:m.value,"onUpdate:modelValue":o[2]||(o[2]=e=>N(e)),closeOnSelect:"",placeholder:"Select preset",class:"presets"},null,8,["options","modelValue"])):(0,t.createCommentVNode)("",!0)])]),(0,t.createElementVNode)("div",Ye,[eo,(0,t.createElementVNode)("button",{class:"button modal-default-button",onClick:o[3]||(o[3]=e=>r.value=!1)}," Close ")])])])),_:1},8,["modelValue"]))}});const lo=(0,f.Z)(oo,[["__scopeId","data-v-2bfdf896"]]);var to=lo;const ro=e=>((0,t.pushScopeId)("data-v-66269b62"),e=e(),(0,t.popScopeId)(),e),io=["src","alt"],no={key:1,class:"title"},ao=ro((()=>(0,t.createElementVNode)("div",{style:{"flex-grow":"1",cursor:"unset"}},null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),so={class:"discord"},uo={class:"discord-links"},mo={key:0},co=["href"],fo=ro((()=>(0,t.createElementVNode)("li",null,[(0,t.createElementVNode)("a",{href:"https://discord.gg/WzejVAx",target:"_blank"},"The Paper Pilot Community")],(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),yo=ro((()=>(0,t.createElementVNode)("li",null,[(0,t.createElementVNode)("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),bo={href:"https://forums.moddingtree.com/",target:"_blank"},ho=ro((()=>(0,t.createElementVNode)("span",{class:"material-icons"},"forum",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),po=ro((()=>(0,t.createElementVNode)("span",{class:"material-icons"},"info",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),vo=ro((()=>(0,t.createElementVNode)("span",{class:"material-icons"},"library_books",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),go=ro((()=>(0,t.createElementVNode)("span",{class:"material-icons"},"settings",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),So=ro((()=>(0,t.createElementVNode)("span",{class:"material-icons"},"library_books",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),No=ro((()=>(0,t.createElementVNode)("span",{class:"material-icons"},"settings",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),ko=ro((()=>(0,t.createElementVNode)("span",{class:"material-icons"},"info",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),xo={href:"https://forums.moddingtree.com/",target:"_blank"},Vo=ro((()=>(0,t.createElementVNode)("span",{class:"material-icons"},"forum",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),wo={class:"discord"},Mo={class:"discord-links"},Po={key:0},Zo=["href"],Eo=ro((()=>(0,t.createElementVNode)("li",null,[(0,t.createElementVNode)("a",{href:"https://discord.gg/WzejVAx",target:"_blank"},"The Paper Pilot Community")],(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Co=ro((()=>(0,t.createElementVNode)("li",null,[(0,t.createElementVNode)("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)())));var To=(0,t.defineComponent)({setup(e){const o=(0,t.ref)(null),l=(0,t.ref)(null),r=(0,t.ref)(null),i=(0,t.ref)(null),{useHeader:a,banner:s,title:u,discordName:m,discordLink:c,versionNumber:f}=n;function d(){window.open(c,"mywindow")}return(e,n)=>((0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,null,[(0,t.unref)(a)?((0,t.openBlock)(),(0,t.createElementBlock)("div",(0,t.mergeProps)({key:0,class:"nav"},e.$attrs),[(0,t.unref)(s)?((0,t.openBlock)(),(0,t.createElementBlock)("img",{key:0,src:(0,t.unref)(s),class:"banner",alt:(0,t.unref)(u),style:{"margin-left":"10px"}},null,8,io)):((0,t.openBlock)(),(0,t.createElementBlock)("div",no,(0,t.toDisplayString)((0,t.unref)(u)),1)),(0,t.createElementVNode)("div",{onClick:n[0]||(n[0]=e=>i.value?.open()),class:"version-container"},[(0,t.createVNode)(J.Z,{display:"Changelog",direction:(0,t.unref)(U.Nm).Down,class:"version"},{default:(0,t.withCtx)((()=>[(0,t.createElementVNode)("span",null,(()=>"v"[Symbol.for("+")]?"v"[Symbol.for("+")]((0,t.toDisplayString)((0,t.unref)(f))):"v"+(0,t.toDisplayString)((0,t.unref)(f)))(),1)])),_:1},8,["direction"])]),ao,(0,t.createElementVNode)("div",so,[(0,t.createElementVNode)("span",{onClick:d,class:"material-icons"},"discord"),(0,t.createElementVNode)("ul",uo,[(()=>void 0!==(0,t.unref)(c)&&null!==(0,t.unref)(c)&&(0,t.unref)(c)[Symbol.for("!==")]?(0,t.unref)(c)[Symbol.for("!==")]("https://discord.gg/WzejVAx"):"https://discord.gg/WzejVAx"!==(0,t.unref)(c))()?((0,t.openBlock)(),(0,t.createElementBlock)("li",mo,[(0,t.createElementVNode)("a",{href:(0,t.unref)(c),target:"_blank"},(0,t.toDisplayString)((0,t.unref)(m)),9,co)])):(0,t.createCommentVNode)("",!0),fo,yo])]),(0,t.createElementVNode)("div",null,[(0,t.createElementVNode)("a",bo,[(0,t.createVNode)(J.Z,{display:"Forums",direction:(0,t.unref)(U.Nm).Down,yoffset:"5px"},{default:(0,t.withCtx)((()=>[ho])),_:1},8,["direction"])])]),(0,t.createElementVNode)("div",{onClick:n[1]||(n[1]=e=>o.value?.open())},[(0,t.createVNode)(J.Z,{display:"Info",direction:(0,t.unref)(U.Nm).Down,class:"info"},{default:(0,t.withCtx)((()=>[po])),_:1},8,["direction"])]),(0,t.createElementVNode)("div",{onClick:n[2]||(n[2]=e=>l.value?.open())},[(0,t.createVNode)(J.Z,{display:"Saves",direction:(0,t.unref)(U.Nm).Down,xoffset:"-20px"},{default:(0,t.withCtx)((()=>[vo])),_:1},8,["direction"])]),(0,t.createElementVNode)("div",{onClick:n[3]||(n[3]=e=>r.value?.open())},[(0,t.createVNode)(J.Z,{display:"Options",direction:(0,t.unref)(U.Nm).Down,xoffset:"-66px"},{default:(0,t.withCtx)((()=>[go])),_:1},8,["direction"])])],16)):((0,t.openBlock)(),(0,t.createElementBlock)("div",(0,t.mergeProps)({key:1,class:"overlay-nav"},e.$attrs),[(0,t.createElementVNode)("div",{onClick:n[4]||(n[4]=e=>i.value?.open()),class:"version-container"},[(0,t.createVNode)(J.Z,{display:"Changelog",direction:(0,t.unref)(U.Nm).Right,xoffset:"25%",class:"version"},{default:(0,t.withCtx)((()=>[(0,t.createElementVNode)("span",null,(()=>"v"[Symbol.for("+")]?"v"[Symbol.for("+")]((0,t.toDisplayString)((0,t.unref)(f))):"v"+(0,t.toDisplayString)((0,t.unref)(f)))(),1)])),_:1},8,["direction"])]),(0,t.createElementVNode)("div",{onClick:n[5]||(n[5]=e=>l.value?.open())},[(0,t.createVNode)(J.Z,{display:"Saves",direction:(0,t.unref)(U.Nm).Right},{default:(0,t.withCtx)((()=>[So])),_:1},8,["direction"])]),(0,t.createElementVNode)("div",{onClick:n[6]||(n[6]=e=>r.value?.open())},[(0,t.createVNode)(J.Z,{display:"Options",direction:(0,t.unref)(U.Nm).Right},{default:(0,t.withCtx)((()=>[No])),_:1},8,["direction"])]),(0,t.createElementVNode)("div",{onClick:n[7]||(n[7]=e=>o.value?.open())},[(0,t.createVNode)(J.Z,{display:"Info",direction:(0,t.unref)(U.Nm).Right},{default:(0,t.withCtx)((()=>[ko])),_:1},8,["direction"])]),(0,t.createElementVNode)("div",null,[(0,t.createElementVNode)("a",xo,[(0,t.createVNode)(J.Z,{display:"Forums",direction:(0,t.unref)(U.Nm).Right,xoffset:"7px"},{default:(0,t.withCtx)((()=>[Vo])),_:1},8,["direction"])])]),(0,t.createElementVNode)("div",wo,[(0,t.createElementVNode)("span",{onClick:d,class:"material-icons"},"discord"),(0,t.createElementVNode)("ul",Mo,[(()=>void 0!==(0,t.unref)(c)&&null!==(0,t.unref)(c)&&(0,t.unref)(c)[Symbol.for("!==")]?(0,t.unref)(c)[Symbol.for("!==")]("https://discord.gg/WzejVAx"):"https://discord.gg/WzejVAx"!==(0,t.unref)(c))()?((0,t.openBlock)(),(0,t.createElementBlock)("li",Po,[(0,t.createElementVNode)("a",{href:(0,t.unref)(c),target:"_blank"},(0,t.toDisplayString)((0,t.unref)(m)),9,Zo)])):(0,t.createCommentVNode)("",!0),Eo,Co])])],16)),(0,t.createVNode)(A,{ref_key:"info",ref:o,changelog:i.value},null,8,["changelog"]),(0,t.createVNode)(to,{ref_key:"savesManager",ref:l},null,512),(0,t.createVNode)(oe,{ref_key:"options",ref:r},null,512),(0,t.createVNode)(N,{ref_key:"changelog",ref:i},null,512)],64))}});const Bo=(0,f.Z)(To,[["__scopeId","data-v-66269b62"]]);var Fo=Bo;const Do={class:"inner-tab"};var Io=(0,t.defineComponent)({setup(e){const o=(0,t.toRef)(s.Z,"tabs"),l=(0,t.computed)((()=>Object.keys(a.layers))),r=n.useHeader;function i(e){const{display:o,minimized:l,minWidth:t,name:r,color:i,minimizable:n,nodes:a}=e;return{display:o,minimized:l,minWidth:t,name:r,color:i,minimizable:n,nodes:a}}return(e,n)=>((0,t.openBlock)(),(0,t.createElementBlock)("div",{class:(0,t.normalizeClass)(["tabs-container",{useHeader:(0,t.unref)(r)}])},[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)((0,t.unref)(o),((o,n)=>((0,t.openBlock)(),(0,t.createElementBlock)("div",{key:n,class:(0,t.normalizeClass)(["tab",(0,t.unref)((0,t.unref)(a.layers)[o]?.classes)]),ref_for:!0,ref:`tab-${n}`,style:(0,t.normalizeStyle)((0,t.unref)((0,t.unref)(a.layers)[o]?.style))},[0===n&&(()=>void 0!==(0,t.unref)(r)&&null!==(0,t.unref)(r)&&(0,t.unref)(r)[Symbol.for("!")]?(0,t.unref)(r)[Symbol.for("!")]():!(0,t.unref)(r))()?((0,t.openBlock)(),(0,t.createBlock)(Fo,{key:0})):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("div",Do,[(0,t.unref)(l).includes(o)?((0,t.openBlock)(),(0,t.createBlock)(y,(0,t.mergeProps)({key:0},i((0,t.unref)(a.layers)[o]),{index:n,tab:()=>e.$refs[`tab-${n}`]?.[0]}),null,16,["index","tab"])):((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(o),{key:1,index:n},null,8,["index"]))])],6)))),128))],2))}});const qo=(0,f.Z)(Io,[["__scopeId","data-v-7e494d3c"]]);var _o=qo,jo=l(6380);const Lo=e=>((0,t.pushScopeId)("data-v-06188cc8"),e=e(),(0,t.popScopeId)(),e),Oo={class:"game-over-modal-header"},Ao=["src","alt"],Ro={class:"game-over-modal-title"},Uo=Lo((()=>(0,t.createElementVNode)("h2",null,"Congratulations!",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),zo={key:0},Wo=Lo((()=>(0,t.createElementVNode)("br",null,null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Xo=Lo((()=>(0,t.createElementVNode)("div",null," Please check the Discord to discuss the game or to check for new content updates! ",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Go=Lo((()=>(0,t.createElementVNode)("br",null,null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Ho=["href"],Jo=Lo((()=>(0,t.createElementVNode)("span",{class:"material-icons game-over-modal-discord"},"discord",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)())));var $o=(0,t.defineComponent)({setup(e){const{title:o,logo:l,discordName:r,discordLink:i,versionNumber:a,versionTitle:u}=n,m=(0,t.computed)((()=>(0,x.mr)(s.Z.timePlayed))),c=(0,t.computed)((()=>jo.hasWon.value&&(()=>void 0!==s.Z.keepGoing&&null!==s.Z.keepGoing&&s.Z.keepGoing[Symbol.for("!")]?s.Z.keepGoing[Symbol.for("!")]():!s.Z.keepGoing)())),f=(0,t.toRef)(s.Z,"autosave");function d(){s.Z.keepGoing=!0}function y(){(0,le.uW)((0,le.xM)())}return(e,n)=>((0,t.openBlock)(),(0,t.createBlock)(b.Z,{"model-value":(0,t.unref)(c)},{header:(0,t.withCtx)((()=>[(0,t.createElementVNode)("div",Oo,[(0,t.unref)(l)?((0,t.openBlock)(),(0,t.createElementBlock)("img",{key:0,class:"game-over-modal-logo",src:(0,t.unref)(l),alt:(0,t.unref)(o)},null,8,Ao)):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("div",Ro,[Uo,(0,t.createElementVNode)("h4",null,(()=>"You've beaten "+(0,t.toDisplayString)((0,t.unref)(o))+" v"+(0,t.toDisplayString)((0,t.unref)(a))+": "!==void 0&&"You've beaten "+(0,t.toDisplayString)((0,t.unref)(o))+" v"+(0,t.toDisplayString)((0,t.unref)(a))+": "!==null&&("You've beaten "+(0,t.toDisplayString)((0,t.unref)(o))+" v"+(0,t.toDisplayString)((0,t.unref)(a))+": ")[Symbol.for("+")]?("You've beaten "+(0,t.toDisplayString)((0,t.unref)(o))+" v"+(0,t.toDisplayString)((0,t.unref)(a))+": ")[Symbol.for("+")]((0,t.toDisplayString)((0,t.unref)(u))):"You've beaten "+(0,t.toDisplayString)((0,t.unref)(o))+" v"+(0,t.toDisplayString)((0,t.unref)(a))+": "+(0,t.toDisplayString)((0,t.unref)(u)))(),1)])])])),body:(0,t.withCtx)((({shown:e})=>[e?((0,t.openBlock)(),(0,t.createElementBlock)("div",zo,[(0,t.createElementVNode)("div",null,(()=>"It took you "+(0,t.toDisplayString)((0,t.unref)(m))!==void 0&&"It took you "+(0,t.toDisplayString)((0,t.unref)(m))!==null&&("It took you "+(0,t.toDisplayString)((0,t.unref)(m)))[Symbol.for("+")]?("It took you "+(0,t.toDisplayString)((0,t.unref)(m)))[Symbol.for("+")](" to beat the game."):"It took you "+(0,t.toDisplayString)((0,t.unref)(m))+" to beat the game.")(),1),Wo,Xo,Go,(0,t.createElementVNode)("div",null,[(0,t.createElementVNode)("a",{href:(0,t.unref)(i),class:"game-over-modal-discord-link"},[Jo,(0,t.createTextVNode)((()=>" "[Symbol.for("+")]?" "[Symbol.for("+")]((0,t.toDisplayString)((0,t.unref)(r))):" "+(0,t.toDisplayString)((0,t.unref)(r)))(),1)],8,Ho)]),(0,t.createVNode)(H,{title:"Autosave",modelValue:(0,t.unref)(f),"onUpdate:modelValue":n[0]||(n[0]=e=>(0,t.isRef)(f)?f.value=e:null)},null,8,["modelValue"])])):(0,t.createCommentVNode)("",!0)])),footer:(0,t.withCtx)((()=>[(0,t.createElementVNode)("div",{class:"game-over-footer"},[(0,t.createElementVNode)("button",{onClick:d,class:"button"},"Keep Going"),(0,t.createElementVNode)("button",{onClick:y,class:"button danger"},"Play Again")])])),_:1},8,["model-value"]))}});const Ko=(0,f.Z)($o,[["__scopeId","data-v-06188cc8"]]);var Qo=Ko,Yo=l(3032);const el=e=>((0,t.pushScopeId)("data-v-5935214c"),e=e(),(0,t.popScopeId)(),e),ol=el((()=>(0,t.createElementVNode)("div",{class:"nan-modal-header"},[(0,t.createElementVNode)("h2",null,"NaN value detected!")],(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),ll={key:0},tl=el((()=>(0,t.createElementVNode)("br",null,null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),rl=["href"],il=el((()=>(0,t.createElementVNode)("span",{class:"material-icons nan-modal-discord"},"discord",(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),nl=el((()=>(0,t.createElementVNode)("br",null,null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),al={class:"nan-footer"};var sl=(0,t.defineComponent)({setup(e){const{discordName:o,discordLink:l}=n,r=(0,t.toRef)(s.Z,"autosave"),i=(0,t.toRef)(Yo.Z,"hasNaN"),a=(0,t.ref)(null),u=(0,t.computed)((()=>Yo.Z.NaNPath.join("."))),m=(0,t.computed)((()=>Yo.Z.NaNPath.slice((()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)())[0])),c=(0,t.computed)((()=>Yo.Z.NaNReceiver&&m.value?Yo.Z.NaNReceiver[m.value]:null)),f=(0,t.computed)({get(){return 0===s.Z.devSpeed},set(e){s.Z.devSpeed=e?null:0}});function d(){Yo.Z.NaNReceiver&&m.value&&(Yo.Z.NaNReceiver[m.value]=new x.ZP(0),Yo.Z.hasNaN=!1)}function y(){Yo.Z.NaNReceiver&&m.value&&(Yo.Z.NaNReceiver[m.value]=new x.ZP(1),Yo.Z.hasNaN=!1)}function h(){Yo.Z.NaNReceiver&&m.value&&(Yo.Z.NaNReceiver[m.value]=new x.ZP(NaN),Yo.Z.hasNaN=!1)}return(e,s)=>((0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,null,[(0,t.createVNode)(b.Z,(0,t.mergeProps)({modelValue:(0,t.unref)(i),"onUpdate:modelValue":s[4]||(s[4]=e=>(0,t.isRef)(i)?i.value=e:null)},e.$attrs),{header:(0,t.withCtx)((()=>[ol])),body:(0,t.withCtx)((()=>[(0,t.createElementVNode)("div",null,[(0,t.createTextVNode)((()=>' Attempted to assign "'+(0,t.toDisplayString)((0,t.unref)(u))!==void 0&&' Attempted to assign "'+(0,t.toDisplayString)((0,t.unref)(u))!==null&&(' Attempted to assign "'+(0,t.toDisplayString)((0,t.unref)(u)))[Symbol.for("+")]?(' Attempted to assign "'+(0,t.toDisplayString)((0,t.unref)(u)))[Symbol.for("+")]('" to NaN'):' Attempted to assign "'+(0,t.toDisplayString)((0,t.unref)(u))+'" to NaN')(),1),(0,t.unref)(c)?((0,t.openBlock)(),(0,t.createElementBlock)("span",ll,(()=>(0,t.toDisplayString)(" ")+"(previously "+(0,t.toDisplayString)((0,t.unref)(x.WU)((0,t.unref)(c)))!==void 0&&(0,t.toDisplayString)(" ")+"(previously "+(0,t.toDisplayString)((0,t.unref)(x.WU)((0,t.unref)(c)))!==null&&((0,t.toDisplayString)(" ")+"(previously "+(0,t.toDisplayString)((0,t.unref)(x.WU)((0,t.unref)(c))))[Symbol.for("+")]?((0,t.toDisplayString)(" ")+"(previously "+(0,t.toDisplayString)((0,t.unref)(x.WU)((0,t.unref)(c))))[Symbol.for("+")](")"):(0,t.toDisplayString)(" ")+"(previously "+(0,t.toDisplayString)((0,t.unref)(x.WU)((0,t.unref)(c)))+")")(),1)):(0,t.createCommentVNode)("",!0),(0,t.createTextVNode)((()=>". Auto-saving has been "+(0,t.toDisplayString)((0,t.unref)(r)?"enabled":"disabled")!==void 0&&". Auto-saving has been "+(0,t.toDisplayString)((0,t.unref)(r)?"enabled":"disabled")!==null&&(". Auto-saving has been "+(0,t.toDisplayString)((0,t.unref)(r)?"enabled":"disabled"))[Symbol.for("+")]?(". Auto-saving has been "+(0,t.toDisplayString)((0,t.unref)(r)?"enabled":"disabled"))[Symbol.for("+")](". Check the console for more details, and consider sharing it with the developers on discord. "):". Auto-saving has been "+(0,t.toDisplayString)((0,t.unref)(r)?"enabled":"disabled")+". Check the console for more details, and consider sharing it with the developers on discord. ")(),1)]),tl,(0,t.createElementVNode)("div",null,[(0,t.createElementVNode)("a",{href:(0,t.unref)(l),class:"nan-modal-discord-link"},[il,(0,t.createTextVNode)((()=>" "[Symbol.for("+")]?" "[Symbol.for("+")]((0,t.toDisplayString)((0,t.unref)(o))):" "+(0,t.toDisplayString)((0,t.unref)(o)))(),1)],8,rl)]),nl,(0,t.createVNode)(H,{title:"Autosave",modelValue:(0,t.unref)(r),"onUpdate:modelValue":s[0]||(s[0]=e=>(0,t.isRef)(r)?r.value=e:null)},null,8,["modelValue"]),(0,t.unref)(n).enablePausing?((0,t.openBlock)(),(0,t.createBlock)(H,{key:0,title:"Pause game",modelValue:(0,t.unref)(f),"onUpdate:modelValue":s[1]||(s[1]=e=>(0,t.isRef)(f)?f.value=e:null)},null,8,["modelValue"])):(0,t.createCommentVNode)("",!0)])),footer:(0,t.withCtx)((()=>[(0,t.createElementVNode)("div",al,[(0,t.createElementVNode)("button",{onClick:s[2]||(s[2]=e=>a.value?.open()),class:"button"},"Open Saves Manager"),(0,t.createElementVNode)("button",{onClick:d,class:"button"},"Set to 0"),(0,t.createElementVNode)("button",{onClick:y,class:"button"},"Set to 1"),(0,t.unref)(c)&&(0,t.unref)(x.ZP).neq((0,t.unref)(c),0)&&(0,t.unref)(x.ZP).neq((0,t.unref)(c),1)?((0,t.openBlock)(),(0,t.createElementBlock)("button",{key:0,onClick:s[3]||(s[3]=e=>i.value=!1),class:"button"}," Set to previous ")):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("button",{onClick:h,class:"button danger"},"Ignore")])])),_:1},16,["modelValue"]),(0,t.createVNode)(to,{ref_key:"savesManager",ref:a},null,512)],64))}});const ul=(0,f.Z)(sl,[["__scopeId","data-v-5935214c"]]);var ml=ul;const cl={key:0,class:"tpsDisplay"},fl={key:0,class:"low"};var dl=(0,t.defineComponent)({setup(e){const o=(0,t.computed)((()=>x.ZP.div(Yo.Z.lastTenTicks.length,Yo.Z.lastTenTicks.reduce(((e,o)=>(()=>void 0!==e&&null!==e&&e[Symbol.for("+")]?e[Symbol.for("+")](o):e+o)()),0)))),l=(0,t.ref)([]);(0,t.watchEffect)((()=>{l.value.push(Math.round(o.value.toNumber())),(()=>void 0!==l.value.length&&null!==l.value.length&&l.value.length[Symbol.for(">")]?l.value.length[Symbol.for(">")](10):l.value.length>10)()&&(l.value=l.value.slice(1))}));const r=(0,t.computed)((()=>l.value.reduce(((e,o)=>x.ZP.max(e,o)),0))),i=(0,t.computed)((()=>x.ZP.sub(o.value,r.value).gt(1)));return(e,l)=>(()=>void 0!==(0,t.unref)(o).isNan()&&null!==(0,t.unref)(o).isNan()&&(0,t.unref)(o).isNan()[Symbol.for("!")]?(0,t.unref)(o).isNan()[Symbol.for("!")]():!(0,t.unref)(o).isNan())()?((0,t.openBlock)(),(0,t.createElementBlock)("div",cl,[(0,t.createTextVNode)((()=>" TPS: "+(0,t.toDisplayString)((0,t.unref)(x.Ht)((0,t.unref)(o)))!==void 0&&" TPS: "+(0,t.toDisplayString)((0,t.unref)(x.Ht)((0,t.unref)(o)))!==null&&(" TPS: "+(0,t.toDisplayString)((0,t.unref)(x.Ht)((0,t.unref)(o))))[Symbol.for("+")]?(" TPS: "+(0,t.toDisplayString)((0,t.unref)(x.Ht)((0,t.unref)(o))))[Symbol.for("+")](" "):" TPS: "+(0,t.toDisplayString)((0,t.unref)(x.Ht)((0,t.unref)(o)))+" ")(),1),(0,t.createVNode)(t.Transition,{name:"fade"},{default:(0,t.withCtx)((()=>[(0,t.unref)(i)?((0,t.openBlock)(),(0,t.createElementBlock)("span",fl,(0,t.toDisplayString)((0,t.unref)(x.Ht)((0,t.unref)(r))),1)):(0,t.createCommentVNode)("",!0)])),_:1})])):(0,t.createCommentVNode)("",!0)}});const yl=(0,f.Z)(dl,[["__scopeId","data-v-c0663118"]]);var bl=yl,hl=(0,t.defineComponent)({setup(e){const o=n.useHeader,l=(0,t.computed)((()=>R.Z[k.ZP.theme].variables)),a=(0,t.toRef)(k.ZP,"showTPS"),s=(0,t.computed)((()=>(0,i.MM)((0,r.tZ)((()=>(0,t.createVNode)(t.Fragment,null,[k.t.map(i.sY)]))))));return(e,r)=>((0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,null,[(0,t.createElementVNode)("div",{id:"modal-root",style:(0,t.normalizeStyle)((0,t.unref)(l))},null,4),(0,t.createElementVNode)("div",{class:(0,t.normalizeClass)(["app",{useHeader:(0,t.unref)(o)}]),style:(0,t.normalizeStyle)((0,t.unref)(l))},[(0,t.unref)(o)?((0,t.openBlock)(),(0,t.createBlock)(Fo,{key:0})):(0,t.createCommentVNode)("",!0),(0,t.createVNode)(_o),(0,t.unref)((0,t.unref)(a))?((0,t.openBlock)(),(0,t.createBlock)(bl,{key:1})):(0,t.createCommentVNode)("",!0),(0,t.createVNode)(Qo),(0,t.createVNode)(ml),((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)((0,t.unref)(s))))],6)],64))}});const pl=(0,f.Z)(hl,[["__scopeId","data-v-f13f28b6"]]);var vl=pl;if(document.title=n.title,""===n.id)throw"Project ID is empty! Please select a unique ID for this project in /src/data/projInfo.json";requestAnimationFrame((async()=>{console.log("%cMade in Profectus%c\nLearn more at www.moddingtree.com","font-weight: bold; font-size: 24px; color: #A3BE8C; background: #2E3440; padding: 4px 8px; border-radius: 8px;","padding: 4px;"),await(0,le.zD)();const{globalBus:e,startGameLoop:o}=await l(7302),r=window.vue=(0,t.createApp)(vl);e.emit("setupVue",r),r.mount("#app"),o()})),window.projInfo=n},9706:function(e,o,l){"use strict";l.d(o,{WU:function(){return a},Ht:function(){return s},mr:function(){return u}});var t=l(5549);const{exponentialFormat:r,commaFormat:i,regularFormat:n,format:a,formatWhole:s,formatTime:u,toPlaces:m,formatSmall:c,invertOOM:f}=t;window.Decimal=t["default"],window.exponentialFormat=r,window.commaFormat=i,window.regularFormat=n,window.format=a,window.formatWhole=s,window.formatTime=u,window.toPlaces=m,window.formatSmall=c,window.invertOOM=f,o["ZP"]=t["default"]},5549:function(e,o,l){"use strict";l.r(o),l.d(o,{commaFormat:function(){return R},default:function(){return L},exponentialFormat:function(){return A},format:function(){return Y},formatSmall:function(){return te},formatTime:function(){return oe},formatWhole:function(){return ee},invertOOM:function(){return re},regularFormat:function(){return U},toPlaces:function(){return le}});var t=l(2482);l(1703);let r,i,n,a,s,u,m,c,f,d,y;const b=17,h=9e15,p=Math.log10(9e15),v=(()=>1[Symbol.for("/")]?1[Symbol.for("/")](9e15):1/9e15)(),g=308,S=(()=>324[Symbol.for("minus")]?324[Symbol.for("minus")]():-324)(),N=5,k=!0,x=!1,V=function(){const e=[];for(let l=(()=>void 0!==S&&null!==S&&S[Symbol.for("+")]?S[Symbol.for("+")](1):S+1)();(()=>void 0!==l&&null!==l&&l[Symbol.for("<=")]?l[Symbol.for("<=")](g):l<=g)();(()=>void 0!==l&&null!==l&&"object"===typeof l&&l[Symbol.for("postfix-increment")]?l[Symbol.for("postfix-increment")]():l++)())e.push(Number((()=>"1e"[Symbol.for("+")]?"1e"[Symbol.for("+")](l):"1e"+l)()));const o=323;return function(l){return e[(()=>void 0!==l&&null!==l&&l[Symbol.for("+")]?l[Symbol.for("+")](o):l+o)()]}}(),w=[2,Math.E,3,4,5,6,7,8,9,10],M=[[1,1.0891168053867777,1.1789745164521264,1.2701428397304229,1.3632066654400328,1.4587804913784246,1.557523817412741,1.660158301473385,1.767487542936873,1.8804205225512542,2],[1,1.1121114330934,1.23103892493161,1.35838369631113,1.49605193039935,1.64635423375119,1.81213853570186,1.99697132461829,2.20538955455724,2.44325744833852,Math.E],[1,1.1187738849693603,1.2464963939368214,1.38527004705667,1.5376664685821402,1.7068895236551784,1.897001227148399,2.1132403089001035,2.362480153784171,2.6539010333870774,3],[1,1.1367350847096405,1.2889510672956703,1.4606478703324786,1.6570295196661111,1.8850062585672889,2.1539465047453485,2.476829779693097,2.872061932789197,3.3664204535587183,4],[1,1.1494592900767588,1.319708228183931,1.5166291280087583,1.748171114438024,2.0253263297298045,2.3636668498288547,2.7858359149579424,3.3257226212448145,4.035730287722532,5],[1,1.159225940787673,1.343712473580932,1.5611293155111927,1.8221199554561318,2.14183924486326,2.542468319282638,3.0574682501653316,3.7390572020926873,4.6719550537360774,6],[1,1.1670905356972596,1.3632807444991446,1.5979222279405536,1.8842640123816674,2.2416069644878687,2.69893426559423,3.3012632110403577,4.121250340630164,5.281493033448316,7],[1,1.1736630594087796,1.379783782386201,1.6292821855668218,1.9378971836180754,2.3289975651071977,2.8384347394720835,3.5232708454565906,4.478242031114584,5.868592169644505,8],[1,1.1793017514670474,1.394054150657457,1.65664127441059,1.985170999970283,2.4069682290577457,2.9647310119960752,3.7278665320924946,4.814462547283592,6.436522247411611,9],[1,1.18422737399915,1.4066113788546144,1.680911177655277,2.027492094355525,2.4775152854601967,3.080455730250329,3.918234505962507,5.1332705696484595,6.9878696918072905,10]],P=[[(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)(),(()=>.9194161097107025[Symbol.for("minus")]?.9194161097107025[Symbol.for("minus")]():-.9194161097107025)(),(()=>.8335625019330468[Symbol.for("minus")]?.8335625019330468[Symbol.for("minus")]():-.8335625019330468)(),(()=>.7425599821143978[Symbol.for("minus")]?.7425599821143978[Symbol.for("minus")]():-.7425599821143978)(),(()=>.6466611521029437[Symbol.for("minus")]?.6466611521029437[Symbol.for("minus")]():-.6466611521029437)(),(()=>.5462617907227869[Symbol.for("minus")]?.5462617907227869[Symbol.for("minus")]():-.5462617907227869)(),(()=>.4419033816638769[Symbol.for("minus")]?.4419033816638769[Symbol.for("minus")]():-.4419033816638769)(),(()=>.3342645487554494[Symbol.for("minus")]?.3342645487554494[Symbol.for("minus")]():-.3342645487554494)(),(()=>.224140440909962[Symbol.for("minus")]?.224140440909962[Symbol.for("minus")]():-.224140440909962)(),(()=>.11241087890006762[Symbol.for("minus")]?.11241087890006762[Symbol.for("minus")]():-.11241087890006762)(),0],[(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)(),(()=>.90603157029014[Symbol.for("minus")]?.90603157029014[Symbol.for("minus")]():-.90603157029014)(),(()=>.80786507256596[Symbol.for("minus")]?.80786507256596[Symbol.for("minus")]():-.80786507256596)(),(()=>.7064666939634[Symbol.for("minus")]?.7064666939634[Symbol.for("minus")]():-.7064666939634)(),(()=>.60294836853664[Symbol.for("minus")]?.60294836853664[Symbol.for("minus")]():-.60294836853664)(),(()=>.49849837513117[Symbol.for("minus")]?.49849837513117[Symbol.for("minus")]():-.49849837513117)(),(()=>.39430303318768[Symbol.for("minus")]?.39430303318768[Symbol.for("minus")]():-.39430303318768)(),(()=>.29147201034755[Symbol.for("minus")]?.29147201034755[Symbol.for("minus")]():-.29147201034755)(),(()=>.19097820800866[Symbol.for("minus")]?.19097820800866[Symbol.for("minus")]():-.19097820800866)(),(()=>.09361896280296[Symbol.for("minus")]?.09361896280296[Symbol.for("minus")]():-.09361896280296)(),0],[(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)(),(()=>.9021579584316141[Symbol.for("minus")]?.9021579584316141[Symbol.for("minus")]():-.9021579584316141)(),(()=>.8005762598234203[Symbol.for("minus")]?.8005762598234203[Symbol.for("minus")]():-.8005762598234203)(),(()=>.6964780623319391[Symbol.for("minus")]?.6964780623319391[Symbol.for("minus")]():-.6964780623319391)(),(()=>.5911906810998454[Symbol.for("minus")]?.5911906810998454[Symbol.for("minus")]():-.5911906810998454)(),(()=>.486050182576545[Symbol.for("minus")]?.486050182576545[Symbol.for("minus")]():-.486050182576545)(),(()=>.3823089430815083[Symbol.for("minus")]?.3823089430815083[Symbol.for("minus")]():-.3823089430815083)(),(()=>.28106046722897615[Symbol.for("minus")]?.28106046722897615[Symbol.for("minus")]():-.28106046722897615)(),(()=>.1831906535795894[Symbol.for("minus")]?.1831906535795894[Symbol.for("minus")]():-.1831906535795894)(),(()=>.08935809204418144[Symbol.for("minus")]?.08935809204418144[Symbol.for("minus")]():-.08935809204418144)(),0],[(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)(),(()=>.8917227442365535[Symbol.for("minus")]?.8917227442365535[Symbol.for("minus")]():-.8917227442365535)(),(()=>.781258746326964[Symbol.for("minus")]?.781258746326964[Symbol.for("minus")]():-.781258746326964)(),(()=>.6705130326902455[Symbol.for("minus")]?.6705130326902455[Symbol.for("minus")]():-.6705130326902455)(),(()=>.5612813129406509[Symbol.for("minus")]?.5612813129406509[Symbol.for("minus")]():-.5612813129406509)(),(()=>.4551067709033134[Symbol.for("minus")]?.4551067709033134[Symbol.for("minus")]():-.4551067709033134)(),(()=>.35319256652135966[Symbol.for("minus")]?.35319256652135966[Symbol.for("minus")]():-.35319256652135966)(),(()=>.2563741554088552[Symbol.for("minus")]?.2563741554088552[Symbol.for("minus")]():-.2563741554088552)(),(()=>.1651412821106526[Symbol.for("minus")]?.1651412821106526[Symbol.for("minus")]():-.1651412821106526)(),(()=>.0796919581982668[Symbol.for("minus")]?.0796919581982668[Symbol.for("minus")]():-.0796919581982668)(),0],[(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)(),(()=>.8843387974366064[Symbol.for("minus")]?.8843387974366064[Symbol.for("minus")]():-.8843387974366064)(),(()=>.7678744063886243[Symbol.for("minus")]?.7678744063886243[Symbol.for("minus")]():-.7678744063886243)(),(()=>.6529563724510552[Symbol.for("minus")]?.6529563724510552[Symbol.for("minus")]():-.6529563724510552)(),(()=>.5415870994657841[Symbol.for("minus")]?.5415870994657841[Symbol.for("minus")]():-.5415870994657841)(),(()=>.4352842206588936[Symbol.for("minus")]?.4352842206588936[Symbol.for("minus")]():-.4352842206588936)(),(()=>.33504449124791424[Symbol.for("minus")]?.33504449124791424[Symbol.for("minus")]():-.33504449124791424)(),(()=>.24138853420685147[Symbol.for("minus")]?.24138853420685147[Symbol.for("minus")]():-.24138853420685147)(),(()=>.15445285440944467[Symbol.for("minus")]?.15445285440944467[Symbol.for("minus")]():-.15445285440944467)(),(()=>.07409659641336663[Symbol.for("minus")]?.07409659641336663[Symbol.for("minus")]():-.07409659641336663)(),0],[(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)(),(()=>.8786709358426346[Symbol.for("minus")]?.8786709358426346[Symbol.for("minus")]():-.8786709358426346)(),(()=>.7577735191184886[Symbol.for("minus")]?.7577735191184886[Symbol.for("minus")]():-.7577735191184886)(),(()=>.6399546189952064[Symbol.for("minus")]?.6399546189952064[Symbol.for("minus")]():-.6399546189952064)(),(()=>.527284921869926[Symbol.for("minus")]?.527284921869926[Symbol.for("minus")]():-.527284921869926)(),(()=>.4211627631006314[Symbol.for("minus")]?.4211627631006314[Symbol.for("minus")]():-.4211627631006314)(),(()=>.3223479611761232[Symbol.for("minus")]?.3223479611761232[Symbol.for("minus")]():-.3223479611761232)(),(()=>.23107655627789858[Symbol.for("minus")]?.23107655627789858[Symbol.for("minus")]():-.23107655627789858)(),(()=>.1472057700818259[Symbol.for("minus")]?.1472057700818259[Symbol.for("minus")]():-.1472057700818259)(),(()=>.07035171210706326[Symbol.for("minus")]?.07035171210706326[Symbol.for("minus")]():-.07035171210706326)(),0],[(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)(),(()=>.8740862815291583[Symbol.for("minus")]?.8740862815291583[Symbol.for("minus")]():-.8740862815291583)(),(()=>.7497032990976209[Symbol.for("minus")]?.7497032990976209[Symbol.for("minus")]():-.7497032990976209)(),(()=>.6297119746181752[Symbol.for("minus")]?.6297119746181752[Symbol.for("minus")]():-.6297119746181752)(),(()=>.5161838335958787[Symbol.for("minus")]?.5161838335958787[Symbol.for("minus")]():-.5161838335958787)(),(()=>.41036238255751956[Symbol.for("minus")]?.41036238255751956[Symbol.for("minus")]():-.41036238255751956)(),(()=>.31277212146489963[Symbol.for("minus")]?.31277212146489963[Symbol.for("minus")]():-.31277212146489963)(),(()=>.2233976621705518[Symbol.for("minus")]?.2233976621705518[Symbol.for("minus")]():-.2233976621705518)(),(()=>.1418697367979619[Symbol.for("minus")]?.1418697367979619[Symbol.for("minus")]():-.1418697367979619)(),(()=>.06762117662323441[Symbol.for("minus")]?.06762117662323441[Symbol.for("minus")]():-.06762117662323441)(),0],[(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)(),(()=>.8702632331800649[Symbol.for("minus")]?.8702632331800649[Symbol.for("minus")]():-.8702632331800649)(),(()=>.7430366914122081[Symbol.for("minus")]?.7430366914122081[Symbol.for("minus")]():-.7430366914122081)(),(()=>.6213373075161548[Symbol.for("minus")]?.6213373075161548[Symbol.for("minus")]():-.6213373075161548)(),(()=>.5072025698095242[Symbol.for("minus")]?.5072025698095242[Symbol.for("minus")]():-.5072025698095242)(),(()=>.40171437727184167[Symbol.for("minus")]?.40171437727184167[Symbol.for("minus")]():-.40171437727184167)(),(()=>.30517930701410456[Symbol.for("minus")]?.30517930701410456[Symbol.for("minus")]():-.30517930701410456)(),(()=>.21736343968190863[Symbol.for("minus")]?.21736343968190863[Symbol.for("minus")]():-.21736343968190863)(),(()=>.137710238299109[Symbol.for("minus")]?.137710238299109[Symbol.for("minus")]():-.137710238299109)(),(()=>.06550774483471955[Symbol.for("minus")]?.06550774483471955[Symbol.for("minus")]():-.06550774483471955)(),0],[(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)(),(()=>.8670016295947213[Symbol.for("minus")]?.8670016295947213[Symbol.for("minus")]():-.8670016295947213)(),(()=>.7373984232432306[Symbol.for("minus")]?.7373984232432306[Symbol.for("minus")]():-.7373984232432306)(),(()=>.6143173985094293[Symbol.for("minus")]?.6143173985094293[Symbol.for("minus")]():-.6143173985094293)(),(()=>.49973884395492807[Symbol.for("minus")]?.49973884395492807[Symbol.for("minus")]():-.49973884395492807)(),(()=>.394584953527678[Symbol.for("minus")]?.394584953527678[Symbol.for("minus")]():-.394584953527678)(),(()=>.2989649949848695[Symbol.for("minus")]?.2989649949848695[Symbol.for("minus")]():-.2989649949848695)(),(()=>.21245647317021688[Symbol.for("minus")]?.21245647317021688[Symbol.for("minus")]():-.21245647317021688)(),(()=>.13434688362382652[Symbol.for("minus")]?.13434688362382652[Symbol.for("minus")]():-.13434688362382652)(),(()=>.0638072667348083[Symbol.for("minus")]?.0638072667348083[Symbol.for("minus")]():-.0638072667348083)(),0],[(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)(),(()=>.8641642839543857[Symbol.for("minus")]?.8641642839543857[Symbol.for("minus")]():-.8641642839543857)(),(()=>.732534623168535[Symbol.for("minus")]?.732534623168535[Symbol.for("minus")]():-.732534623168535)(),(()=>.6083127477059322[Symbol.for("minus")]?.6083127477059322[Symbol.for("minus")]():-.6083127477059322)(),(()=>.4934049257184696[Symbol.for("minus")]?.4934049257184696[Symbol.for("minus")]():-.4934049257184696)(),(()=>.3885773075899922[Symbol.for("minus")]?.3885773075899922[Symbol.for("minus")]():-.3885773075899922)(),(()=>.29376029055315767[Symbol.for("minus")]?.29376029055315767[Symbol.for("minus")]():-.29376029055315767)(),(()=>.2083678561173622[Symbol.for("minus")]?.2083678561173622[Symbol.for("minus")]():-.2083678561173622)(),(()=>.13155653399373268[Symbol.for("minus")]?.13155653399373268[Symbol.for("minus")]():-.13155653399373268)(),(()=>.062401588652553186[Symbol.for("minus")]?.062401588652553186[Symbol.for("minus")]():-.062401588652553186)(),0]],Z=function(e){return _.fromValue_noAlloc(e)},E=function(e,o,l){return _.fromComponents(e,o,l)},C=function(e,o,l){return _.fromComponents_noNormalize(e,o,l)},T=function(e,o){const l=(()=>void 0!==o&&null!==o&&o[Symbol.for("+")]?o[Symbol.for("+")](1):o+1)(),t=Math.ceil(Math.log10(Math.abs(e))),r=(()=>void 0!==Math.round(e*Math.pow(10,l-t))&&null!==Math.round(e*Math.pow(10,l-t))&&Math.round(e*Math.pow(10,l-t))[Symbol.for("*")]?Math.round(e*Math.pow(10,l-t))[Symbol.for("*")](Math.pow(10,t-l)):Math.round(e*Math.pow(10,l-t))*Math.pow(10,t-l))();return parseFloat(r.toFixed(Math.max((()=>void 0!==l&&null!==l&&l[Symbol.for("-")]?l[Symbol.for("-")](t):l-t)(),0)))},B=function(e){return(()=>void 0!==Math.sign(e)&&null!==Math.sign(e)&&Math.sign(e)[Symbol.for("*")]?Math.sign(e)[Symbol.for("*")](Math.log10(Math.abs(e))):Math.sign(e)*Math.log10(Math.abs(e)))()},F=function(e){if((()=>void 0!==isFinite(e)&&null!==isFinite(e)&&isFinite(e)[Symbol.for("!")]?isFinite(e)[Symbol.for("!")]():!isFinite(e))())return e;if((()=>void 0!==e&&null!==e&&e[Symbol.for("<")]?e[Symbol.for("<")](-50):e<-50)())return e===Math.trunc(e)?Number.NEGATIVE_INFINITY:0;let o=1;while((()=>void 0!==e&&null!==e&&e[Symbol.for("<")]?e[Symbol.for("<")](10):e<10)())o=(()=>void 0!==o&&null!==o&&o[Symbol.for("*")]?o[Symbol.for("*")](e):o*e)(),(()=>{void 0!==e&&null!==e&&"object"===typeof e&&e[Symbol.for("prefix-increment")]?e[Symbol.for("prefix-increment")]():++e})();e=(()=>void 0!==e&&null!==e&&e[Symbol.for("-")]?e[Symbol.for("-")](1):e-1)();let l=.9189385332046727;l=(()=>void 0!==l&&null!==l&&l[Symbol.for("+")]?l[Symbol.for("+")]((e+.5)*Math.log(e)):l+(e+.5)*Math.log(e))(),l=(()=>void 0!==l&&null!==l&&l[Symbol.for("-")]?l[Symbol.for("-")](e):l-e)();const t=(()=>void 0!==e&&null!==e&&e[Symbol.for("*")]?e[Symbol.for("*")](e):e*e)();let r=e;return l=(()=>void 0!==l&&null!==l&&l[Symbol.for("+")]?l[Symbol.for("+")](1/(12*r)):l+1/(12*r))(),r=(()=>void 0!==r&&null!==r&&r[Symbol.for("*")]?r[Symbol.for("*")](t):r*t)(),l=(()=>void 0!==l&&null!==l&&l[Symbol.for("+")]?l[Symbol.for("+")](1/(360*r)):l+1/(360*r))(),r=(()=>void 0!==r&&null!==r&&r[Symbol.for("*")]?r[Symbol.for("*")](t):r*t)(),l=(()=>void 0!==l&&null!==l&&l[Symbol.for("+")]?l[Symbol.for("+")](1/(1260*r)):l+1/(1260*r))(),r=(()=>void 0!==r&&null!==r&&r[Symbol.for("*")]?r[Symbol.for("*")](t):r*t)(),l=(()=>void 0!==l&&null!==l&&l[Symbol.for("+")]?l[Symbol.for("+")](1/(1680*r)):l+1/(1680*r))(),r=(()=>void 0!==r&&null!==r&&r[Symbol.for("*")]?r[Symbol.for("*")](t):r*t)(),l=(()=>void 0!==l&&null!==l&&l[Symbol.for("+")]?l[Symbol.for("+")](1/(1188*r)):l+1/(1188*r))(),r=(()=>void 0!==r&&null!==r&&r[Symbol.for("*")]?r[Symbol.for("*")](t):r*t)(),l=(()=>void 0!==l&&null!==l&&l[Symbol.for("+")]?l[Symbol.for("+")](691/(360360*r)):l+691/(360360*r))(),r=(()=>void 0!==r&&null!==r&&r[Symbol.for("*")]?r[Symbol.for("*")](t):r*t)(),l=(()=>void 0!==l&&null!==l&&l[Symbol.for("+")]?l[Symbol.for("+")](7/(1092*r)):l+7/(1092*r))(),r=(()=>void 0!==r&&null!==r&&r[Symbol.for("*")]?r[Symbol.for("*")](t):r*t)(),l=(()=>void 0!==l&&null!==l&&l[Symbol.for("+")]?l[Symbol.for("+")](3617/(122400*r)):l+3617/(122400*r))(),(()=>void 0!==Math.exp(l)&&null!==Math.exp(l)&&Math.exp(l)[Symbol.for("/")]?Math.exp(l)[Symbol.for("/")](o):Math.exp(l)/o)()},D=.5671432904097838,I=function(e,o=1e-10){let l,t;if((()=>void 0!==Number.isFinite(e)&&null!==Number.isFinite(e)&&Number.isFinite(e)[Symbol.for("!")]?Number.isFinite(e)[Symbol.for("!")]():!Number.isFinite(e))())return e;if(0===e)return e;if(1===e)return D;l=(()=>void 0!==e&&null!==e&&e[Symbol.for("<")]?e[Symbol.for("<")](10):e<10)()?0:(()=>void 0!==Math.log(e)&&null!==Math.log(e)&&Math.log(e)[Symbol.for("-")]?Math.log(e)[Symbol.for("-")](Math.log(Math.log(e))):Math.log(e)-Math.log(Math.log(e)))();for(let r=0;(()=>void 0!==r&&null!==r&&r[Symbol.for("<")]?r[Symbol.for("<")](100):r<100)();(()=>void 0!==r&&null!==r&&"object"===typeof r&&r[Symbol.for("prefix-increment")]?r[Symbol.for("prefix-increment")]():++r)()){if(t=(()=>e*Math.exp(-l)+l*l!==void 0&&e*Math.exp(-l)+l*l!==null&&(e*Math.exp(-l)+l*l)[Symbol.for("/")]?(e*Math.exp(-l)+l*l)[Symbol.for("/")](l+1):(e*Math.exp(-l)+l*l)/(l+1))(),(()=>void 0!==Math.abs(t-l)&&null!==Math.abs(t-l)&&Math.abs(t-l)[Symbol.for("<")]?Math.abs(t-l)[Symbol.for("<")](o*Math.abs(t)):Math.abs(t-l)<o*Math.abs(t))())return t;l=t}throw Error(`Iteration failed to converge: ${e.toString()}`)};function q(e,o=1e-10){let l,t,r,i;if((()=>void 0!==Number.isFinite(e.mag)&&null!==Number.isFinite(e.mag)&&Number.isFinite(e.mag)[Symbol.for("!")]?Number.isFinite(e.mag)[Symbol.for("!")]():!Number.isFinite(e.mag))())return e;if(e===_.dZero)return e;if(e===_.dOne)return Z(D);_.abs(e);l=_.ln(e);for(let n=0;(()=>void 0!==n&&null!==n&&n[Symbol.for("<")]?n[Symbol.for("<")](100):n<100)();(()=>void 0!==n&&null!==n&&"object"===typeof n&&n[Symbol.for("prefix-increment")]?n[Symbol.for("prefix-increment")]():++n)()){if(t=_.exp((()=>void 0!==l&&null!==l&&l[Symbol.for("minus")]?l[Symbol.for("minus")]():-l)()),r=l.sub(e.mul(t)),i=l.sub(r.div(l.add(1).sub(l.add(2).mul(r).div(_.mul(2,l).add(2))))),_.abs(i.sub(l)).lt(_.abs(i).mul(o)))return i;l=i}throw Error(`Iteration failed to converge: ${e.toString()}`)}r=Symbol.for("+"),i=Symbol.for("-"),n=Symbol.for("*"),a=Symbol.for("/"),s=Symbol.for("minus"),u=Symbol.for("=="),m=Symbol.for(">"),c=Symbol.for("<"),f=Symbol.for(">="),d=Symbol.for("<="),y=Symbol.for("!=");class _{constructor(e){(0,t.Z)(this,"sign",Number.NaN),(0,t.Z)(this,"mag",Number.NaN),(0,t.Z)(this,"layer",Number.NaN),e instanceof _||(()=>void 0!==e&&null!==e&&e[Symbol.for("!=")]?e[Symbol.for("!=")](null):null!=e)()&&"object"===typeof e&&(()=>"sign"[Symbol.for("in")]?"sign"[Symbol.for("in")](e):"sign"in e)()&&(()=>"mag"[Symbol.for("in")]?"mag"[Symbol.for("in")](e):"mag"in e)()&&(()=>"layer"[Symbol.for("in")]?"layer"[Symbol.for("in")](e):"layer"in e)()?this.fromDecimal(e):"number"===typeof e?this.fromNumber(e):"string"===typeof e?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0)}get m(){if(0===this.sign)return 0;if(0===this.layer){const e=Math.floor(Math.log10(this.mag));let o;return o=5e-324===this.mag?5:(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("/")]?this.mag[Symbol.for("/")](V(e)):this.mag/V(e))(),(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](o):this.sign*o)()}if(1===this.layer){const e=(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("-")]?this.mag[Symbol.for("-")](Math.floor(this.mag)):this.mag-Math.floor(this.mag))();return(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](Math.pow(10,e)):this.sign*Math.pow(10,e))()}return this.sign}set m(e){(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("<=")]?this.layer[Symbol.for("<=")](2):this.layer<=2)()?this.fromMantissaExponent(e,this.e):(this.sign=Math.sign(e),0===this.sign&&(this.layer,this.exponent))}get e(){return 0===this.sign?0:0===this.layer?Math.floor(Math.log10(this.mag)):1===this.layer?Math.floor(this.mag):2===this.layer?Math.floor((()=>void 0!==Math.sign(this.mag)&&null!==Math.sign(this.mag)&&Math.sign(this.mag)[Symbol.for("*")]?Math.sign(this.mag)[Symbol.for("*")](Math.pow(10,Math.abs(this.mag))):Math.sign(this.mag)*Math.pow(10,Math.abs(this.mag)))()):(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("*")]?this.mag[Symbol.for("*")](Number.POSITIVE_INFINITY):this.mag*Number.POSITIVE_INFINITY)()}set e(e){this.fromMantissaExponent(this.m,e)}get s(){return this.sign}set s(e){0===e?(this.sign=0,this.layer=0,this.mag=0):this.sign=e}get mantissa(){return this.m}set mantissa(e){this.m=e}get exponent(){return this.e}set exponent(e){this.e=e}static fromComponents(e,o,l){return(new _).fromComponents(e,o,l)}static fromComponents_noNormalize(e,o,l){return(new _).fromComponents_noNormalize(e,o,l)}static fromMantissaExponent(e,o){return(new _).fromMantissaExponent(e,o)}static fromMantissaExponent_noNormalize(e,o){return(new _).fromMantissaExponent_noNormalize(e,o)}static fromDecimal(e){return(new _).fromDecimal(e)}static fromNumber(e){return(new _).fromNumber(e)}static fromString(e){return(new _).fromString(e)}static fromValue(e){return(new _).fromValue(e)}static fromValue_noAlloc(e){return e instanceof _?e:new _(e)}static abs(e){return Z(e).abs()}static neg(e){return Z(e).neg()}static negate(e){return Z(e).neg()}static negated(e){return Z(e).neg()}static sign(e){return Z(e).sign}static sgn(e){return Z(e).sign}static round(e){return Z(e).round()}static floor(e){return Z(e).floor()}static ceil(e){return Z(e).ceil()}static trunc(e){return Z(e).trunc()}static add(e,o){return Z(e).add(o)}static plus(e,o){return Z(e).add(o)}static sub(e,o){return Z(e).sub(o)}static subtract(e,o){return Z(e).sub(o)}static minus(e,o){return Z(e).sub(o)}static mul(e,o){return Z(e).mul(o)}static multiply(e,o){return Z(e).mul(o)}static times(e,o){return Z(e).mul(o)}static div(e,o){return Z(e).div(o)}static divide(e,o){return Z(e).div(o)}static recip(e){return Z(e).recip()}static reciprocal(e){return Z(e).recip()}static reciprocate(e){return Z(e).reciprocate()}static cmp(e,o){return Z(e).cmp(o)}static cmpabs(e,o){return Z(e).cmpabs(o)}static compare(e,o){return Z(e).cmp(o)}static isNaN(e){return e=Z(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag)}static isFinite(e){return e=Z(e),isFinite(e.sign)&&isFinite(e.layer)&&isFinite(e.mag)}static eq(e,o){return Z(e).eq(o)}static equals(e,o){return Z(e).eq(o)}static neq(e,o){return Z(e).neq(o)}static notEquals(e,o){return Z(e).notEquals(o)}static lt(e,o){return Z(e).lt(o)}static lte(e,o){return Z(e).lte(o)}static gt(e,o){return Z(e).gt(o)}static gte(e,o){return Z(e).gte(o)}static max(e,o){return Z(e).max(o)}static min(e,o){return Z(e).min(o)}static minabs(e,o){return Z(e).minabs(o)}static maxabs(e,o){return Z(e).maxabs(o)}static clamp(e,o,l){return Z(e).clamp(o,l)}static clampMin(e,o){return Z(e).clampMin(o)}static clampMax(e,o){return Z(e).clampMax(o)}static cmp_tolerance(e,o,l){return Z(e).cmp_tolerance(o,l)}static compare_tolerance(e,o,l){return Z(e).cmp_tolerance(o,l)}static eq_tolerance(e,o,l){return Z(e).eq_tolerance(o,l)}static equals_tolerance(e,o,l){return Z(e).eq_tolerance(o,l)}static neq_tolerance(e,o,l){return Z(e).neq_tolerance(o,l)}static notEquals_tolerance(e,o,l){return Z(e).notEquals_tolerance(o,l)}static lt_tolerance(e,o,l){return Z(e).lt_tolerance(o,l)}static lte_tolerance(e,o,l){return Z(e).lte_tolerance(o,l)}static gt_tolerance(e,o,l){return Z(e).gt_tolerance(o,l)}static gte_tolerance(e,o,l){return Z(e).gte_tolerance(o,l)}static pLog10(e){return Z(e).pLog10()}static absLog10(e){return Z(e).absLog10()}static log10(e){return Z(e).log10()}static log(e,o){return Z(e).log(o)}static log2(e){return Z(e).log2()}static ln(e){return Z(e).ln()}static logarithm(e,o){return Z(e).logarithm(o)}static pow(e,o){return Z(e).pow(o)}static pow10(e){return Z(e).pow10()}static root(e,o){return Z(e).root(o)}static factorial(e,o){return Z(e).factorial()}static gamma(e,o){return Z(e).gamma()}static lngamma(e,o){return Z(e).lngamma()}static exp(e){return Z(e).exp()}static sqr(e){return Z(e).sqr()}static sqrt(e){return Z(e).sqrt()}static cube(e){return Z(e).cube()}static cbrt(e){return Z(e).cbrt()}static tetrate(e,o=2,l=C(1,0,1)){return Z(e).tetrate(o,l)}static iteratedexp(e,o=2,l=C(1,0,1)){return Z(e).iteratedexp(o,l)}static iteratedlog(e,o=10,l=1){return Z(e).iteratedlog(o,l)}static layeradd10(e,o){return Z(e).layeradd10(o)}static layeradd(e,o,l=10){return Z(e).layeradd(o,l)}static slog(e,o=10){return Z(e).slog(o)}static lambertw(e){return Z(e).lambertw()}static ssqrt(e){return Z(e).ssqrt()}static pentate(e,o=2,l=C(1,0,1)){return Z(e).pentate(o,l)}static affordGeometricSeries(e,o,l,t){return this.affordGeometricSeries_core(Z(e),Z(o),Z(l),t)}static sumGeometricSeries(e,o,l,t){return this.sumGeometricSeries_core(e,Z(o),Z(l),t)}static affordArithmeticSeries(e,o,l,t){return this.affordArithmeticSeries_core(Z(e),Z(o),Z(l),Z(t))}static sumArithmeticSeries(e,o,l,t){return this.sumArithmeticSeries_core(Z(e),Z(o),Z(l),Z(t))}static efficiencyOfPurchase(e,o,l){return this.efficiencyOfPurchase_core(Z(e),Z(o),Z(l))}static randomDecimalForTesting(e){if((()=>20*Math.random()!==void 0&&20*Math.random()!==null&&(20*Math.random())[Symbol.for("<")]?(20*Math.random())[Symbol.for("<")](1):20*Math.random()<1)())return C(0,0,0);const o=(()=>void 0!==Math.random()&&null!==Math.random()&&Math.random()[Symbol.for(">")]?Math.random()[Symbol.for(">")](.5):Math.random()>.5)()?1:(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)();if((()=>20*Math.random()!==void 0&&20*Math.random()!==null&&(20*Math.random())[Symbol.for("<")]?(20*Math.random())[Symbol.for("<")](1):20*Math.random()<1)())return C(o,0,1);const l=Math.floor((()=>void 0!==Math.random()&&null!==Math.random()&&Math.random()[Symbol.for("*")]?Math.random()[Symbol.for("*")](e+1):Math.random()*(e+1))());let t=0===l?(()=>616*Math.random()!==void 0&&616*Math.random()!==null&&(616*Math.random())[Symbol.for("-")]?(616*Math.random())[Symbol.for("-")](308):616*Math.random()-308)():(()=>void 0!==Math.random()&&null!==Math.random()&&Math.random()[Symbol.for("*")]?Math.random()[Symbol.for("*")](16):16*Math.random())();(()=>void 0!==Math.random()&&null!==Math.random()&&Math.random()[Symbol.for(">")]?Math.random()[Symbol.for(">")](.9):Math.random()>.9)()&&(t=Math.trunc(t));let r=Math.pow(10,t);return(()=>void 0!==Math.random()&&null!==Math.random()&&Math.random()[Symbol.for(">")]?Math.random()[Symbol.for(">")](.9):Math.random()>.9)()&&(r=Math.trunc(r)),E(o,l,r)}static affordGeometricSeries_core(e,o,l,t){const r=o.mul(l.pow(t));return _.floor(e.div(r).mul(l.sub(1)).add(1).log10().div(l.log10()))}static sumGeometricSeries_core(e,o,l,t){return o.mul(l.pow(t)).mul(_.sub(1,l.pow(e))).div(_.sub(1,l))}static affordArithmeticSeries_core(e,o,l,t){const r=o.add(t.mul(l)),i=r.sub(l.div(2)),n=i.pow(2);return i.neg().add(n.add(l.mul(e).mul(2)).sqrt()).div(l).floor()}static sumArithmeticSeries_core(e,o,l,t){const r=o.add(t.mul(l));return e.div(2).mul(r.mul(2).plus(e.sub(1).mul(l)))}static efficiencyOfPurchase_core(e,o,l){return e.div(o).add(e.div(l))}[r](e){return this.add(e)}[i](e){return this.sub(e)}[n](e){return this.times(e)}[a](e){return this.div(e)}[s](){return this.neg()}[u](e){return this.eq(e)}[m](e){return this.gt(e)}[c](e){return this.lt(e)}[f](e){return this.gte(e)}[d](e){return this.lte(e)}[y](e){return this.neq(e)}normalize(){if(0===this.sign||0===this.mag&&0===this.layer)return this.sign=0,this.mag=0,this.layer=0,this;if(0===this.layer&&(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)()&&(this.mag=(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("minus")]?this.mag[Symbol.for("minus")]():-this.mag)(),this.sign=(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("minus")]?this.sign[Symbol.for("minus")]():-this.sign)()),0===this.layer&&(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](v):this.mag<v)())return this.layer=(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("+")]?this.layer[Symbol.for("+")](1):this.layer+1)(),this.mag=Math.log10(this.mag),this;let e=Math.abs(this.mag),o=Math.sign(this.mag);if((()=>void 0!==e&&null!==e&&e[Symbol.for(">=")]?e[Symbol.for(">=")](h):e>=h)())return this.layer=(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("+")]?this.layer[Symbol.for("+")](1):this.layer+1)(),this.mag=(()=>void 0!==o&&null!==o&&o[Symbol.for("*")]?o[Symbol.for("*")](Math.log10(e)):o*Math.log10(e))(),this;while((()=>void 0!==e&&null!==e&&e[Symbol.for("<")]?e[Symbol.for("<")](p):e<p)()&&(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for(">")]?this.layer[Symbol.for(">")](0):this.layer>0)())this.layer=(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("-")]?this.layer[Symbol.for("-")](1):this.layer-1)(),0===this.layer?this.mag=Math.pow(10,this.mag):(this.mag=(()=>void 0!==o&&null!==o&&o[Symbol.for("*")]?o[Symbol.for("*")](Math.pow(10,e)):o*Math.pow(10,e))(),e=Math.abs(this.mag),o=Math.sign(this.mag));return 0===this.layer&&((()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)()?(this.mag=(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("minus")]?this.mag[Symbol.for("minus")]():-this.mag)(),this.sign=(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("minus")]?this.sign[Symbol.for("minus")]():-this.sign)()):0===this.mag&&(this.sign=0)),this}fromComponents(e,o,l){return this.sign=e,this.layer=o,this.mag=l,this.normalize(),this}fromComponents_noNormalize(e,o,l){return this.sign=e,this.layer=o,this.mag=l,this}fromMantissaExponent(e,o){return this.layer=1,this.sign=Math.sign(e),e=Math.abs(e),this.mag=(()=>void 0!==o&&null!==o&&o[Symbol.for("+")]?o[Symbol.for("+")](Math.log10(e)):o+Math.log10(e))(),this.normalize(),this}fromMantissaExponent_noNormalize(e,o){return this.fromMantissaExponent(e,o),this}fromDecimal(e){return this.sign=e.sign,this.layer=e.layer,this.mag=e.mag,this}fromNumber(e){return this.mag=Math.abs(e),this.sign=Math.sign(e),this.layer=0,this.normalize(),this}fromString(e){k?e=e.replace(",",""):x&&(e=e.replace(",","."));const o=e.split("^^^");if(2===o.length){const e=parseFloat(o[0]),l=parseFloat(o[1]),t=o[1].split(";");let r=1;if(2===t.length&&(r=parseFloat(t[1]),(()=>void 0!==isFinite(r)&&null!==isFinite(r)&&isFinite(r)[Symbol.for("!")]?isFinite(r)[Symbol.for("!")]():!isFinite(r))()&&(r=1)),isFinite(e)&&isFinite(l)){const o=_.pentate(e,l,r);return this.sign=o.sign,this.layer=o.layer,this.mag=o.mag,this}}const l=e.split("^^");if(2===l.length){const e=parseFloat(l[0]),o=parseFloat(l[1]),t=l[1].split(";");let r=1;if(2===t.length&&(r=parseFloat(t[1]),(()=>void 0!==isFinite(r)&&null!==isFinite(r)&&isFinite(r)[Symbol.for("!")]?isFinite(r)[Symbol.for("!")]():!isFinite(r))()&&(r=1)),isFinite(e)&&isFinite(o)){const l=_.tetrate(e,o,r);return this.sign=l.sign,this.layer=l.layer,this.mag=l.mag,this}}const t=e.split("^");if(2===t.length){const e=parseFloat(t[0]),o=parseFloat(t[1]);if(isFinite(e)&&isFinite(o)){const l=_.pow(e,o);return this.sign=l.sign,this.layer=l.layer,this.mag=l.mag,this}}let r,i;e=e.trim().toLowerCase();let n=e.split("pt");if(2===n.length){r=10,i=parseFloat(n[0]),n[1]=n[1].replace("(",""),n[1]=n[1].replace(")","");let e=parseFloat(n[1]);if((()=>void 0!==isFinite(e)&&null!==isFinite(e)&&isFinite(e)[Symbol.for("!")]?isFinite(e)[Symbol.for("!")]():!isFinite(e))()&&(e=1),isFinite(r)&&isFinite(i)){const o=_.tetrate(r,i,e);return this.sign=o.sign,this.layer=o.layer,this.mag=o.mag,this}}if(n=e.split("p"),2===n.length){r=10,i=parseFloat(n[0]),n[1]=n[1].replace("(",""),n[1]=n[1].replace(")","");let e=parseFloat(n[1]);if((()=>void 0!==isFinite(e)&&null!==isFinite(e)&&isFinite(e)[Symbol.for("!")]?isFinite(e)[Symbol.for("!")]():!isFinite(e))()&&(e=1),isFinite(r)&&isFinite(i)){const o=_.tetrate(r,i,e);return this.sign=o.sign,this.layer=o.layer,this.mag=o.mag,this}}const a=e.split("e"),s=(()=>void 0!==a.length&&null!==a.length&&a.length[Symbol.for("-")]?a.length[Symbol.for("-")](1):a.length-1)();if(0===s){const o=parseFloat(e);if(isFinite(o))return this.fromNumber(o)}else if(1===s){const o=parseFloat(e);if(isFinite(o)&&(()=>void 0!==o&&null!==o&&o[Symbol.for("!==")]?o[Symbol.for("!==")](0):0!==o)())return this.fromNumber(o)}const u=e.split("e^");if(2===u.length){this.sign=1,(()=>void 0!==u[0].charAt(0)&&null!==u[0].charAt(0)&&u[0].charAt(0)[Symbol.for("==")]?u[0].charAt(0)[Symbol.for("==")]("-"):"-"==u[0].charAt(0))()&&(this.sign=(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)());let e="";for(let o=0;(()=>void 0!==o&&null!==o&&o[Symbol.for("<")]?o[Symbol.for("<")](u[1].length):o<u[1].length)();(()=>void 0!==o&&null!==o&&"object"===typeof o&&o[Symbol.for("prefix-increment")]?o[Symbol.for("prefix-increment")]():++o)()){const l=u[1].charCodeAt(o);if(!((()=>void 0!==l&&null!==l&&l[Symbol.for(">=")]?l[Symbol.for(">=")](43):l>=43)()&&(()=>void 0!==l&&null!==l&&l[Symbol.for("<=")]?l[Symbol.for("<=")](57):l<=57)()||101===l))return this.layer=parseFloat(e),this.mag=parseFloat(u[1].substr((()=>void 0!==o&&null!==o&&o[Symbol.for("+")]?o[Symbol.for("+")](1):o+1)())),this.normalize(),this;e=(()=>void 0!==e&&null!==e&&e[Symbol.for("+")]?e[Symbol.for("+")](u[1].charAt(o)):e+u[1].charAt(o))()}}if((()=>void 0!==s&&null!==s&&s[Symbol.for("<")]?s[Symbol.for("<")](1):s<1)())return this.sign=0,this.layer=0,this.mag=0,this;const m=parseFloat(a[0]);if(0===m)return this.sign=0,this.layer=0,this.mag=0,this;let c=parseFloat(a[(()=>void 0!==a.length&&null!==a.length&&a.length[Symbol.for("-")]?a.length[Symbol.for("-")](1):a.length-1)()]);if((()=>void 0!==s&&null!==s&&s[Symbol.for(">=")]?s[Symbol.for(">=")](2):s>=2)()){const e=parseFloat(a[(()=>void 0!==a.length&&null!==a.length&&a.length[Symbol.for("-")]?a.length[Symbol.for("-")](2):a.length-2)()]);isFinite(e)&&(c=(()=>void 0!==c&&null!==c&&c[Symbol.for("*")]?c[Symbol.for("*")](Math.sign(e)):c*Math.sign(e))(),c=(()=>void 0!==c&&null!==c&&c[Symbol.for("+")]?c[Symbol.for("+")](B(e)):c+B(e))())}if((()=>void 0!==isFinite(m)&&null!==isFinite(m)&&isFinite(m)[Symbol.for("!")]?isFinite(m)[Symbol.for("!")]():!isFinite(m))())this.sign="-"===a[0]?(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)():1,this.layer=s,this.mag=c;else if(1===s)this.sign=Math.sign(m),this.layer=1,this.mag=(()=>void 0!==c&&null!==c&&c[Symbol.for("+")]?c[Symbol.for("+")](Math.log10(Math.abs(m))):c+Math.log10(Math.abs(m)))();else{if(this.sign=Math.sign(m),this.layer=s,2===s){const e=_.mul(E(1,2,c),Z(m));return this.sign=e.sign,this.layer=e.layer,this.mag=e.mag,this}this.mag=c}return this.normalize(),this}fromValue(e){return e instanceof _||(()=>void 0!==e&&null!==e&&e[Symbol.for("!=")]?e[Symbol.for("!=")](null):null!=e)()&&"object"===typeof e&&(()=>"sign"[Symbol.for("in")]?"sign"[Symbol.for("in")](e):"sign"in e)()&&(()=>"mag"[Symbol.for("in")]?"mag"[Symbol.for("in")](e):"mag"in e)()&&(()=>"layer"[Symbol.for("in")]?"layer"[Symbol.for("in")](e):"layer"in e)()?this.fromDecimal(e):"number"===typeof e?this.fromNumber(e):"string"===typeof e?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0,this)}toNumber(){return(()=>void 0!==Number.isFinite(this.layer)&&null!==Number.isFinite(this.layer)&&Number.isFinite(this.layer)[Symbol.for("!")]?Number.isFinite(this.layer)[Symbol.for("!")]():!Number.isFinite(this.layer))()?Number.NaN:0===this.layer?(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.mag):this.sign*this.mag)():1===this.layer?(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](Math.pow(10,this.mag)):this.sign*Math.pow(10,this.mag))():(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for(">")]?this.mag[Symbol.for(">")](0):this.mag>0)()?(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for(">")]?this.sign[Symbol.for(">")](0):this.sign>0)()?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:0}mantissaWithDecimalPlaces(e){return isNaN(this.m)?Number.NaN:0===this.m?0:T(this.m,e)}magnitudeWithDecimalPlaces(e){return isNaN(this.mag)?Number.NaN:0===this.mag?0:T(this.mag,e)}toString(){return isNaN(this.layer)||isNaN(this.sign)||isNaN(this.mag)?"NaN":this.mag===Number.POSITIVE_INFINITY||this.layer===Number.POSITIVE_INFINITY?1===this.sign?"Infinity":"-Infinity":0===this.layer?(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](1e21):this.mag<1e21)()&&(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for(">")]?this.mag[Symbol.for(">")](1e-7):this.mag>1e-7)()||0===this.mag?(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.mag):this.sign*this.mag)().toString():(()=>this.m+"e"!==void 0&&this.m+"e"!==null&&(this.m+"e")[Symbol.for("+")]?(this.m+"e")[Symbol.for("+")](this.e):this.m+"e"+this.e)():1===this.layer?(()=>this.m+"e"!==void 0&&this.m+"e"!==null&&(this.m+"e")[Symbol.for("+")]?(this.m+"e")[Symbol.for("+")](this.e):this.m+"e"+this.e)():(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("<=")]?this.layer[Symbol.for("<=")](N):this.layer<=N)()?(()=>(-1===this.sign?"-":"")+"e".repeat(this.layer)!==void 0&&(-1===this.sign?"-":"")+"e".repeat(this.layer)!==null&&((-1===this.sign?"-":"")+"e".repeat(this.layer))[Symbol.for("+")]?((-1===this.sign?"-":"")+"e".repeat(this.layer))[Symbol.for("+")](this.mag):(-1===this.sign?"-":"")+"e".repeat(this.layer)+this.mag)():(()=>(-1===this.sign?"-":"")+"(e^"+this.layer+")"!==void 0&&(-1===this.sign?"-":"")+"(e^"+this.layer+")"!==null&&((-1===this.sign?"-":"")+"(e^"+this.layer+")")[Symbol.for("+")]?((-1===this.sign?"-":"")+"(e^"+this.layer+")")[Symbol.for("+")](this.mag):(-1===this.sign?"-":"")+"(e^"+this.layer+")"+this.mag)()}toExponential(e){return 0===this.layer?(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.mag):this.sign*this.mag)().toExponential(e):this.toStringWithDecimalPlaces(e)}toFixed(e){return 0===this.layer?(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.mag):this.sign*this.mag)().toFixed(e):this.toStringWithDecimalPlaces(e)}toPrecision(e){return(()=>void 0!==this.e&&null!==this.e&&this.e[Symbol.for("<=")]?this.e[Symbol.for("<=")](-7):this.e<=-7)()?this.toExponential((()=>void 0!==e&&null!==e&&e[Symbol.for("-")]?e[Symbol.for("-")](1):e-1)()):(()=>void 0!==e&&null!==e&&e[Symbol.for(">")]?e[Symbol.for(">")](this.e):e>this.e)()?this.toFixed((()=>e-this.exponent!==void 0&&e-this.exponent!==null&&(e-this.exponent)[Symbol.for("-")]?(e-this.exponent)[Symbol.for("-")](1):e-this.exponent-1)()):this.toExponential((()=>void 0!==e&&null!==e&&e[Symbol.for("-")]?e[Symbol.for("-")](1):e-1)())}valueOf(){return this.toString()}toJSON(){return this.toString()}toStringWithDecimalPlaces(e){return 0===this.layer?(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](1e21):this.mag<1e21)()&&(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for(">")]?this.mag[Symbol.for(">")](1e-7):this.mag>1e-7)()||0===this.mag?(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.mag):this.sign*this.mag)().toFixed(e):(()=>T(this.m,e)+"e"!==void 0&&T(this.m,e)+"e"!==null&&(T(this.m,e)+"e")[Symbol.for("+")]?(T(this.m,e)+"e")[Symbol.for("+")](T(this.e,e)):T(this.m,e)+"e"+T(this.e,e))():1===this.layer?(()=>T(this.m,e)+"e"!==void 0&&T(this.m,e)+"e"!==null&&(T(this.m,e)+"e")[Symbol.for("+")]?(T(this.m,e)+"e")[Symbol.for("+")](T(this.e,e)):T(this.m,e)+"e"+T(this.e,e))():(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("<=")]?this.layer[Symbol.for("<=")](N):this.layer<=N)()?(()=>(-1===this.sign?"-":"")+"e".repeat(this.layer)!==void 0&&(-1===this.sign?"-":"")+"e".repeat(this.layer)!==null&&((-1===this.sign?"-":"")+"e".repeat(this.layer))[Symbol.for("+")]?((-1===this.sign?"-":"")+"e".repeat(this.layer))[Symbol.for("+")](T(this.mag,e)):(-1===this.sign?"-":"")+"e".repeat(this.layer)+T(this.mag,e))():(()=>(-1===this.sign?"-":"")+"(e^"+this.layer+")"!==void 0&&(-1===this.sign?"-":"")+"(e^"+this.layer+")"!==null&&((-1===this.sign?"-":"")+"(e^"+this.layer+")")[Symbol.for("+")]?((-1===this.sign?"-":"")+"(e^"+this.layer+")")[Symbol.for("+")](T(this.mag,e)):(-1===this.sign?"-":"")+"(e^"+this.layer+")"+T(this.mag,e))()}abs(){return C(0===this.sign?0:1,this.layer,this.mag)}neg(){return C((()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("minus")]?this.sign[Symbol.for("minus")]():-this.sign)(),this.layer,this.mag)}negate(){return this.neg()}negated(){return this.neg()}sgn(){return this.sign}round(){return(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)()?_.dZero:0===this.layer?E(this.sign,0,Math.round(this.mag)):this}floor(){return(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)()?_.dZero:0===this.layer?E(this.sign,0,Math.floor(this.mag)):this}ceil(){return(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)()?_.dZero:0===this.layer?E(this.sign,0,Math.ceil(this.mag)):this}trunc(){return(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)()?_.dZero:0===this.layer?E(this.sign,0,Math.trunc(this.mag)):this}add(e){const o=Z(e);if((()=>void 0!==Number.isFinite(this.layer)&&null!==Number.isFinite(this.layer)&&Number.isFinite(this.layer)[Symbol.for("!")]?Number.isFinite(this.layer)[Symbol.for("!")]():!Number.isFinite(this.layer))())return this;if((()=>void 0!==Number.isFinite(o.layer)&&null!==Number.isFinite(o.layer)&&Number.isFinite(o.layer)[Symbol.for("!")]?Number.isFinite(o.layer)[Symbol.for("!")]():!Number.isFinite(o.layer))())return o;if(0===this.sign)return o;if(0===o.sign)return this;if(this.sign===(()=>void 0!==o.sign&&null!==o.sign&&o.sign[Symbol.for("minus")]?o.sign[Symbol.for("minus")]():-o.sign)()&&this.layer===o.layer&&this.mag===o.mag)return C(0,0,0);let l,t;if((()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for(">=")]?this.layer[Symbol.for(">=")](2):this.layer>=2)()||(()=>void 0!==o.layer&&null!==o.layer&&o.layer[Symbol.for(">=")]?o.layer[Symbol.for(">=")](2):o.layer>=2)())return this.maxabs(o);if((()=>void 0!==_.cmpabs(this,o)&&null!==_.cmpabs(this,o)&&_.cmpabs(this,o)[Symbol.for(">")]?_.cmpabs(this,o)[Symbol.for(">")](0):_.cmpabs(this,o)>0)()?(l=this,t=o):(l=o,t=this),0===l.layer&&0===t.layer)return Z((()=>l.sign*l.mag!==void 0&&l.sign*l.mag!==null&&(l.sign*l.mag)[Symbol.for("+")]?(l.sign*l.mag)[Symbol.for("+")](t.sign*t.mag):l.sign*l.mag+t.sign*t.mag)());const r=(()=>void 0!==l.layer&&null!==l.layer&&l.layer[Symbol.for("*")]?l.layer[Symbol.for("*")](Math.sign(l.mag)):l.layer*Math.sign(l.mag))(),i=(()=>void 0!==t.layer&&null!==t.layer&&t.layer[Symbol.for("*")]?t.layer[Symbol.for("*")](Math.sign(t.mag)):t.layer*Math.sign(t.mag))();if((()=>r-i!==void 0&&r-i!==null&&(r-i)[Symbol.for(">=")]?(r-i)[Symbol.for(">=")](2):r-i>=2)())return l;if(0===r&&i===(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()){if((()=>void 0!==Math.abs(t.mag-Math.log10(l.mag))&&null!==Math.abs(t.mag-Math.log10(l.mag))&&Math.abs(t.mag-Math.log10(l.mag))[Symbol.for(">")]?Math.abs(t.mag-Math.log10(l.mag))[Symbol.for(">")](b):Math.abs(t.mag-Math.log10(l.mag))>b)())return l;{const e=Math.pow(10,(()=>void 0!==Math.log10(l.mag)&&null!==Math.log10(l.mag)&&Math.log10(l.mag)[Symbol.for("-")]?Math.log10(l.mag)[Symbol.for("-")](t.mag):Math.log10(l.mag)-t.mag)()),o=(()=>void 0!==t.sign&&null!==t.sign&&t.sign[Symbol.for("+")]?t.sign[Symbol.for("+")](l.sign*e):t.sign+l.sign*e)();return E(Math.sign(o),1,(()=>void 0!==t.mag&&null!==t.mag&&t.mag[Symbol.for("+")]?t.mag[Symbol.for("+")](Math.log10(Math.abs(o))):t.mag+Math.log10(Math.abs(o)))())}}if(1===r&&0===i){if((()=>void 0!==Math.abs(l.mag-Math.log10(t.mag))&&null!==Math.abs(l.mag-Math.log10(t.mag))&&Math.abs(l.mag-Math.log10(t.mag))[Symbol.for(">")]?Math.abs(l.mag-Math.log10(t.mag))[Symbol.for(">")](b):Math.abs(l.mag-Math.log10(t.mag))>b)())return l;{const e=Math.pow(10,(()=>void 0!==l.mag&&null!==l.mag&&l.mag[Symbol.for("-")]?l.mag[Symbol.for("-")](Math.log10(t.mag)):l.mag-Math.log10(t.mag))()),o=(()=>void 0!==t.sign&&null!==t.sign&&t.sign[Symbol.for("+")]?t.sign[Symbol.for("+")](l.sign*e):t.sign+l.sign*e)();return E(Math.sign(o),1,(()=>void 0!==Math.log10(t.mag)&&null!==Math.log10(t.mag)&&Math.log10(t.mag)[Symbol.for("+")]?Math.log10(t.mag)[Symbol.for("+")](Math.log10(Math.abs(o))):Math.log10(t.mag)+Math.log10(Math.abs(o)))())}}if((()=>void 0!==Math.abs(l.mag-t.mag)&&null!==Math.abs(l.mag-t.mag)&&Math.abs(l.mag-t.mag)[Symbol.for(">")]?Math.abs(l.mag-t.mag)[Symbol.for(">")](b):Math.abs(l.mag-t.mag)>b)())return l;{const e=Math.pow(10,(()=>void 0!==l.mag&&null!==l.mag&&l.mag[Symbol.for("-")]?l.mag[Symbol.for("-")](t.mag):l.mag-t.mag)()),o=(()=>void 0!==t.sign&&null!==t.sign&&t.sign[Symbol.for("+")]?t.sign[Symbol.for("+")](l.sign*e):t.sign+l.sign*e)();return E(Math.sign(o),1,(()=>void 0!==t.mag&&null!==t.mag&&t.mag[Symbol.for("+")]?t.mag[Symbol.for("+")](Math.log10(Math.abs(o))):t.mag+Math.log10(Math.abs(o)))())}}plus(e){return this.add(e)}sub(e){return this.add(Z(e).neg())}subtract(e){return this.sub(e)}minus(e){return this.sub(e)}mul(e){const o=Z(e);if((()=>void 0!==Number.isFinite(this.layer)&&null!==Number.isFinite(this.layer)&&Number.isFinite(this.layer)[Symbol.for("!")]?Number.isFinite(this.layer)[Symbol.for("!")]():!Number.isFinite(this.layer))())return this;if((()=>void 0!==Number.isFinite(o.layer)&&null!==Number.isFinite(o.layer)&&Number.isFinite(o.layer)[Symbol.for("!")]?Number.isFinite(o.layer)[Symbol.for("!")]():!Number.isFinite(o.layer))())return o;if(0===this.sign||0===o.sign)return C(0,0,0);if(this.layer===o.layer&&this.mag===(()=>void 0!==o.mag&&null!==o.mag&&o.mag[Symbol.for("minus")]?o.mag[Symbol.for("minus")]():-o.mag)())return C((()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](o.sign):this.sign*o.sign)(),0,1);let l,t;if((()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for(">")]?this.layer[Symbol.for(">")](o.layer):this.layer>o.layer)()||(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("==")]?this.layer[Symbol.for("==")](o.layer):this.layer==o.layer)()&&(()=>void 0!==Math.abs(this.mag)&&null!==Math.abs(this.mag)&&Math.abs(this.mag)[Symbol.for(">")]?Math.abs(this.mag)[Symbol.for(">")](Math.abs(o.mag)):Math.abs(this.mag)>Math.abs(o.mag))()?(l=this,t=o):(l=o,t=this),0===l.layer&&0===t.layer)return Z((()=>l.sign*t.sign*l.mag!==void 0&&l.sign*t.sign*l.mag!==null&&(l.sign*t.sign*l.mag)[Symbol.for("*")]?(l.sign*t.sign*l.mag)[Symbol.for("*")](t.mag):l.sign*t.sign*l.mag*t.mag)());if((()=>void 0!==l.layer&&null!==l.layer&&l.layer[Symbol.for(">=")]?l.layer[Symbol.for(">=")](3):l.layer>=3)()||(()=>l.layer-t.layer!==void 0&&l.layer-t.layer!==null&&(l.layer-t.layer)[Symbol.for(">=")]?(l.layer-t.layer)[Symbol.for(">=")](2):l.layer-t.layer>=2)())return E((()=>void 0!==l.sign&&null!==l.sign&&l.sign[Symbol.for("*")]?l.sign[Symbol.for("*")](t.sign):l.sign*t.sign)(),l.layer,l.mag);if(1===l.layer&&0===t.layer)return E((()=>void 0!==l.sign&&null!==l.sign&&l.sign[Symbol.for("*")]?l.sign[Symbol.for("*")](t.sign):l.sign*t.sign)(),1,(()=>void 0!==l.mag&&null!==l.mag&&l.mag[Symbol.for("+")]?l.mag[Symbol.for("+")](Math.log10(t.mag)):l.mag+Math.log10(t.mag))());if(1===l.layer&&1===t.layer)return E((()=>void 0!==l.sign&&null!==l.sign&&l.sign[Symbol.for("*")]?l.sign[Symbol.for("*")](t.sign):l.sign*t.sign)(),1,(()=>void 0!==l.mag&&null!==l.mag&&l.mag[Symbol.for("+")]?l.mag[Symbol.for("+")](t.mag):l.mag+t.mag)());if(2===l.layer&&1===t.layer){const e=E(Math.sign(l.mag),(()=>void 0!==l.layer&&null!==l.layer&&l.layer[Symbol.for("-")]?l.layer[Symbol.for("-")](1):l.layer-1)(),Math.abs(l.mag)).add(E(Math.sign(t.mag),(()=>void 0!==t.layer&&null!==t.layer&&t.layer[Symbol.for("-")]?t.layer[Symbol.for("-")](1):t.layer-1)(),Math.abs(t.mag)));return E((()=>void 0!==l.sign&&null!==l.sign&&l.sign[Symbol.for("*")]?l.sign[Symbol.for("*")](t.sign):l.sign*t.sign)(),(()=>void 0!==e.layer&&null!==e.layer&&e.layer[Symbol.for("+")]?e.layer[Symbol.for("+")](1):e.layer+1)(),(()=>void 0!==e.sign&&null!==e.sign&&e.sign[Symbol.for("*")]?e.sign[Symbol.for("*")](e.mag):e.sign*e.mag)())}if(2===l.layer&&2===t.layer){const e=E(Math.sign(l.mag),(()=>void 0!==l.layer&&null!==l.layer&&l.layer[Symbol.for("-")]?l.layer[Symbol.for("-")](1):l.layer-1)(),Math.abs(l.mag)).add(E(Math.sign(t.mag),(()=>void 0!==t.layer&&null!==t.layer&&t.layer[Symbol.for("-")]?t.layer[Symbol.for("-")](1):t.layer-1)(),Math.abs(t.mag)));return E((()=>void 0!==l.sign&&null!==l.sign&&l.sign[Symbol.for("*")]?l.sign[Symbol.for("*")](t.sign):l.sign*t.sign)(),(()=>void 0!==e.layer&&null!==e.layer&&e.layer[Symbol.for("+")]?e.layer[Symbol.for("+")](1):e.layer+1)(),(()=>void 0!==e.sign&&null!==e.sign&&e.sign[Symbol.for("*")]?e.sign[Symbol.for("*")](e.mag):e.sign*e.mag)())}throw Error((()=>"Bad arguments to mul: "+this+", "!==void 0&&"Bad arguments to mul: "+this+", "!==null&&("Bad arguments to mul: "+this+", ")[Symbol.for("+")]?("Bad arguments to mul: "+this+", ")[Symbol.for("+")](e):"Bad arguments to mul: "+this+", "+e)())}multiply(e){return this.mul(e)}times(e){return this.mul(e)}div(e){const o=Z(e);return this.mul(o.recip())}divide(e){return this.div(e)}divideBy(e){return this.div(e)}dividedBy(e){return this.div(e)}recip(){return 0===this.mag?_.dNaN:0===this.layer?E(this.sign,0,(()=>1[Symbol.for("/")]?1[Symbol.for("/")](this.mag):1/this.mag)()):E(this.sign,this.layer,(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("minus")]?this.mag[Symbol.for("minus")]():-this.mag)())}reciprocal(){return this.recip()}reciprocate(){return this.recip()}cmp(e){const o=Z(e);return(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for(">")]?this.sign[Symbol.for(">")](o.sign):this.sign>o.sign)()?1:(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("<")]?this.sign[Symbol.for("<")](o.sign):this.sign<o.sign)()?(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)():(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.cmpabs(e)):this.sign*this.cmpabs(e))()}cmpabs(e){const o=Z(e),l=(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for(">")]?this.mag[Symbol.for(">")](0):this.mag>0)()?this.layer:(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("minus")]?this.layer[Symbol.for("minus")]():-this.layer)(),t=(()=>void 0!==o.mag&&null!==o.mag&&o.mag[Symbol.for(">")]?o.mag[Symbol.for(">")](0):o.mag>0)()?o.layer:(()=>void 0!==o.layer&&null!==o.layer&&o.layer[Symbol.for("minus")]?o.layer[Symbol.for("minus")]():-o.layer)();return(()=>void 0!==l&&null!==l&&l[Symbol.for(">")]?l[Symbol.for(">")](t):l>t)()?1:(()=>void 0!==l&&null!==l&&l[Symbol.for("<")]?l[Symbol.for("<")](t):l<t)()?(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)():(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for(">")]?this.mag[Symbol.for(">")](o.mag):this.mag>o.mag)()?1:(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](o.mag):this.mag<o.mag)()?(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)():0}compare(e){return this.cmp(e)}isNan(){return isNaN(this.sign)||isNaN(this.layer)||isNaN(this.mag)}isFinite(){return isFinite(this.sign)&&isFinite(this.layer)&&isFinite(this.mag)}eq(e){const o=Z(e);return this.sign===o.sign&&this.layer===o.layer&&this.mag===o.mag}equals(e){return this.eq(e)}neq(e){return(()=>void 0!==this.eq(e)&&null!==this.eq(e)&&this.eq(e)[Symbol.for("!")]?this.eq(e)[Symbol.for("!")]():!this.eq(e))()}notEquals(e){return this.neq(e)}lt(e){return this.cmp(e)===(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()}lte(e){return(()=>void 0!==this.gt(e)&&null!==this.gt(e)&&this.gt(e)[Symbol.for("!")]?this.gt(e)[Symbol.for("!")]():!this.gt(e))()}gt(e){return 1===this.cmp(e)}gte(e){return(()=>void 0!==this.lt(e)&&null!==this.lt(e)&&this.lt(e)[Symbol.for("!")]?this.lt(e)[Symbol.for("!")]():!this.lt(e))()}max(e){const o=Z(e);return this.lt(o)?o:this}min(e){const o=Z(e);return this.gt(o)?o:this}maxabs(e){const o=Z(e);return(()=>void 0!==this.cmpabs(o)&&null!==this.cmpabs(o)&&this.cmpabs(o)[Symbol.for("<")]?this.cmpabs(o)[Symbol.for("<")](0):this.cmpabs(o)<0)()?o:this}minabs(e){const o=Z(e);return(()=>void 0!==this.cmpabs(o)&&null!==this.cmpabs(o)&&this.cmpabs(o)[Symbol.for(">")]?this.cmpabs(o)[Symbol.for(">")](0):this.cmpabs(o)>0)()?o:this}clamp(e,o){return this.max(e).min(o)}clampMin(e){return this.max(e)}clampMax(e){return this.min(e)}cmp_tolerance(e,o){const l=Z(e);return this.eq_tolerance(l,o)?0:this.cmp(l)}compare_tolerance(e,o){return this.cmp_tolerance(e,o)}eq_tolerance(e,o){const l=Z(e);if((()=>void 0!==o&&null!==o&&o[Symbol.for("==")]?o[Symbol.for("==")](null):null==o)()&&(o=1e-7),(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("!==")]?this.sign[Symbol.for("!==")](l.sign):this.sign!==l.sign)())return!1;if((()=>void 0!==Math.abs(this.layer-l.layer)&&null!==Math.abs(this.layer-l.layer)&&Math.abs(this.layer-l.layer)[Symbol.for(">")]?Math.abs(this.layer-l.layer)[Symbol.for(">")](1):Math.abs(this.layer-l.layer)>1)())return!1;let t=this.mag,r=l.mag;return(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for(">")]?this.layer[Symbol.for(">")](l.layer):this.layer>l.layer)()&&(r=B(r)),(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("<")]?this.layer[Symbol.for("<")](l.layer):this.layer<l.layer)()&&(t=B(t)),(()=>void 0!==Math.abs(t-r)&&null!==Math.abs(t-r)&&Math.abs(t-r)[Symbol.for("<=")]?Math.abs(t-r)[Symbol.for("<=")](o*Math.max(Math.abs(t),Math.abs(r))):Math.abs(t-r)<=o*Math.max(Math.abs(t),Math.abs(r)))()}equals_tolerance(e,o){return this.eq_tolerance(e,o)}neq_tolerance(e,o){return(()=>void 0!==this.eq_tolerance(e,o)&&null!==this.eq_tolerance(e,o)&&this.eq_tolerance(e,o)[Symbol.for("!")]?this.eq_tolerance(e,o)[Symbol.for("!")]():!this.eq_tolerance(e,o))()}notEquals_tolerance(e,o){return this.neq_tolerance(e,o)}lt_tolerance(e,o){const l=Z(e);return(()=>void 0!==this.eq_tolerance(l,o)&&null!==this.eq_tolerance(l,o)&&this.eq_tolerance(l,o)[Symbol.for("!")]?this.eq_tolerance(l,o)[Symbol.for("!")]():!this.eq_tolerance(l,o))()&&this.lt(l)}lte_tolerance(e,o){const l=Z(e);return this.eq_tolerance(l,o)||this.lt(l)}gt_tolerance(e,o){const l=Z(e);return(()=>void 0!==this.eq_tolerance(l,o)&&null!==this.eq_tolerance(l,o)&&this.eq_tolerance(l,o)[Symbol.for("!")]?this.eq_tolerance(l,o)[Symbol.for("!")]():!this.eq_tolerance(l,o))()&&this.gt(l)}gte_tolerance(e,o){const l=Z(e);return this.eq_tolerance(l,o)||this.gt(l)}pLog10(){return this.lt(_.dZero)?_.dZero:this.log10()}absLog10(){return 0===this.sign?_.dNaN:(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for(">")]?this.layer[Symbol.for(">")](0):this.layer>0)()?E(Math.sign(this.mag),(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("-")]?this.layer[Symbol.for("-")](1):this.layer-1)(),Math.abs(this.mag)):E(1,0,Math.log10(this.mag))}log10(){return(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("<=")]?this.sign[Symbol.for("<=")](0):this.sign<=0)()?_.dNaN:(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for(">")]?this.layer[Symbol.for(">")](0):this.layer>0)()?E(Math.sign(this.mag),(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("-")]?this.layer[Symbol.for("-")](1):this.layer-1)(),Math.abs(this.mag)):E(this.sign,0,Math.log10(this.mag))}log(e){return e=Z(e),(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("<=")]?this.sign[Symbol.for("<=")](0):this.sign<=0)()||(()=>void 0!==e.sign&&null!==e.sign&&e.sign[Symbol.for("<=")]?e.sign[Symbol.for("<=")](0):e.sign<=0)()||1===e.sign&&0===e.layer&&1===e.mag?_.dNaN:0===this.layer&&0===e.layer?E(this.sign,0,(()=>void 0!==Math.log(this.mag)&&null!==Math.log(this.mag)&&Math.log(this.mag)[Symbol.for("/")]?Math.log(this.mag)[Symbol.for("/")](Math.log(e.mag)):Math.log(this.mag)/Math.log(e.mag))()):_.div(this.log10(),e.log10())}log2(){return(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("<=")]?this.sign[Symbol.for("<=")](0):this.sign<=0)()?_.dNaN:0===this.layer?E(this.sign,0,Math.log2(this.mag)):1===this.layer?E(Math.sign(this.mag),0,(()=>void 0!==Math.abs(this.mag)&&null!==Math.abs(this.mag)&&Math.abs(this.mag)[Symbol.for("*")]?Math.abs(this.mag)[Symbol.for("*")](3.321928094887362):3.321928094887362*Math.abs(this.mag))()):2===this.layer?E(Math.sign(this.mag),1,(()=>void 0!==Math.abs(this.mag)&&null!==Math.abs(this.mag)&&Math.abs(this.mag)[Symbol.for("+")]?Math.abs(this.mag)[Symbol.for("+")](.5213902276543247):Math.abs(this.mag)+.5213902276543247)()):E(Math.sign(this.mag),(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("-")]?this.layer[Symbol.for("-")](1):this.layer-1)(),Math.abs(this.mag))}ln(){return(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("<=")]?this.sign[Symbol.for("<=")](0):this.sign<=0)()?_.dNaN:0===this.layer?E(this.sign,0,Math.log(this.mag)):1===this.layer?E(Math.sign(this.mag),0,(()=>void 0!==Math.abs(this.mag)&&null!==Math.abs(this.mag)&&Math.abs(this.mag)[Symbol.for("*")]?Math.abs(this.mag)[Symbol.for("*")](2.302585092994046):2.302585092994046*Math.abs(this.mag))()):2===this.layer?E(Math.sign(this.mag),1,(()=>void 0!==Math.abs(this.mag)&&null!==Math.abs(this.mag)&&Math.abs(this.mag)[Symbol.for("+")]?Math.abs(this.mag)[Symbol.for("+")](.36221568869946325):Math.abs(this.mag)+.36221568869946325)()):E(Math.sign(this.mag),(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("-")]?this.layer[Symbol.for("-")](1):this.layer-1)(),Math.abs(this.mag))}logarithm(e){return this.log(e)}pow(e){const o=Z(e),l=this,t=o;if(0===l.sign)return t.eq(0)?C(1,0,1):l;if(1===l.sign&&0===l.layer&&1===l.mag)return l;if(0===t.sign)return C(1,0,1);if(1===t.sign&&0===t.layer&&1===t.mag)return l;const r=l.absLog10().mul(t).pow10();return this.sign===(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()?1===(()=>void 0!==Math.abs(t.toNumber()%2)&&null!==Math.abs(t.toNumber()%2)&&Math.abs(t.toNumber()%2)[Symbol.for("%")]?Math.abs(t.toNumber()%2)[Symbol.for("%")](2):Math.abs(t.toNumber()%2)%2)()?r.neg():0===(()=>void 0!==Math.abs(t.toNumber()%2)&&null!==Math.abs(t.toNumber()%2)&&Math.abs(t.toNumber()%2)[Symbol.for("%")]?Math.abs(t.toNumber()%2)[Symbol.for("%")](2):Math.abs(t.toNumber()%2)%2)()?r:_.dNaN:r}pow10(){if((()=>void 0!==Number.isFinite(this.layer)&&null!==Number.isFinite(this.layer)&&Number.isFinite(this.layer)[Symbol.for("!")]?Number.isFinite(this.layer)[Symbol.for("!")]():!Number.isFinite(this.layer))()||(()=>void 0!==Number.isFinite(this.mag)&&null!==Number.isFinite(this.mag)&&Number.isFinite(this.mag)[Symbol.for("!")]?Number.isFinite(this.mag)[Symbol.for("!")]():!Number.isFinite(this.mag))())return _.dNaN;let e=this;if(0===e.layer){const o=Math.pow(10,(()=>void 0!==e.sign&&null!==e.sign&&e.sign[Symbol.for("*")]?e.sign[Symbol.for("*")](e.mag):e.sign*e.mag)());if(Number.isFinite(o)&&(()=>void 0!==Math.abs(o)&&null!==Math.abs(o)&&Math.abs(o)[Symbol.for(">=")]?Math.abs(o)[Symbol.for(">=")](.1):Math.abs(o)>=.1)())return E(1,0,o);if(0===e.sign)return _.dOne;e=C(e.sign,(()=>void 0!==e.layer&&null!==e.layer&&e.layer[Symbol.for("+")]?e.layer[Symbol.for("+")](1):e.layer+1)(),Math.log10(e.mag))}return(()=>void 0!==e.sign&&null!==e.sign&&e.sign[Symbol.for(">")]?e.sign[Symbol.for(">")](0):e.sign>0)()&&(()=>void 0!==e.mag&&null!==e.mag&&e.mag[Symbol.for(">=")]?e.mag[Symbol.for(">=")](0):e.mag>=0)()?E(e.sign,(()=>void 0!==e.layer&&null!==e.layer&&e.layer[Symbol.for("+")]?e.layer[Symbol.for("+")](1):e.layer+1)(),e.mag):(()=>void 0!==e.sign&&null!==e.sign&&e.sign[Symbol.for("<")]?e.sign[Symbol.for("<")](0):e.sign<0)()&&(()=>void 0!==e.mag&&null!==e.mag&&e.mag[Symbol.for(">=")]?e.mag[Symbol.for(">=")](0):e.mag>=0)()?E((()=>void 0!==e.sign&&null!==e.sign&&e.sign[Symbol.for("minus")]?e.sign[Symbol.for("minus")]():-e.sign)(),(()=>void 0!==e.layer&&null!==e.layer&&e.layer[Symbol.for("+")]?e.layer[Symbol.for("+")](1):e.layer+1)(),(()=>void 0!==e.mag&&null!==e.mag&&e.mag[Symbol.for("minus")]?e.mag[Symbol.for("minus")]():-e.mag)()):_.dOne}pow_base(e){return Z(e).pow(this)}root(e){const o=Z(e);return this.pow(o.recip())}factorial(){return(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)()||0===this.layer?this.add(1).gamma():1===this.layer?_.exp(_.mul(this,_.ln(this).sub(1))):_.exp(this)}gamma(){if((()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)())return this.recip();if(0===this.layer){if(this.lt(C(1,0,24)))return Z(F((()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.mag):this.sign*this.mag)()));const e=(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("-")]?this.mag[Symbol.for("-")](1):this.mag-1)();let o=.9189385332046727;o=(()=>void 0!==o&&null!==o&&o[Symbol.for("+")]?o[Symbol.for("+")]((e+.5)*Math.log(e)):o+(e+.5)*Math.log(e))(),o=(()=>void 0!==o&&null!==o&&o[Symbol.for("-")]?o[Symbol.for("-")](e):o-e)();const l=(()=>void 0!==e&&null!==e&&e[Symbol.for("*")]?e[Symbol.for("*")](e):e*e)();let t=e,r=(()=>12[Symbol.for("*")]?12[Symbol.for("*")](t):12*t)(),i=(()=>1[Symbol.for("/")]?1[Symbol.for("/")](r):1/r)(),n=(()=>void 0!==o&&null!==o&&o[Symbol.for("+")]?o[Symbol.for("+")](i):o+i)();if(n===o)return _.exp(o);if(o=n,t=(()=>void 0!==t&&null!==t&&t[Symbol.for("*")]?t[Symbol.for("*")](l):t*l)(),r=(()=>360[Symbol.for("*")]?360[Symbol.for("*")](t):360*t)(),i=(()=>1[Symbol.for("/")]?1[Symbol.for("/")](r):1/r)(),n=(()=>void 0!==o&&null!==o&&o[Symbol.for("-")]?o[Symbol.for("-")](i):o-i)(),n===o)return _.exp(o);o=n,t=(()=>void 0!==t&&null!==t&&t[Symbol.for("*")]?t[Symbol.for("*")](l):t*l)(),r=(()=>1260[Symbol.for("*")]?1260[Symbol.for("*")](t):1260*t)();let a=(()=>1[Symbol.for("/")]?1[Symbol.for("/")](r):1/r)();return o=(()=>void 0!==o&&null!==o&&o[Symbol.for("+")]?o[Symbol.for("+")](a):o+a)(),t=(()=>void 0!==t&&null!==t&&t[Symbol.for("*")]?t[Symbol.for("*")](l):t*l)(),r=(()=>1680[Symbol.for("*")]?1680[Symbol.for("*")](t):1680*t)(),a=(()=>1[Symbol.for("/")]?1[Symbol.for("/")](r):1/r)(),o=(()=>void 0!==o&&null!==o&&o[Symbol.for("-")]?o[Symbol.for("-")](a):o-a)(),_.exp(o)}return 1===this.layer?_.exp(_.mul(this,_.ln(this).sub(1))):_.exp(this)}lngamma(){return this.gamma().ln()}exp(){return(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)()?_.dOne:0===this.layer&&(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<=")]?this.mag[Symbol.for("<=")](709.7):this.mag<=709.7)()?Z(Math.exp((()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.mag):this.sign*this.mag)())):0===this.layer?E(1,1,(()=>this.sign*Math.log10(Math.E)!==void 0&&this.sign*Math.log10(Math.E)!==null&&(this.sign*Math.log10(Math.E))[Symbol.for("*")]?(this.sign*Math.log10(Math.E))[Symbol.for("*")](this.mag):this.sign*Math.log10(Math.E)*this.mag)()):1===this.layer?E(1,2,(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](Math.log10(.4342944819032518)+this.mag):this.sign*(Math.log10(.4342944819032518)+this.mag))()):E(1,(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("+")]?this.layer[Symbol.for("+")](1):this.layer+1)(),(()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.mag):this.sign*this.mag)())}sqr(){return this.pow(2)}sqrt(){if(0===this.layer)return Z(Math.sqrt((()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.mag):this.sign*this.mag)()));if(1===this.layer)return E(1,2,(()=>void 0!==Math.log10(this.mag)&&null!==Math.log10(this.mag)&&Math.log10(this.mag)[Symbol.for("-")]?Math.log10(this.mag)[Symbol.for("-")](.3010299956639812):Math.log10(this.mag)-.3010299956639812)());{const e=_.div(C(this.sign,(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("-")]?this.layer[Symbol.for("-")](1):this.layer-1)(),this.mag),C(1,0,2));return e.layer=(()=>void 0!==e.layer&&null!==e.layer&&e.layer[Symbol.for("+")]?e.layer[Symbol.for("+")](1):e.layer+1)(),e.normalize(),e}}cube(){return this.pow(3)}cbrt(){return this.pow((()=>1[Symbol.for("/")]?1[Symbol.for("/")](3):1/3)())}tetrate(e=2,o=C(1,0,1)){if(1===e)return _.pow(this,o);if(0===e)return new _(o);if(this.eq(_.dOne))return _.dOne;if(this.eq((()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))return _.pow(this,o);if(e===Number.POSITIVE_INFINITY){const e=this.toNumber();if((()=>void 0!==e&&null!==e&&e[Symbol.for("<=")]?e[Symbol.for("<=")](1.444667861009766):e<=1.444667861009766)()&&(()=>void 0!==e&&null!==e&&e[Symbol.for(">=")]?e[Symbol.for(">=")](.06598803584531254):e>=.06598803584531254)()){if((()=>void 0!==e&&null!==e&&e[Symbol.for(">")]?e[Symbol.for(">")](1.444667861009099):e>1.444667861009099)())return new _(Math.E);const o=_.ln(this).neg();return o.lambertw().div(o)}return(()=>void 0!==e&&null!==e&&e[Symbol.for(">")]?e[Symbol.for(">")](1.444667861009766):e>1.444667861009766)()?new _(Number.POSITIVE_INFINITY):_.dNaN}if(this.eq(_.dZero)){let o=Math.abs((()=>e+1!==void 0&&e+1!==null&&(e+1)[Symbol.for("%")]?(e+1)[Symbol.for("%")](2):(e+1)%2)());return(()=>void 0!==o&&null!==o&&o[Symbol.for(">")]?o[Symbol.for(">")](1):o>1)()&&(o=(()=>2[Symbol.for("-")]?2[Symbol.for("-")](o):2-o)()),new _(o)}if((()=>void 0!==e&&null!==e&&e[Symbol.for("<")]?e[Symbol.for("<")](0):e<0)())return _.iteratedlog(o,this,(()=>void 0!==e&&null!==e&&e[Symbol.for("minus")]?e[Symbol.for("minus")]():-e)());o=Z(o);const l=e;e=Math.trunc(e);const t=(()=>void 0!==l&&null!==l&&l[Symbol.for("-")]?l[Symbol.for("-")](e):l-e)();if(this.gt(_.dZero)&&this.lte(1.444667861009766)){e=Math.min(1e4,e);for(let l=0;(()=>void 0!==l&&null!==l&&l[Symbol.for("<")]?l[Symbol.for("<")](e):l<e)();(()=>void 0!==l&&null!==l&&"object"===typeof l&&l[Symbol.for("prefix-increment")]?l[Symbol.for("prefix-increment")]():++l)()){const e=o;if(o=this.pow(o),e.eq(o))return o}if((()=>void 0!==t&&null!==t&&t[Symbol.for("!=")]?t[Symbol.for("!=")](0):0!=t)()){const e=this.pow(o);return o.mul((()=>1[Symbol.for("-")]?1[Symbol.for("-")](t):1-t)()).add(e.mul(t))}return o}(()=>void 0!==t&&null!==t&&t[Symbol.for("!==")]?t[Symbol.for("!==")](0):0!==t)()&&(o.eq(_.dOne)?this.gt(10)?o=this.pow(t):(o=Z(_.tetrate_critical(this.toNumber(),t)),this.lt(2)&&(o=o.sub(1).mul(this.minus(1)).plus(1))):o=this.eq(10)?o.layeradd10(t):o.layeradd(t,this));for(let r=0;(()=>void 0!==r&&null!==r&&r[Symbol.for("<")]?r[Symbol.for("<")](e):r<e)();(()=>void 0!==r&&null!==r&&"object"===typeof r&&r[Symbol.for("prefix-increment")]?r[Symbol.for("prefix-increment")]():++r)()){if(o=this.pow(o),(()=>void 0!==isFinite(o.layer)&&null!==isFinite(o.layer)&&isFinite(o.layer)[Symbol.for("!")]?isFinite(o.layer)[Symbol.for("!")]():!isFinite(o.layer))()||(()=>void 0!==isFinite(o.mag)&&null!==isFinite(o.mag)&&isFinite(o.mag)[Symbol.for("!")]?isFinite(o.mag)[Symbol.for("!")]():!isFinite(o.mag))())return o.normalize();if((()=>o.layer-this.layer!==void 0&&o.layer-this.layer!==null&&(o.layer-this.layer)[Symbol.for(">")]?(o.layer-this.layer)[Symbol.for(">")](3):o.layer-this.layer>3)())return C(o.sign,(()=>void 0!==o.layer&&null!==o.layer&&o.layer[Symbol.for("+")]?o.layer[Symbol.for("+")](e-r-1):o.layer+(e-r-1))(),o.mag);if((()=>void 0!==r&&null!==r&&r[Symbol.for(">")]?r[Symbol.for(">")](1e4):r>1e4)())return o}return o}iteratedexp(e=2,o=C(1,0,1)){return this.tetrate(e,o)}iteratedlog(e=10,o=1){if((()=>void 0!==o&&null!==o&&o[Symbol.for("<")]?o[Symbol.for("<")](0):o<0)())return _.tetrate(e,(()=>void 0!==o&&null!==o&&o[Symbol.for("minus")]?o[Symbol.for("minus")]():-o)(),this);e=Z(e);let l=Z(this);const t=o;o=Math.trunc(o);const r=(()=>void 0!==t&&null!==t&&t[Symbol.for("-")]?t[Symbol.for("-")](o):t-o)();if((()=>l.layer-e.layer!==void 0&&l.layer-e.layer!==null&&(l.layer-e.layer)[Symbol.for(">")]?(l.layer-e.layer)[Symbol.for(">")](3):l.layer-e.layer>3)()){const t=Math.min(o,(()=>l.layer-e.layer!==void 0&&l.layer-e.layer!==null&&(l.layer-e.layer)[Symbol.for("-")]?(l.layer-e.layer)[Symbol.for("-")](3):l.layer-e.layer-3)());o=(()=>void 0!==o&&null!==o&&o[Symbol.for("-")]?o[Symbol.for("-")](t):o-t)(),l.layer=(()=>void 0!==l.layer&&null!==l.layer&&l.layer[Symbol.for("-")]?l.layer[Symbol.for("-")](t):l.layer-t)()}for(let i=0;(()=>void 0!==i&&null!==i&&i[Symbol.for("<")]?i[Symbol.for("<")](o):i<o)();(()=>void 0!==i&&null!==i&&"object"===typeof i&&i[Symbol.for("prefix-increment")]?i[Symbol.for("prefix-increment")]():++i)()){if(l=l.log(e),(()=>void 0!==isFinite(l.layer)&&null!==isFinite(l.layer)&&isFinite(l.layer)[Symbol.for("!")]?isFinite(l.layer)[Symbol.for("!")]():!isFinite(l.layer))()||(()=>void 0!==isFinite(l.mag)&&null!==isFinite(l.mag)&&isFinite(l.mag)[Symbol.for("!")]?isFinite(l.mag)[Symbol.for("!")]():!isFinite(l.mag))())return l.normalize();if((()=>void 0!==i&&null!==i&&i[Symbol.for(">")]?i[Symbol.for(">")](1e4):i>1e4)())return l}return(()=>void 0!==r&&null!==r&&r[Symbol.for(">")]?r[Symbol.for(">")](0):r>0)()&&(()=>void 0!==r&&null!==r&&r[Symbol.for("<")]?r[Symbol.for("<")](1):r<1)()&&(l=e.eq(10)?l.layeradd10((()=>void 0!==r&&null!==r&&r[Symbol.for("minus")]?r[Symbol.for("minus")]():-r)()):l.layeradd((()=>void 0!==r&&null!==r&&r[Symbol.for("minus")]?r[Symbol.for("minus")]():-r)(),e)),l}slog(e=10){if(e=Z(e),e.lte(_.dZero))return _.dNaN;if(e.eq(_.dOne))return _.dNaN;if(e.lt(_.dOne))return this.eq(_.dOne)?_.dZero:this.eq(_.dZero)?_.dNegOne:_.dNaN;if((()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)()||this.eq(_.dZero))return _.dNegOne;let o=0,l=Z(this);if((()=>l.layer-e.layer!==void 0&&l.layer-e.layer!==null&&(l.layer-e.layer)[Symbol.for(">")]?(l.layer-e.layer)[Symbol.for(">")](3):l.layer-e.layer>3)()){const t=(()=>l.layer-e.layer!==void 0&&l.layer-e.layer!==null&&(l.layer-e.layer)[Symbol.for("-")]?(l.layer-e.layer)[Symbol.for("-")](3):l.layer-e.layer-3)();o=(()=>void 0!==o&&null!==o&&o[Symbol.for("+")]?o[Symbol.for("+")](t):o+t)(),l.layer=(()=>void 0!==l.layer&&null!==l.layer&&l.layer[Symbol.for("-")]?l.layer[Symbol.for("-")](t):l.layer-t)()}for(let t=0;(()=>void 0!==t&&null!==t&&t[Symbol.for("<")]?t[Symbol.for("<")](100):t<100)();(()=>void 0!==t&&null!==t&&"object"===typeof t&&t[Symbol.for("prefix-increment")]?t[Symbol.for("prefix-increment")]():++t)())if(l.lt(_.dZero))l=_.pow(e,l),o=(()=>void 0!==o&&null!==o&&o[Symbol.for("-")]?o[Symbol.for("-")](1):o-1)();else{if(l.lte(_.dOne))return Z((()=>void 0!==o&&null!==o&&o[Symbol.for("+")]?o[Symbol.for("+")](_.slog_critical(e.toNumber(),l.toNumber())):o+_.slog_critical(e.toNumber(),l.toNumber()))());o=(()=>void 0!==o&&null!==o&&o[Symbol.for("+")]?o[Symbol.for("+")](1):o+1)(),l=_.log(l,e)}return Z(o)}static slog_critical(e,o){return(()=>void 0!==e&&null!==e&&e[Symbol.for(">")]?e[Symbol.for(">")](10):e>10)()?(()=>void 0!==o&&null!==o&&o[Symbol.for("-")]?o[Symbol.for("-")](1):o-1)():_.critical_section(e,o,P)}static tetrate_critical(e,o){return _.critical_section(e,o,M)}static critical_section(e,o,l){o=(()=>void 0!==o&&null!==o&&o[Symbol.for("*")]?o[Symbol.for("*")](10):10*o)(),(()=>void 0!==o&&null!==o&&o[Symbol.for("<")]?o[Symbol.for("<")](0):o<0)()&&(o=0),(()=>void 0!==o&&null!==o&&o[Symbol.for(">")]?o[Symbol.for(">")](10):o>10)()&&(o=10),(()=>void 0!==e&&null!==e&&e[Symbol.for("<")]?e[Symbol.for("<")](2):e<2)()&&(e=2),(()=>void 0!==e&&null!==e&&e[Symbol.for(">")]?e[Symbol.for(">")](10):e>10)()&&(e=10);let t=0,r=0;for(let a=0;(()=>void 0!==a&&null!==a&&a[Symbol.for("<")]?a[Symbol.for("<")](w.length):a<w.length)();(()=>void 0!==a&&null!==a&&"object"===typeof a&&a[Symbol.for("prefix-increment")]?a[Symbol.for("prefix-increment")]():++a)()){if((()=>void 0!==w[a]&&null!==w[a]&&w[a][Symbol.for("==")]?w[a][Symbol.for("==")](e):w[a]==e)()){t=l[a][Math.floor(o)],r=l[a][Math.ceil(o)];break}if((()=>void 0!==w[a]&&null!==w[a]&&w[a][Symbol.for("<")]?w[a][Symbol.for("<")](e):w[a]<e)()&&(()=>void 0!==w[a+1]&&null!==w[a+1]&&w[a+1][Symbol.for(">")]?w[a+1][Symbol.for(">")](e):w[a+1]>e)()){const i=(()=>e-w[a]!==void 0&&e-w[a]!==null&&(e-w[a])[Symbol.for("/")]?(e-w[a])[Symbol.for("/")](w[a+1]-w[a]):(e-w[a])/(w[a+1]-w[a]))();t=(()=>l[a][Math.floor(o)]*(1-i)!==void 0&&l[a][Math.floor(o)]*(1-i)!==null&&(l[a][Math.floor(o)]*(1-i))[Symbol.for("+")]?(l[a][Math.floor(o)]*(1-i))[Symbol.for("+")](l[a+1][Math.floor(o)]*i):l[a][Math.floor(o)]*(1-i)+l[a+1][Math.floor(o)]*i)(),r=(()=>l[a][Math.ceil(o)]*(1-i)!==void 0&&l[a][Math.ceil(o)]*(1-i)!==null&&(l[a][Math.ceil(o)]*(1-i))[Symbol.for("+")]?(l[a][Math.ceil(o)]*(1-i))[Symbol.for("+")](l[a+1][Math.ceil(o)]*i):l[a][Math.ceil(o)]*(1-i)+l[a+1][Math.ceil(o)]*i)();break}}const i=(()=>void 0!==o&&null!==o&&o[Symbol.for("-")]?o[Symbol.for("-")](Math.floor(o)):o-Math.floor(o))(),n=(()=>t*(1-i)!==void 0&&t*(1-i)!==null&&(t*(1-i))[Symbol.for("+")]?(t*(1-i))[Symbol.for("+")](r*i):t*(1-i)+r*i)();return n}layeradd10(e){e=_.fromValue_noAlloc(e).toNumber();const o=Z(this);if((()=>void 0!==e&&null!==e&&e[Symbol.for(">=")]?e[Symbol.for(">=")](1):e>=1)()){(()=>void 0!==o.mag&&null!==o.mag&&o.mag[Symbol.for("<")]?o.mag[Symbol.for("<")](0):o.mag<0)()&&(()=>void 0!==o.layer&&null!==o.layer&&o.layer[Symbol.for(">")]?o.layer[Symbol.for(">")](0):o.layer>0)()?(o.sign=0,o.mag=0,o.layer=0):o.sign===(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()&&(()=>void 0!==o.layer&&null!==o.layer&&o.layer[Symbol.for("==")]?o.layer[Symbol.for("==")](0):0==o.layer)()&&(o.sign=1,o.mag=(()=>void 0!==o.mag&&null!==o.mag&&o.mag[Symbol.for("minus")]?o.mag[Symbol.for("minus")]():-o.mag)());const l=Math.trunc(e);e=(()=>void 0!==e&&null!==e&&e[Symbol.for("-")]?e[Symbol.for("-")](l):e-l)(),o.layer=(()=>void 0!==o.layer&&null!==o.layer&&o.layer[Symbol.for("+")]?o.layer[Symbol.for("+")](l):o.layer+l)()}if((()=>void 0!==e&&null!==e&&e[Symbol.for("<=")]?e[Symbol.for("<=")](-1):e<=-1)()){const l=Math.trunc(e);if(e=(()=>void 0!==e&&null!==e&&e[Symbol.for("-")]?e[Symbol.for("-")](l):e-l)(),o.layer=(()=>void 0!==o.layer&&null!==o.layer&&o.layer[Symbol.for("+")]?o.layer[Symbol.for("+")](l):o.layer+l)(),(()=>void 0!==o.layer&&null!==o.layer&&o.layer[Symbol.for("<")]?o.layer[Symbol.for("<")](0):o.layer<0)())for(let e=0;(()=>void 0!==e&&null!==e&&e[Symbol.for("<")]?e[Symbol.for("<")](100):e<100)();(()=>void 0!==e&&null!==e&&"object"===typeof e&&e[Symbol.for("prefix-increment")]?e[Symbol.for("prefix-increment")]():++e)()){if((()=>{void 0!==o.layer&&null!==o.layer&&"object"===typeof o.layer&&o.layer[Symbol.for("postfix-increment")]?o.layer[Symbol.for("postfix-increment")]():o.layer++})(),o.mag=Math.log10(o.mag),(()=>void 0!==isFinite(o.mag)&&null!==isFinite(o.mag)&&isFinite(o.mag)[Symbol.for("!")]?isFinite(o.mag)[Symbol.for("!")]():!isFinite(o.mag))())return 0===o.sign&&(o.sign=1),(()=>void 0!==o.layer&&null!==o.layer&&o.layer[Symbol.for("<")]?o.layer[Symbol.for("<")](0):o.layer<0)()&&(o.layer=0),o.normalize();if((()=>void 0!==o.layer&&null!==o.layer&&o.layer[Symbol.for(">=")]?o.layer[Symbol.for(">=")](0):o.layer>=0)())break}}while((()=>void 0!==o.layer&&null!==o.layer&&o.layer[Symbol.for("<")]?o.layer[Symbol.for("<")](0):o.layer<0)())(()=>{void 0!==o.layer&&null!==o.layer&&"object"===typeof o.layer&&o.layer[Symbol.for("postfix-increment")]?o.layer[Symbol.for("postfix-increment")]():o.layer++})(),o.mag=Math.log10(o.mag);return 0===o.sign&&(o.sign=1,0===o.mag&&(()=>void 0!==o.layer&&null!==o.layer&&o.layer[Symbol.for(">=")]?o.layer[Symbol.for(">=")](1):o.layer>=1)()&&(o.layer=(()=>void 0!==o.layer&&null!==o.layer&&o.layer[Symbol.for("-")]?o.layer[Symbol.for("-")](1):o.layer-1)(),o.mag=1)),o.normalize(),(()=>void 0!==e&&null!==e&&e[Symbol.for("!==")]?e[Symbol.for("!==")](0):0!==e)()?o.layeradd(e,10):o}layeradd(e,o){const l=this.slog(o).toNumber(),t=(()=>void 0!==l&&null!==l&&l[Symbol.for("+")]?l[Symbol.for("+")](e):l+e)();return(()=>void 0!==t&&null!==t&&t[Symbol.for(">=")]?t[Symbol.for(">=")](0):t>=0)()?_.tetrate(o,t):(()=>void 0!==Number.isFinite(t)&&null!==Number.isFinite(t)&&Number.isFinite(t)[Symbol.for("!")]?Number.isFinite(t)[Symbol.for("!")]():!Number.isFinite(t))()?_.dNaN:(()=>void 0!==t&&null!==t&&t[Symbol.for(">=")]?t[Symbol.for(">=")](-1):t>=-1)()?_.log(_.tetrate(o,(()=>void 0!==t&&null!==t&&t[Symbol.for("+")]?t[Symbol.for("+")](1):t+1)()),o):_.log(_.log(_.tetrate(o,(()=>void 0!==t&&null!==t&&t[Symbol.for("+")]?t[Symbol.for("+")](2):t+2)()),o),o)}lambertw(){if(this.lt((()=>.3678794411710499[Symbol.for("minus")]?.3678794411710499[Symbol.for("minus")]():-.3678794411710499)()))throw Error("lambertw is unimplemented for results less than -1, sorry!");if((()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)())return Z(I(this.toNumber()));if(0===this.layer)return Z(I((()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.mag):this.sign*this.mag)()));if(1===this.layer)return q(this);if(2===this.layer)return q(this);if((()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for(">=")]?this.layer[Symbol.for(">=")](3):this.layer>=3)())return C(this.sign,(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("-")]?this.layer[Symbol.for("-")](1):this.layer-1)(),this.mag);throw"Unhandled behavior in lambertw()"}ssqrt(){if((()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("==")]?this.sign[Symbol.for("==")](1):1==this.sign)()&&(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for(">=")]?this.layer[Symbol.for(">=")](3):this.layer>=3)())return C(this.sign,(()=>void 0!==this.layer&&null!==this.layer&&this.layer[Symbol.for("-")]?this.layer[Symbol.for("-")](1):this.layer-1)(),this.mag);const e=this.ln();return e.div(e.lambertw())}pentate(e=2,o=C(1,0,1)){o=Z(o);const l=e;e=Math.trunc(e);const t=(()=>void 0!==l&&null!==l&&l[Symbol.for("-")]?l[Symbol.for("-")](e):l-e)();(()=>void 0!==t&&null!==t&&t[Symbol.for("!==")]?t[Symbol.for("!==")](0):0!==t)()&&(o.eq(_.dOne)?((()=>{void 0!==e&&null!==e&&"object"===typeof e&&e[Symbol.for("prefix-increment")]?e[Symbol.for("prefix-increment")]():++e})(),o=new _(t)):o=this.eq(10)?o.layeradd10(t):o.layeradd(t,this));for(let r=0;(()=>void 0!==r&&null!==r&&r[Symbol.for("<")]?r[Symbol.for("<")](e):r<e)();(()=>void 0!==r&&null!==r&&"object"===typeof r&&r[Symbol.for("prefix-increment")]?r[Symbol.for("prefix-increment")]():++r)()){if(o=this.tetrate(o.toNumber()),(()=>void 0!==isFinite(o.layer)&&null!==isFinite(o.layer)&&isFinite(o.layer)[Symbol.for("!")]?isFinite(o.layer)[Symbol.for("!")]():!isFinite(o.layer))()||(()=>void 0!==isFinite(o.mag)&&null!==isFinite(o.mag)&&isFinite(o.mag)[Symbol.for("!")]?isFinite(o.mag)[Symbol.for("!")]():!isFinite(o.mag))())return o.normalize();if((()=>void 0!==r&&null!==r&&r[Symbol.for(">")]?r[Symbol.for(">")](10):r>10)())return o}return o}sin(){return(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)()?this:0===this.layer?Z(Math.sin((()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.mag):this.sign*this.mag)())):C(0,0,0)}cos(){return(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)()?_.dOne:0===this.layer?Z(Math.cos((()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.mag):this.sign*this.mag)())):C(0,0,0)}tan(){return(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)()?this:0===this.layer?Z(Math.tan((()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.mag):this.sign*this.mag)())):C(0,0,0)}asin(){return(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)()?this:0===this.layer?Z(Math.asin((()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.mag):this.sign*this.mag)())):C(Number.NaN,Number.NaN,Number.NaN)}acos(){return(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)()?Z(Math.acos(this.toNumber())):0===this.layer?Z(Math.acos((()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.mag):this.sign*this.mag)())):C(Number.NaN,Number.NaN,Number.NaN)}atan(){return(()=>void 0!==this.mag&&null!==this.mag&&this.mag[Symbol.for("<")]?this.mag[Symbol.for("<")](0):this.mag<0)()?this:0===this.layer?Z(Math.atan((()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](this.mag):this.sign*this.mag)())):Z(Math.atan((()=>void 0!==this.sign&&null!==this.sign&&this.sign[Symbol.for("*")]?this.sign[Symbol.for("*")](Infinity):Infinity*this.sign)()))}sinh(){return this.exp().sub(this.negate().exp()).div(2)}cosh(){return this.exp().add(this.negate().exp()).div(2)}tanh(){return this.sinh().div(this.cosh())}asinh(){return _.ln(this.add(this.sqr().add(1).sqrt()))}acosh(){return _.ln(this.add(this.sqr().sub(1).sqrt()))}atanh(){return this.abs().gte(1)?C(Number.NaN,Number.NaN,Number.NaN):_.ln(this.add(1).div(Z(1).sub(this))).div(2)}ascensionPenalty(e){return 0===e?this:this.root(_.pow(10,e))}egg(){return this.add(9)}lessThanOrEqualTo(e){return(()=>void 0!==this.cmp(e)&&null!==this.cmp(e)&&this.cmp(e)[Symbol.for("<")]?this.cmp(e)[Symbol.for("<")](1):this.cmp(e)<1)()}lessThan(e){return(()=>void 0!==this.cmp(e)&&null!==this.cmp(e)&&this.cmp(e)[Symbol.for("<")]?this.cmp(e)[Symbol.for("<")](0):this.cmp(e)<0)()}greaterThanOrEqualTo(e){return(()=>void 0!==this.cmp(e)&&null!==this.cmp(e)&&this.cmp(e)[Symbol.for(">")]?this.cmp(e)[Symbol.for(">")](-1):this.cmp(e)>-1)()}greaterThan(e){return(()=>void 0!==this.cmp(e)&&null!==this.cmp(e)&&this.cmp(e)[Symbol.for(">")]?this.cmp(e)[Symbol.for(">")](0):this.cmp(e)>0)()}}(0,t.Z)(_,"dZero",C(0,0,0)),(0,t.Z)(_,"dOne",C(1,0,1)),(0,t.Z)(_,"dNegOne",C((()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)(),0,1)),(0,t.Z)(_,"dTwo",C(1,0,2)),(0,t.Z)(_,"dTen",C(1,0,10)),(0,t.Z)(_,"dNaN",C(Number.NaN,Number.NaN,Number.NaN)),(0,t.Z)(_,"dInf",C(1,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY)),(0,t.Z)(_,"dNegInf",C((()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY)),(0,t.Z)(_,"dNumberMax",E(1,0,Number.MAX_VALUE)),(0,t.Z)(_,"dNumberMin",E(1,0,Number.MIN_VALUE));var j=l(6453),L=_;const O=new _(1);function A(e,o,l=!0){let t=_.log10(e).floor(),r=_.div(e,_.pow(10,t));"10"===r.toStringWithDecimalPlaces(o)&&(r=O,t=t.add(1));const i=t.gte(1e9)?Y(t,Math.max(Math.max(o,3),j.defaultDecimalsShown)):t.gte(1e4)?R(t,0):t.toStringWithDecimalPlaces(0);return l?(()=>r.toStringWithDecimalPlaces(o)+"e"!==void 0&&r.toStringWithDecimalPlaces(o)+"e"!==null&&(r.toStringWithDecimalPlaces(o)+"e")[Symbol.for("+")]?(r.toStringWithDecimalPlaces(o)+"e")[Symbol.for("+")](i):r.toStringWithDecimalPlaces(o)+"e"+i)():(()=>"e"[Symbol.for("+")]?"e"[Symbol.for("+")](i):"e"+i)()}function R(e,o){if(null===e||void 0===e)return"NaN";if(e=new _(e),(()=>void 0!==e.mag&&null!==e.mag&&e.mag[Symbol.for("<")]?e.mag[Symbol.for("<")](.001):e.mag<.001)())return(0).toFixed(o);const l=e.toStringWithDecimalPlaces(o),t=l.split(".");return t[0]=t[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),(()=>void 0!==t.length&&null!==t.length&&t.length[Symbol.for("==")]?t.length[Symbol.for("==")](1):1==t.length)()?t[0]:(()=>t[0]+"."!==void 0&&t[0]+"."!==null&&(t[0]+".")[Symbol.for("+")]?(t[0]+".")[Symbol.for("+")](t[1]):t[0]+"."+t[1])()}function U(e,o){return null===e||void 0===e?"NaN":(e=new _(e),(()=>void 0!==e.mag&&null!==e.mag&&e.mag[Symbol.for("<")]?e.mag[Symbol.for("<")](1e-4):e.mag<1e-4)()?(0).toFixed(o):((()=>void 0!==e.mag&&null!==e.mag&&e.mag[Symbol.for("<")]?e.mag[Symbol.for("<")](.1):e.mag<.1)()&&(()=>void 0!==o&&null!==o&&o[Symbol.for("!==")]?o[Symbol.for("!==")](0):0!==o)()&&(o=Math.max(Math.max(o,e.log10().negate().ceil().toNumber()),j.defaultDecimalsShown)),e.toStringWithDecimalPlaces(o)))}const z=new _("eeee1000"),W=new _("e100000"),X=new _("e1000"),G=new _(1e9),H=new _(1e6),J=new _(1e3),$=new _(.98),K=new _(.001),Q=new _(0);function Y(e,o,l){if((()=>void 0!==o&&null!==o&&o[Symbol.for("==")]?o[Symbol.for("==")](null):null==o)()&&(o=j.defaultDecimalsShown),l=l??j.defaultShowSmall,e=new _(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag))return"NaN";if((()=>void 0!==e.sign&&null!==e.sign&&e.sign[Symbol.for("<")]?e.sign[Symbol.for("<")](0):e.sign<0)())return(()=>"-"[Symbol.for("+")]?"-"[Symbol.for("+")](Y(e.neg(),o)):"-"+Y(e.neg(),o))();if(e.mag===Number.POSITIVE_INFINITY)return"Infinity";if(e.gte(z)){const o=e.slog();return o.gte(H)?(()=>"F"[Symbol.for("+")]?"F"[Symbol.for("+")](Y(o.floor())):"F"+Y(o.floor()))():(()=>_.pow(10,o.sub(o.floor())).toStringWithDecimalPlaces(3)+"F"!==void 0&&_.pow(10,o.sub(o.floor())).toStringWithDecimalPlaces(3)+"F"!==null&&(_.pow(10,o.sub(o.floor())).toStringWithDecimalPlaces(3)+"F")[Symbol.for("+")]?(_.pow(10,o.sub(o.floor())).toStringWithDecimalPlaces(3)+"F")[Symbol.for("+")](R(o.floor(),0)):_.pow(10,o.sub(o.floor())).toStringWithDecimalPlaces(3)+"F"+R(o.floor(),0))()}if(e.gte(W))return A(e,0,!1);if(e.gte(X))return A(e,0);if(e.gte(G))return A(e,o);if(e.gte(J))return R(e,0);if(e.gte(K)||(()=>void 0!==l&&null!==l&&l[Symbol.for("!")]?l[Symbol.for("!")]():!l)())return U(e,o);if(e.eq(Q))return(0).toFixed(o);if(e=re(e),e.lt(X)){const l=A(e,o);return l.replace(/([^(?:e|F)]*)$/,"-$1")}return(()=>void 0!==Y(e,o)&&null!==Y(e,o)&&Y(e,o)[Symbol.for("+")]?Y(e,o)[Symbol.for("+")]("⁻¹"):Y(e,o)+"⁻¹")()}function ee(e){return e=new _(e),(()=>void 0!==e.sign&&null!==e.sign&&e.sign[Symbol.for("<")]?e.sign[Symbol.for("<")](0):e.sign<0)()?(()=>"-"[Symbol.for("+")]?"-"[Symbol.for("+")](ee(e.neg())):"-"+ee(e.neg()))():e.gte(G)||e.lte($)&&(()=>void 0!==e.eq(Q)&&null!==e.eq(Q)&&e.eq(Q)[Symbol.for("!")]?e.eq(Q)[Symbol.for("!")]():!e.eq(Q))()?Y(e):Y(e,0)}function oe(e){return _.lt(e,0)?(()=>"-"[Symbol.for("+")]?"-"[Symbol.for("+")](oe(_.neg(e))):"-"+oe(_.neg(e)))():_.gt(e,(()=>2[Symbol.for("**")]?2[Symbol.for("**")](51):2**51)())?(()=>void 0!==Y(_.div(e,31536e3))&&null!==Y(_.div(e,31536e3))&&Y(_.div(e,31536e3))[Symbol.for("+")]?Y(_.div(e,31536e3))[Symbol.for("+")]("y"):Y(_.div(e,31536e3))+"y")():(e=new _(e).toNumber(),(()=>void 0!==e&&null!==e&&e[Symbol.for("<")]?e[Symbol.for("<")](60):e<60)()?(()=>void 0!==Y(e)&&null!==Y(e)&&Y(e)[Symbol.for("+")]?Y(e)[Symbol.for("+")]("s"):Y(e)+"s")():(()=>void 0!==e&&null!==e&&e[Symbol.for("<")]?e[Symbol.for("<")](3600):e<3600)()?(()=>ee(Math.floor(e/60))+"m "+Y(e%60)!==void 0&&ee(Math.floor(e/60))+"m "+Y(e%60)!==null&&(ee(Math.floor(e/60))+"m "+Y(e%60))[Symbol.for("+")]?(ee(Math.floor(e/60))+"m "+Y(e%60))[Symbol.for("+")]("s"):ee(Math.floor(e/60))+"m "+Y(e%60)+"s")():(()=>void 0!==e&&null!==e&&e[Symbol.for("<")]?e[Symbol.for("<")](86400):e<86400)()?(()=>ee(Math.floor(e/3600))+"h "+ee(Math.floor(e/60)%60)+"m "+ee(e%60)!==void 0&&ee(Math.floor(e/3600))+"h "+ee(Math.floor(e/60)%60)+"m "+ee(e%60)!==null&&(ee(Math.floor(e/3600))+"h "+ee(Math.floor(e/60)%60)+"m "+ee(e%60))[Symbol.for("+")]?(ee(Math.floor(e/3600))+"h "+ee(Math.floor(e/60)%60)+"m "+ee(e%60))[Symbol.for("+")]("s"):ee(Math.floor(e/3600))+"h "+ee(Math.floor(e/60)%60)+"m "+ee(e%60)+"s")():(()=>void 0!==e&&null!==e&&e[Symbol.for("<")]?e[Symbol.for("<")](31536e3):e<31536e3)()?(()=>ee(Math.floor(e/84600)%365)+"d "+ee(Math.floor(e/3600)%24)+"h "+ee(Math.floor(e/60)%60)!==void 0&&ee(Math.floor(e/84600)%365)+"d "+ee(Math.floor(e/3600)%24)+"h "+ee(Math.floor(e/60)%60)!==null&&(ee(Math.floor(e/84600)%365)+"d "+ee(Math.floor(e/3600)%24)+"h "+ee(Math.floor(e/60)%60))[Symbol.for("+")]?(ee(Math.floor(e/84600)%365)+"d "+ee(Math.floor(e/3600)%24)+"h "+ee(Math.floor(e/60)%60))[Symbol.for("+")]("m"):ee(Math.floor(e/84600)%365)+"d "+ee(Math.floor(e/3600)%24)+"h "+ee(Math.floor(e/60)%60)+"m")():(()=>ee(Math.floor(e/31536e3))+"y "+ee(Math.floor(e/84600)%365)+"d "+ee(Math.floor(e/3600)%24)!==void 0&&ee(Math.floor(e/31536e3))+"y "+ee(Math.floor(e/84600)%365)+"d "+ee(Math.floor(e/3600)%24)!==null&&(ee(Math.floor(e/31536e3))+"y "+ee(Math.floor(e/84600)%365)+"d "+ee(Math.floor(e/3600)%24))[Symbol.for("+")]?(ee(Math.floor(e/31536e3))+"y "+ee(Math.floor(e/84600)%365)+"d "+ee(Math.floor(e/3600)%24))[Symbol.for("+")]("h"):ee(Math.floor(e/31536e3))+"y "+ee(Math.floor(e/84600)%365)+"d "+ee(Math.floor(e/3600)%24)+"h")())}function le(e,o,l){e=new _(e);let t=e.toStringWithDecimalPlaces(o);return new _(t).gte(l)&&(t=_.sub(l,Math.pow(.1,o)).toStringWithDecimalPlaces(o)),t}function te(e,o){return Y(e,o,!0)}function re(e){let o=_.log10(e).ceil();const l=_.div(e,_.pow(10,o));return o=o.neg(),e=new _(10).pow(o).times(l),e}},1349:function(e,o,l){"use strict";function t(e){let o=e.replace(/([A-Z])/g," $1");return o=(()=>void 0!==o.charAt(0).toUpperCase()&&null!==o.charAt(0).toUpperCase()&&o.charAt(0).toUpperCase()[Symbol.for("+")]?o.charAt(0).toUpperCase()[Symbol.for("+")](o.slice(1)):o.charAt(0).toUpperCase()+o.slice(1))(),o}function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){return"function"===typeof e}var n;l.d(o,{IJ:function(){return t},PO:function(){return r},mf:function(){return i},Nm:function(){return n}}),function(e){e["Up"]="Up",e["Down"]="Down",e["Left"]="Left",e["Right"]="Right",e["Default"]="Up"}(n||(n={}))},9583:function(e,o,l){"use strict";l.d(o,{mM:function(){return i},yB:function(){return n},UI:function(){return a}});var t=l(4865),r=l(1349);const i=Symbol("DoNotCache");function n(e,o){const l=e[o];(0,r.mf)(l)&&0===l.length&&(()=>void 0!==l[i]&&null!==l[i]&&l[i][Symbol.for("!")]?l[i][Symbol.for("!")]():!l[i])()&&(e[o]=(0,t.computed)(l.bind(e)))}function a(e){return(0,r.mf)(e)&&(()=>void 0!==e[i]&&null!==e[i]&&e[i][Symbol.for("!")]?e[i][Symbol.for("!")]():!e[i])()&&(e=(0,t.computed)(e)),e}},3273:function(e,o,l){"use strict";l.d(o,{Le:function(){return t},c4:function(){return r},z2:function(){return i}});const t=Symbol("ProxyState"),r=Symbol("ProxyPath");function i(e,o={}){const l=o;let r=!1;function i(){return(()=>void 0!==r&&null!==r&&r[Symbol.for("!")]?r[Symbol.for("!")]():!r)()&&(Object.assign(l,e(l)),r=!0),l}return new Proxy(l,{get(e,o){return o===t?i():i()[o]},set(e,o,l){return i()[o]=l,!0},has(e,o){return o===t||Reflect.has(i(),o)},ownKeys(){return Reflect.ownKeys(i())},getOwnPropertyDescriptor(o,t){return(()=>void 0!==r&&null!==r&&r[Symbol.for("!")]?r[Symbol.for("!")]():!r)()&&(Object.assign(l,e(l)),r=!0),Object.getOwnPropertyDescriptor(o,t)}})}},463:function(e,o,l){"use strict";l.d(o,{a1:function(){return m},zD:function(){return c},xM:function(){return f},QI:function(){return d},uW:function(){return y},y6:function(){return b}});l(2801);var t=l(6453),r=l(5967),i=l(9266),n=l(3273),a=l(6961),s=l.n(a);function u(e={}){return Object.assign({id:`${t.id}-0`,name:"Default Save",tabs:t.initialTabs.slice(),time:Date.now(),autosave:!0,offlineProd:!0,offlineTime:0,timePlayed:0,keepGoing:!1,modID:t.id,modVersion:t.versionNumber,layers:{}},e)}function m(e){const o=s().compressToUTF16((0,r.U)(e??r.Z[n.Le]));return localStorage.setItem((e??r.Z[n.Le]).id,o),o}async function c(){(0,i.ri)();try{let e=localStorage.getItem(i.ZP.active);if((()=>void 0!==e&&null!==e&&e[Symbol.for("==")]?e[Symbol.for("==")](null):null==e)())return void await y(f());if("{"===e[0]);else if("e"===e[0])e=decodeURIComponent(escape(atob(e)));else{if("ᯡ"!==e[0])throw"Unable to determine save encoding";e=s().decompressFromUTF16(e)}const o=JSON.parse(e);if((()=>void 0!==o.modID&&null!==o.modID&&o.modID[Symbol.for("!==")]?o.modID[Symbol.for("!==")](t.id):o.modID!==t.id)())return void await y(f());o.id=i.ZP.active,await y(o)}catch(e){console.error("Failed to load save. Falling back to new save.\n",e),await y(f())}}function f(){const e=d(),o=u({id:e});return m(o),i.ZP.saves.push(e),o}function d(){let e,o=0;do{e=`${t.id}-${(()=>void 0!==o&&null!==o&&"object"===typeof o&&o[Symbol.for("postfix-increment")]?o[Symbol.for("postfix-increment")]():o++)()}`}while(localStorage.getItem(e));return e}async function y(e){console.info("Loading save",e);const{layers:o,removeLayer:n,addLayer:a}=await Promise.resolve().then(l.bind(l,9365)),{fixOldSave:s,getInitialLayers:m}=await Promise.resolve().then(l.bind(l,6380));for(const l in o){const e=o[l];e&&n(e)}m(e).forEach((o=>a(o,e))),e=u(e),e.offlineProd&&e.time&&((()=>void 0!==e.offlineTime&&null!==e.offlineTime&&e.offlineTime[Symbol.for("==")]?e.offlineTime[Symbol.for("==")](void 0):void 0==e.offlineTime)()&&(e.offlineTime=0),e.offlineTime=(()=>void 0!==e.offlineTime&&null!==e.offlineTime&&e.offlineTime[Symbol.for("+")]?e.offlineTime[Symbol.for("+")]((Date.now()-e.time)/1e3):e.offlineTime+(Date.now()-e.time)/1e3)()),e.time=Date.now(),(()=>void 0!==e.modVersion&&null!==e.modVersion&&e.modVersion[Symbol.for("!==")]?e.modVersion[Symbol.for("!==")](t.versionNumber):e.modVersion!==t.versionNumber)()&&s(e.modVersion,e),Object.assign(r.Z,e),i.ZP.active=r.Z.id}setInterval((()=>{r.Z.autosave&&m()}),1e3),window.onbeforeunload=()=>{r.Z.autosave&&m()},window.save=m;const b=window.hardReset=async()=>{await y(f())}},6380:function(e,o,l){"use strict";l.r(o),l.d(o,{fixOldSave:function(){return Fl},getInitialLayers:function(){return Tl},hasWon:function(){return Bl},main:function(){return Cl}});var t=l(4865),r=(0,t.defineComponent)({props:{width:{default:"8px"},height:{default:"17px"}},setup(e){return(o,l)=>((0,t.openBlock)(),(0,t.createElementBlock)("div",{style:(0,t.normalizeStyle)({width:e.width,height:e.height})},null,4))}});const i=r;var n=i,a=l(6113);function s(e,o,l,r,i,n){return(0,t.openBlock)(),(0,t.createElementBlock)("div",{ref:"resizeListener",class:(0,t.normalizeClass)(["resize-listener",e.unref(e.classes)]),style:(0,t.normalizeStyle)(e.unref(e.style))},null,6)}var u=l(9365),m=l(6591),c=l(1604),f=(0,t.defineComponent)({props:{style:(0,c.P5)(String,Object,Array),classes:(0,c.P5)(Object),onInit:{type:Function,required:!0},id:{type:String,required:!0},onContainerResized:Function,onHotReload:Function},setup(e){const o=(0,t.ref)(null),l=new ResizeObserver(a),r=(0,t.inject)(u.NodesInjectionKey),i=(0,t.ref)(null);(0,t.onMounted)((()=>{const t=i.value;(()=>void 0!==t&&null!==t&&t[Symbol.for("!=")]?t[Symbol.for("!=")](null):null!=t)()&&(l.observe(t),o.value=new m.MxU({resizeTo:t,backgroundAlpha:0}),i.value?.appendChild(o.value.view),e.onInit(o.value)),a()})),(0,t.onBeforeUnmount)((()=>{o.value?.destroy()}));let n=!0;function a(){n&&(n=!1,(0,t.nextTick)((()=>{(()=>void 0!==i.value&&null!==i.value&&i.value[Symbol.for("!=")]?i.value[Symbol.for("!=")](null):null!=i.value)()&&e.onContainerResized&&(Object.values(r.value).filter((e=>e)).forEach((e=>e.rect=e.element.getBoundingClientRect())),e.onContainerResized(i.value.getBoundingClientRect()),o.value?.resize()),n=!0})))}return document.fonts.ready.then(a),{unref:t.unref,resizeListener:i}}}),d=l(3744);const y=(0,d.Z)(f,[["render",s],["__scopeId","data-v-c6c07f60"]]);var b=y,h=l(3273),p=l(1845);const v=Symbol("Particles");function g(e){return(0,h.z2)((()=>{const o=e?.()??{};o.id=(0,a.QI)("particles-"),o.type=v,o[a.wA]=b,o.app=(0,t.shallowRef)(null),o.addEmitter=e=>{const t=o;return t.app.value?Promise.resolve(new p.Q5(t.app.value.stage,e)):new Promise((o=>{l.push({resolve:o,config:e})}))};let l=[];function r(e){o.app.value=e,l.forEach((({resolve:o,config:l})=>o(new p.Q5(e.stage,l)))),l=[]}return o.onContainerResized=o.onContainerResized?.bind(o),o[a.tj]=function(){const{id:e,style:o,classes:l,onContainerResized:i,onHotReload:n}=this;return{id:e,style:(0,t.unref)(o),classes:l,onContainerResized:i,onHotReload:n,onInit:r}},o}))}window.upgradeConfig=p.oC;const S=["disabled"];function N(e,o,l,r,i,n){const a=(0,t.resolveComponent)("MarkNode"),s=(0,t.resolveComponent)("Node");return(()=>void 0!==e.unref(e.visibility)&&null!==e.unref(e.visibility)&&e.unref(e.visibility)[Symbol.for("!==")]?e.unref(e.visibility)[Symbol.for("!==")](e.Visibility.None):e.unref(e.visibility)!==e.Visibility.None)()?((0,t.openBlock)(),(0,t.createElementBlock)("button",{key:0,style:(0,t.normalizeStyle)([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},e.unref(e.style)??{}]),onClick:o[0]||(o[0]=(...o)=>e.purchase&&e.purchase(...o)),class:(0,t.normalizeClass)({feature:!0,upgrade:!0,can:e.unref(e.canPurchase),locked:(()=>void 0!==e.unref(e.canPurchase)&&null!==e.unref(e.canPurchase)&&e.unref(e.canPurchase)[Symbol.for("!")]?e.unref(e.canPurchase)[Symbol.for("!")]():!e.unref(e.canPurchase))(),bought:e.unref(e.bought),...e.unref(e.classes)}),disabled:(()=>void 0!==e.unref(e.canPurchase)&&null!==e.unref(e.canPurchase)&&e.unref(e.canPurchase)[Symbol.for("!")]?e.unref(e.canPurchase)[Symbol.for("!")]():!e.unref(e.canPurchase))()},[e.unref(e.component)?((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(e.unref(e.component)),{key:0})):(0,t.createCommentVNode)("",!0),(0,t.createVNode)(a,{mark:e.unref(e.mark)},null,8,["mark"]),(0,t.createVNode)(s,{id:e.id},null,8,["id"])],14,S)):(0,t.createCommentVNode)("",!0)}var k=(0,t.defineComponent)({props:{id:null},setup(e){const o=e,l=(0,t.toRefs)(o),r=(0,t.inject)(u.RegisterNodeInjectionKey),i=(0,t.inject)(u.UnregisterNodeInjectionKey),n=(0,t.ref)(null),a=(0,t.computed)((()=>n.value&&n.value.parentElement));return r&&i&&((0,t.watch)([a,l.id],(([e,o],[l,n])=>{l&&i((0,t.unref)(n)),e&&r(o,e)})),(0,t.onUnmounted)((()=>i((0,t.unref)(l.id))))),(e,o)=>((0,t.openBlock)(),(0,t.createElementBlock)("div",{class:"node",ref_key:"node",ref:n},null,512))}});const x=(0,d.Z)(k,[["__scopeId","data-v-63ded336"]]);var V=x;const w={key:0},M={key:0,class:"mark star"},P=["src"];var Z=(0,t.defineComponent)({props:{mark:{type:[Boolean,String]}},setup(e){return(o,l)=>e.mark?((0,t.openBlock)(),(0,t.createElementBlock)("div",w,[!0===e.mark?((0,t.openBlock)(),(0,t.createElementBlock)("div",M)):((0,t.openBlock)(),(0,t.createElementBlock)("img",{key:1,class:"mark",src:e.mark},null,8,P))])):(0,t.createCommentVNode)("",!0)}});const E=(0,d.Z)(Z,[["__scopeId","data-v-c476c56a"]]);var C=E,T=l(9706),B=l(7302),F=l(4061);function D(e,o="points",l=0,r){const i=(0,t.isRef)(e)?e:(0,F.ax)(e);return i.displayName=o,i.precision=l,i.small=r,i}new T.ZP("10^^8"),new T.ZP("1e100");function I(e,o){const l=o??e.value;return T.ZP.eq(e.precision,0)?(0,T.Ht)(l):(0,T.WU)(l,e.precision,e.small)}var q=(0,t.defineComponent)({props:{display:{type:(0,c.P5)(String,Object,Function),required:!0},visibility:{type:(0,c.P5)(Number),required:!0},style:(0,c.P5)(String,Object,Array),classes:(0,c.P5)(Object),resource:Object,cost:(0,c.P5)(String,Object,Number),canPurchase:{type:(0,c.P5)(Boolean),required:!0},bought:{type:(0,c.P5)(Boolean),required:!0},mark:(0,c.P5)(Boolean,String),id:{type:String,required:!0},purchase:{type:Function,required:!0}},components:{Node:V,MarkNode:C},setup(e){const{display:o,cost:l}=(0,t.toRefs)(e),r=(0,t.shallowRef)("");return(0,t.watchEffect)((()=>{const i=(0,c.Uv)(o);if((()=>void 0!==i&&null!==i&&i[Symbol.for("==")]?i[Symbol.for("==")](null):null==i)())return void(r.value="");if((0,c.RU)(i))return void(r.value=(0,c.MM)(i));const n=(0,c.Uv)(l),s=(0,c.MM)(i.title||"","h3"),u=(0,c.MM)(i.description,"div"),m=(0,c.MM)(i.effectDisplay||"");r.value=(0,c.MM)((0,a.tZ)((()=>(0,t.createVNode)("span",null,[i.title?(0,t.createVNode)("div",null,[(0,t.createVNode)(s,null,null)]):null,(0,t.createVNode)(u,null,null),i.effectDisplay?(0,t.createVNode)("div",null,[(0,t.createTextVNode)("Currently: "),(0,t.createVNode)(m,null,null)]):null,(()=>void 0!==e.resource&&null!==e.resource&&e.resource[Symbol.for("!=")]?e.resource[Symbol.for("!=")](null):null!=e.resource)()?(0,t.createVNode)(t.Fragment,null,[(0,t.createVNode)("br",null,null),(0,t.createTextVNode)("Cost: "),e.resource&&I(e.resource,n)," ",e.resource?.displayName]):null]))))})),{component:r,unref:t.unref,Visibility:a.EE}}});const _=(0,d.Z)(q,[["render",N],["__scopeId","data-v-6f164fe2"]]);var j=_,L=l(1349),O=l(9583);const A=Symbol("Upgrade");function R(e){const o=(0,F.ax)(!1);return(0,h.z2)((()=>{const l=e();return l.id=(0,a.QI)("upgrade-"),l.type=A,l[a.wA]=j,(()=>void 0!==l.canAfford&&null!==l.canAfford&&l.canAfford[Symbol.for("==")]?l.canAfford[Symbol.for("==")](null):null==l.canAfford)()&&((()=>void 0!==l.resource&&null!==l.resource&&l.resource[Symbol.for("==")]?l.resource[Symbol.for("==")](null):null==l.resource)()||(()=>void 0!==l.cost&&null!==l.cost&&l.cost[Symbol.for("==")]?l.cost[Symbol.for("==")](null):null==l.cost)())&&console.warn("Error: can't create upgrade without a canAfford property or a resource and cost property",l),l.bought=o,(()=>void 0!==l.canAfford&&null!==l.canAfford&&l.canAfford[Symbol.for("==")]?l.canAfford[Symbol.for("==")](null):null==l.canAfford)()?l.canAfford=(0,t.computed)((()=>{const e=l;return(()=>void 0!==e.resource&&null!==e.resource&&e.resource[Symbol.for("!=")]?e.resource[Symbol.for("!=")](null):null!=e.resource)()&&(()=>void 0!==e.cost&&null!==e.cost&&e.cost[Symbol.for("!=")]?e.cost[Symbol.for("!=")](null):null!=e.cost)()&&T.ZP.gte(e.resource.value,(0,t.unref)(e.cost))})):(0,O.yB)(l,"canAfford"),l.canPurchase=(0,t.computed)((()=>(0,t.unref)(l.visibility)===a.EE.Visible&&(0,t.unref)(l.canAfford)&&(()=>void 0!==(0,t.unref)(l.bought)&&null!==(0,t.unref)(l.bought)&&(0,t.unref)(l.bought)[Symbol.for("!")]?(0,t.unref)(l.bought)[Symbol.for("!")]():!(0,t.unref)(l.bought))())),l.purchase=function(){const e=l;(()=>void 0!==(0,t.unref)(e.canPurchase)&&null!==(0,t.unref)(e.canPurchase)&&(0,t.unref)(e.canPurchase)[Symbol.for("!")]?(0,t.unref)(e.canPurchase)[Symbol.for("!")]():!(0,t.unref)(e.canPurchase))()||((()=>void 0!==e.resource&&null!==e.resource&&e.resource[Symbol.for("!=")]?e.resource[Symbol.for("!=")](null):null!=e.resource)()&&(()=>void 0!==e.cost&&null!==e.cost&&e.cost[Symbol.for("!=")]?e.cost[Symbol.for("!=")](null):null!=e.cost)()&&(e.resource.value=T.ZP.sub(e.resource.value,(0,t.unref)(e.cost))),o.value=!0,e.onPurchase?.())},(0,O.yB)(l,"visibility"),(0,a.Rh)(l,"visibility",a.EE.Visible),(0,O.yB)(l,"classes"),(0,O.yB)(l,"style"),(0,O.yB)(l,"display"),(0,O.yB)(l,"mark"),(0,O.yB)(l,"cost"),(0,O.yB)(l,"resource"),l[a.tj]=function(){const{display:e,visibility:o,style:l,classes:r,resource:i,cost:n,canPurchase:a,bought:s,mark:u,id:m,purchase:c}=this;return{display:e,visibility:o,style:(0,t.unref)(l),classes:r,resource:i,cost:n,canPurchase:a,bought:s,mark:u,id:m,purchase:c}},l}))}var U=l(5967),z=JSON.parse('{"lifetime":{"min":0.5,"max":1},"ease":[{"s":0,"cp":0.329,"e":0.548},{"s":0.548,"cp":0.767,"e":0.876},{"s":0.876,"cp":0.985,"e":1}],"frequency":0.001,"emitterLifetime":0.1,"maxParticles":100,"addAtBack":true,"pos":{"x":0,"y":0},"emit":false,"behaviors":[{"type":"alpha","config":{"alpha":{"list":[{"time":0,"value":0.74},{"time":1,"value":0}]}}},{"type":"moveSpeed","config":{"speed":{"list":[{"time":0,"value":700},{"time":1,"value":0}]},"minMult":1}},{"type":"scale","config":{"scale":{"list":[{"time":0,"value":5},{"time":1,"value":1.2}]},"minMult":1}},{"type":"color","config":{"color":{"list":[{"time":0,"value":"#ffdfa0"},{"time":1,"value":"#100f0c"}]}}},{"type":"rotation","config":{"accel":0,"minSpeed":0,"maxSpeed":200,"minStart":0,"maxStart":360}},{"type":"textureRandom","config":{"textures":["/particle.png"]}},{"type":"spawnShape","config":{"type":"rect","data":{"x":0,"y":0,"w":200,"h":100}}}]}');const W=e=>((0,t.pushScopeId)("data-v-42646e22"),e=e(),(0,t.popScopeId)(),e),X={class:"modal-mask",style:{"z-index":"10","background-color":"var(--raised-background)",top:"50px"}},G={class:"cutscene-positioner"},H={class:"modal-container cutscene-container"},J=W((()=>(0,t.createElementVNode)("div",{class:"paper-background"},null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),$={class:"content"},K={key:0,class:"caption"},Q={style:{display:"none"}},Y={id:"wavy2"},ee=["seed"],oe=W((()=>(0,t.createElementVNode)("feDisplacementMap",{in:"SourceGraphic",scale:"20"},null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)())));var le=(0,t.defineComponent)({props:{stage:null,caption:null},emits:["next"],setup(e,{emit:o}){const l=e,r=(0,t.toRef)(l,"stage"),i=(0,t.toRef)(l,"caption"),n=(0,t.ref)(1);(0,t.watch)([r,i],(()=>(()=>void 0!==n.value&&null!==n.value&&"object"===typeof n.value&&n.value[Symbol.for("postfix-increment")]?n.value[Symbol.for("postfix-increment")]():n.value++)()));const a=(0,c.vq)(r),s=(0,c.KO)(i);return(e,l)=>((0,t.openBlock)(),(0,t.createBlock)(t.Teleport,{to:"#modal-root"},[(0,t.createVNode)(t.Transition,{name:"cutscene-modal"},{default:(0,t.withCtx)((()=>[(0,t.createElementVNode)("div",X,[(0,t.createElementVNode)("div",G,[(0,t.createElementVNode)("div",H,[J,(0,t.createElementVNode)("div",$,[((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)((0,t.unref)(a)))),(0,t.unref)(s)?((0,t.openBlock)(),(0,t.createElementBlock)("div",K,[((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)((0,t.unref)(s))))])):(0,t.createCommentVNode)("",!0)]),(0,t.createElementVNode)("button",{onClick:l[0]||(l[0]=e=>o("next")),class:"button next"},"Next")]),((0,t.openBlock)(),(0,t.createElementBlock)("svg",Q,[(0,t.createElementVNode)("filter",Y,[(0,t.createElementVNode)("feTurbulence",{x:"-50vw",y:"-50vh",width:"200vw",height:"200vh",baseFrequency:"0.015",numOctaves:"10",seed:n.value},null,8,ee),oe])]))])])])),_:1})]))}});const te=(0,d.Z)(le,[["__scopeId","data-v-42646e22"]]);var re=te,ie=l(9905),ne=(0,t.defineComponent)({props:{collapsed:null,display:null,content:null},setup(e){const o=e,l=(0,t.computed)((()=>(0,c.MM)(o.display))),r=(0,t.computed)((()=>(0,c.MM)(o.content)));return(o,i)=>((0,t.openBlock)(),(0,t.createBlock)(ie.Z,{class:"collapsible-container"},{default:(0,t.withCtx)((()=>[(0,t.createElementVNode)("button",{onClick:i[0]||(i[0]=o=>e.collapsed.value=(()=>void 0!==e.collapsed.value&&null!==e.collapsed.value&&e.collapsed.value[Symbol.for("!")]?e.collapsed.value[Symbol.for("!")]():!e.collapsed.value)()),class:"feature collapsible-toggle"},[((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)((0,t.unref)(l))))]),(()=>void 0!==e.collapsed.value&&null!==e.collapsed.value&&e.collapsed.value[Symbol.for("!")]?e.collapsed.value[Symbol.for("!")]():!e.collapsed.value)()?((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)((0,t.unref)(r)),{key:0})):(0,t.createCommentVNode)("",!0)])),_:1}))}});const ae=(0,d.Z)(ne,[["__scopeId","data-v-5acc7780"]]);var se=ae;function ue(e,o,l,r,i,n){const a=(0,t.resolveComponent)("MarkNode"),s=(0,t.resolveComponent)("Node");return(()=>void 0!==e.unref(e.visibility)&&null!==e.unref(e.visibility)&&e.unref(e.visibility)[Symbol.for("!==")]?e.unref(e.visibility)[Symbol.for("!==")](e.Visibility.None):e.unref(e.visibility)!==e.Visibility.None)()?((0,t.openBlock)(),(0,t.createElementBlock)("button",{key:0,style:(0,t.normalizeStyle)([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},e.unref(e.style)??[]]),onClick:o[0]||(o[0]=(...o)=>e.onClick&&e.onClick(...o)),onMousedown:o[1]||(o[1]=(...o)=>e.start&&e.start(...o)),onMouseleave:o[2]||(o[2]=(...o)=>e.stop&&e.stop(...o)),onMouseup:o[3]||(o[3]=(...o)=>e.stop&&e.stop(...o)),onTouchstartPassive:o[4]||(o[4]=(...o)=>e.start&&e.start(...o)),onTouchendPassive:o[5]||(o[5]=(...o)=>e.stop&&e.stop(...o)),onTouchcancelPassive:o[6]||(o[6]=(...o)=>e.stop&&e.stop(...o)),class:(0,t.normalizeClass)({feature:!0,clickable:!0,can:e.unref(e.canClick),locked:(()=>void 0!==e.unref(e.canClick)&&null!==e.unref(e.canClick)&&e.unref(e.canClick)[Symbol.for("!")]?e.unref(e.canClick)[Symbol.for("!")]():!e.unref(e.canClick))(),small:e.small,...e.unref(e.classes)})},[e.unref(e.comp)?((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(e.unref(e.comp)),{key:0})):(0,t.createCommentVNode)("",!0),(0,t.createVNode)(a,{mark:e.unref(e.mark)},null,8,["mark"]),(0,t.createVNode)(s,{id:e.id},null,8,["id"])],38)):(0,t.createCommentVNode)("",!0)}var me=(0,t.defineComponent)({props:{display:{type:(0,c.P5)(Object,String,Function),required:!0},visibility:{type:(0,c.P5)(Number),required:!0},style:(0,c.P5)(Object,String,Array),classes:(0,c.P5)(Object),onClick:Function,onHold:Function,canClick:{type:(0,c.P5)(Boolean),required:!0},small:Boolean,mark:(0,c.P5)(Boolean,String),id:{type:String,required:!0}},components:{Node:V,MarkNode:C},setup(e){const{display:o,onClick:l,onHold:r}=(0,t.toRefs)(e),i=(0,t.shallowRef)("");(0,t.watchEffect)((()=>{const e=(0,c.Uv)(o);if((()=>void 0!==e&&null!==e&&e[Symbol.for("==")]?e[Symbol.for("==")](null):null==e)())return void(i.value="");if((0,c.RU)(e))return void(i.value=(0,c.MM)(e));const l=(0,c.MM)(e.title||"","h3"),r=(0,c.MM)(e.description,"div");i.value=(0,c.MM)((0,a.tZ)((()=>(0,t.createVNode)("span",null,[e.title?(0,t.createVNode)("div",null,[(0,t.createVNode)(l,null,null)]):null,(0,t.createVNode)(r,null,null)]))))}));const{start:n,stop:s}=(0,c.ix)(l,r);return{start:n,stop:s,comp:i,Visibility:a.EE,unref:t.unref}}});const ce=(0,d.Z)(me,[["render",ue],["__scopeId","data-v-e4e6b79a"]]);var fe=ce;const de=Symbol("Clickable");function ye(e){return(0,h.z2)((()=>{const o=e?.()??{};if(o.id=(0,a.QI)("clickable-"),o.type=de,o[a.wA]=fe,(0,O.yB)(o,"visibility"),(0,a.Rh)(o,"visibility",a.EE.Visible),(0,O.yB)(o,"canClick"),(0,a.Rh)(o,"canClick",!0),(0,O.yB)(o,"classes"),(0,O.yB)(o,"style"),(0,O.yB)(o,"mark"),(0,O.yB)(o,"display"),o.onClick){const e=o.onClick.bind(o);o.onClick=function(l){(0,t.unref)(o.canClick)&&e(l)}}if(o.onHold){const e=o.onHold.bind(o);o.onHold=function(){(0,t.unref)(o.canClick)&&e()}}return o[a.tj]=function(){const{display:e,visibility:o,style:l,classes:r,onClick:i,onHold:n,canClick:a,small:s,mark:u,id:m}=this;return{display:e,visibility:o,style:(0,t.unref)(l),classes:r,onClick:i,onHold:n,canClick:a,small:s,mark:u,id:m}},o}))}function be(e,o,l,r,i,n){const a=(0,t.resolveComponent)("Links");return(0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,null,[((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(e.nodesComp))),e.leftNodesComp?((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(e.leftNodesComp),{key:0})):(0,t.createCommentVNode)("",!0),e.rightNodesComp?((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(e.rightNodesComp),{key:1})):(0,t.createCommentVNode)("",!0),e.branches?((0,t.openBlock)(),(0,t.createBlock)(a,{key:2,links:e.unref(e.branches)},null,8,["links"])):(0,t.createCommentVNode)("",!0)],64)}const he=["x1","y1","x2","y2"];var pe=(0,t.defineComponent)({props:{link:null,startNode:null,endNode:null,boundingRect:null},setup(e){const o=e,l=(0,t.toRefs)(o),r=(0,t.computed)((()=>{const e=l.startNode.value.rect,o=l.boundingRect.value,t=o?{x:(()=>e.x+e.width/2!==void 0&&e.x+e.width/2!==null&&(e.x+e.width/2)[Symbol.for("-")]?(e.x+e.width/2)[Symbol.for("-")](o.x):e.x+e.width/2-o.x)(),y:(()=>e.y+e.height/2!==void 0&&e.y+e.height/2!==null&&(e.y+e.height/2)[Symbol.for("-")]?(e.y+e.height/2)[Symbol.for("-")](o.y):e.y+e.height/2-o.y)()}:{x:0,y:0};return l.link.value.offsetStart&&(t.x=(()=>void 0!==t.x&&null!==t.x&&t.x[Symbol.for("+")]?t.x[Symbol.for("+")](l.link.value.offsetStart.x):t.x+l.link.value.offsetStart.x)(),t.y=(()=>void 0!==t.y&&null!==t.y&&t.y[Symbol.for("+")]?t.y[Symbol.for("+")](l.link.value.offsetStart.y):t.y+l.link.value.offsetStart.y)()),t})),i=(0,t.computed)((()=>{const e=l.endNode.value.rect,o=l.boundingRect.value,t=o?{x:(()=>e.x+e.width/2!==void 0&&e.x+e.width/2!==null&&(e.x+e.width/2)[Symbol.for("-")]?(e.x+e.width/2)[Symbol.for("-")](o.x):e.x+e.width/2-o.x)(),y:(()=>e.y+e.height/2!==void 0&&e.y+e.height/2!==null&&(e.y+e.height/2)[Symbol.for("-")]?(e.y+e.height/2)[Symbol.for("-")](o.y):e.y+e.height/2-o.y)()}:{x:0,y:0};return l.link.value.offsetEnd&&(t.x=(()=>void 0!==t.x&&null!==t.x&&t.x[Symbol.for("+")]?t.x[Symbol.for("+")](l.link.value.offsetEnd.x):t.x+l.link.value.offsetEnd.x)(),t.y=(()=>void 0!==t.y&&null!==t.y&&t.y[Symbol.for("+")]?t.y[Symbol.for("+")](l.link.value.offsetEnd.y):t.y+l.link.value.offsetEnd.y)()),t}));return(o,l)=>((0,t.openBlock)(),(0,t.createElementBlock)("line",(0,t.mergeProps)({"stroke-width":"15px",stroke:"white"},e.link,{x1:(0,t.unref)(r).x,y1:(0,t.unref)(r).y,x2:(0,t.unref)(i).x,y2:(0,t.unref)(i).y}),null,16,he))}});const ve=pe;var ge=ve,Se=(0,t.defineComponent)({props:{links:null},setup(e){const o=e,l=(0,t.toRef)(o,"links"),r=new ResizeObserver(m),i=(0,t.inject)(u.NodesInjectionKey),n=(0,t.ref)(null);(0,t.onMounted)((()=>{const e=n.value;(()=>void 0!==e&&null!==e&&e[Symbol.for("!=")]?e[Symbol.for("!=")](null):null!=e)()&&r.observe(e)}));let a=!0,s=(0,t.ref)(n.value?.getBoundingClientRect());function m(){(()=>void 0!==n.value&&null!==n.value&&n.value[Symbol.for("!=")]?n.value[Symbol.for("!=")](null):null!=n.value)()&&a&&(a=!1,(0,t.nextTick)((()=>{s.value=n.value?.getBoundingClientRect(),Object.values(i.value).filter((e=>e)).forEach((e=>e.rect=e.element.getBoundingClientRect())),a=!0})))}document.fonts.ready.then(m);const c=(0,t.computed)((()=>{const e=i.value;return l.value?.filter((o=>e[o.startNode.id]?.rect&&e[o.startNode.id]?.rect))??[]}));return(e,o)=>((0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,null,[(0,t.unref)(c)?((0,t.openBlock)(),(0,t.createElementBlock)("svg",(0,t.normalizeProps)((0,t.mergeProps)({key:0},e.$attrs)),[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)((0,t.unref)(c),((e,o)=>((0,t.openBlock)(),(0,t.createBlock)(ge,{key:o,link:e,boundingRect:(0,t.unref)(s),startNode:(0,t.unref)(i)[e.startNode.id],endNode:(0,t.unref)(i)[e.endNode.id]},null,8,["link","boundingRect","startNode","endNode"])))),128))],16)):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("div",{ref_key:"resizeListener",ref:n,class:"resize-listener"},null,512)],64))}});const Ne=(0,d.Z)(Se,[["__scopeId","data-v-738c10ea"]]);var ke=Ne,xe=(0,t.defineComponent)({props:{nodes:{type:(0,c.P5)(Array),required:!0},leftSideNodes:(0,c.P5)(Array),rightSideNodes:(0,c.P5)(Array),branches:(0,c.P5)(Array)},components:{Links:ke},setup(e){const{nodes:o,leftSideNodes:l,rightSideNodes:r}=(0,t.toRefs)(e),i=(0,t.shallowRef)();(0,t.watchEffect)((()=>{const e=(0,c.Uv)(o);i.value=(0,c.MM)((0,a.tZ)((()=>(0,t.createVNode)(t.Fragment,null,[e.map((e=>(0,t.createVNode)("span",{class:"row tree-row",style:"margin: 50px auto;"},[e.map(c.qF)])))]))))}));const n=(0,t.shallowRef)();(0,t.watchEffect)((()=>{const e=(0,c.Uv)(l);n.value=e?(0,c.MM)((0,a.tZ)((()=>(0,t.createVNode)("span",{class:"left-side-nodes small"},[e.map(c.qF)])))):""}));const s=(0,t.shallowRef)();return(0,t.watchEffect)((()=>{const e=(0,c.Uv)(r);s.value=e?(0,c.MM)((0,a.tZ)((()=>(0,t.createVNode)("span",{class:"side-nodes small"},[e.map(c.qF)])))):""})),{unref:t.unref,nodesComp:i,leftNodesComp:n,rightNodesComp:s}}});const Ve=(0,d.Z)(xe,[["render",be],["__scopeId","data-v-aa87859c"]]);var we=Ve;function Me(e,o,l,r,i,n){const a=(0,t.resolveComponent)("MarkNode"),s=(0,t.resolveComponent)("Node");return(()=>void 0!==e.unref(e.visibility)&&null!==e.unref(e.visibility)&&e.unref(e.visibility)[Symbol.for("!==")]?e.unref(e.visibility)[Symbol.for("!==")](e.Visibility.None):e.unref(e.visibility)!==e.Visibility.None)()?((0,t.openBlock)(),(0,t.createElementBlock)("div",{key:0,style:(0,t.normalizeStyle)({visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0}),class:(0,t.normalizeClass)({treeNode:!0,can:e.unref(e.canClick),...e.unref(e.classes)}),onClick:o[0]||(o[0]=(...o)=>e.onClick&&e.onClick(...o)),onMousedown:o[1]||(o[1]=(...o)=>e.start&&e.start(...o)),onMouseleave:o[2]||(o[2]=(...o)=>e.stop&&e.stop(...o)),onMouseup:o[3]||(o[3]=(...o)=>e.stop&&e.stop(...o)),onTouchstartPassive:o[4]||(o[4]=(...o)=>e.start&&e.start(...o)),onTouchendPassive:o[5]||(o[5]=(...o)=>e.stop&&e.stop(...o)),onTouchcancelPassive:o[6]||(o[6]=(...o)=>e.stop&&e.stop(...o))},[(0,t.createElementVNode)("div",{style:(0,t.normalizeStyle)([{backgroundColor:e.unref(e.color),boxShadow:`-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 20px ${e.unref(e.glowColor)}`},e.unref(e.style)??[]])},[((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(e.unref(e.comp))))],4),(0,t.createVNode)(a,{mark:e.unref(e.mark)},null,8,["mark"]),(0,t.createVNode)(s,{id:e.id},null,8,["id"])],38)):(0,t.createCommentVNode)("",!0)}var Pe=(0,t.defineComponent)({props:{display:(0,c.P5)(Object,String,Function),visibility:{type:(0,c.P5)(Number),required:!0},style:(0,c.P5)(String,Object,Array),classes:(0,c.P5)(Object),onClick:Function,onHold:Function,color:(0,c.P5)(String),glowColor:(0,c.P5)(String),canClick:{type:(0,c.P5)(Boolean),required:!0},mark:(0,c.P5)(Boolean,String),id:{type:String,required:!0}},components:{MarkNode:C,Node:V},setup(e){const{onClick:o,onHold:l,display:r}=(0,t.toRefs)(e),i=(0,c.KO)(r),{start:n,stop:s}=(0,c.ix)(o,l);return{start:n,stop:s,comp:i,unref:t.unref,Visibility:a.EE,isCoercableComponent:c.RU}}});const Ze=(0,d.Z)(Pe,[["render",Me],["__scopeId","data-v-094cdcfe"]]);var Ee=Ze;const Ce=Symbol("TreeNode"),Te=Symbol("Tree");function Be(e){return(0,h.z2)((()=>{const o=e?.()??{};if(o.id=(0,a.QI)("treeNode-"),o.type=Ce,o[a.wA]=Ee,(0,O.yB)(o,"visibility"),(0,a.Rh)(o,"visibility",a.EE.Visible),(0,O.yB)(o,"canClick"),(0,a.Rh)(o,"canClick",!0),(0,O.yB)(o,"color"),(0,O.yB)(o,"display"),(0,O.yB)(o,"glowColor"),(0,O.yB)(o,"classes"),(0,O.yB)(o,"style"),(0,O.yB)(o,"mark"),o.onClick){const e=o.onClick.bind(o);o.onClick=function(){(0,t.unref)(o.canClick)&&e()}}if(o.onHold){const e=o.onHold.bind(o);o.onHold=function(){(0,t.unref)(o.canClick)&&e()}}return o[a.tj]=function(){const{display:e,visibility:o,style:l,classes:t,onClick:r,onHold:i,color:n,glowColor:a,canClick:s,mark:u,id:m}=this;return{display:e,visibility:o,style:l,classes:t,onClick:r,onHold:i,color:n,glowColor:a,canClick:s,mark:u,id:m}},o}))}function Fe(e){return(0,h.z2)((()=>{const o=e();return o.id=(0,a.QI)("tree-"),o.type=Te,o[a.wA]=we,o.isResetting=(0,t.ref)(!1),o.resettingNode=(0,t.shallowRef)(null),o.reset=function(e){const l=o;l.isResetting.value=!0,l.resettingNode.value=e,l.resetPropagation?.(l,e),l.onReset?.(e),l.isResetting.value=!1,l.resettingNode.value=null},o.links=(0,t.computed)((()=>{const e=o;return(0,t.unref)(e.branches)??[]})),(0,O.yB)(o,"visibility"),(0,a.Rh)(o,"visibility",a.EE.Visible),(0,O.yB)(o,"nodes"),(0,O.yB)(o,"leftSideNodes"),(0,O.yB)(o,"rightSideNodes"),(0,O.yB)(o,"branches"),o[a.tj]=function(){const{nodes:e,leftSideNodes:o,rightSideNodes:l,branches:t}=this;return{nodes:e,leftSideNodes:o,rightSideNodes:l,branches:t}},o}))}function De(e){const o=e.map((e=>(0,O.UI)(e.base))),l=e.map((e=>(0,O.UI)(e.baseText))),r=e.map((e=>(0,O.UI)(e.visible))),i=e.map((()=>(0,F.ax)(!1))),n=(0,a.tZ)((()=>{const n=e.map(((e,n)=>{if(!1===(0,t.unref)(r[n]))return null;const a=(0,t.createVNode)("h3",{onClick:()=>i[n].value=(()=>void 0!==i[n].value&&null!==i[n].value&&i[n].value[Symbol.for("!")]?i[n].value[Symbol.for("!")]():!i[n].value)(),style:"cursor: pointer"},[(0,t.createVNode)("span",{class:(()=>"modifier-toggle"[Symbol.for("+")]?"modifier-toggle"[Symbol.for("+")]((0,t.unref)(i[n])?" collapsed":""):"modifier-toggle"+((0,t.unref)(i[n])?" collapsed":""))()},[(0,t.createTextVNode)("▼")]),e.title,e.subtitle?(0,t.createVNode)("span",{class:"subtitle"},[(0,t.createTextVNode)(" ("),e.subtitle,(0,t.createTextVNode)(")")]):null]),s=(0,t.unref)(i[n])?null:(0,t.createVNode)(t.Fragment,null,[(0,t.createVNode)("div",{class:"modifier-container"},[(0,t.createVNode)("span",{class:"modifier-amount"},[(0,T.WU)((0,t.unref)(o[n])??1),e.unit]),(0,t.createVNode)("span",{class:"modifier-description"},[(0,c.qF)((0,t.unref)(l[n])??"Base")])]),(0,c.qF)((0,t.unref)(e.modifier.description))]);return(0,t.createVNode)(t.Fragment,null,[0===n?null:(0,t.createVNode)("br",null,null),(0,t.createVNode)("div",null,[a,(0,t.createVNode)("br",null,null),s,(0,t.createVNode)("hr",null,null),(0,t.createTextVNode)("Total: "),(0,T.WU)(e.modifier.apply((0,t.unref)(o[n])??1)),e.unit])])}));return(0,t.createVNode)(t.Fragment,null,[n])}));return[n,i]}const Ie=e=>((0,t.pushScopeId)("data-v-1cfac758"),e=e(),(0,t.popScopeId)(),e),qe=["src"],_e={class:"job-contents"},je={class:"job-title"},Le={style:{"margin-bottom":"2px"}},Oe=Ie((()=>(0,t.createElementVNode)("span",{style:{"flex-grow":"1"}},null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Ae={key:0,class:"job-quip"},Re=Ie((()=>(0,t.createElementVNode)("div",{class:"job-progress-container"},[(0,t.createElementVNode)("div",{class:"job-progress"})],(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),Ue=["disabled"];function ze(e,o,l,r,i,n){const a=(0,t.resolveComponent)("ModifierInfo"),s=(0,t.resolveComponent)("Tooltip"),u=(0,t.resolveComponent)("Node");return(()=>void 0!==e.unref(e.visibility)&&null!==e.unref(e.visibility)&&e.unref(e.visibility)[Symbol.for("!==")]?e.unref(e.visibility)[Symbol.for("!==")](e.Visibility.None):e.unref(e.visibility)!==e.Visibility.None)()?((0,t.openBlock)(),(0,t.createElementBlock)("span",{key:0,style:(0,t.normalizeStyle)([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0,"--posx":e.unref(e.imageFocus).x,"--posy":e.unref(e.imageFocus).y,"--progress":`${(()=>1-e.unref(e.levelProgress)!==void 0&&1-e.unref(e.levelProgress)!==null&&(1-e.unref(e.levelProgress))[Symbol.for("*")]?(1-e.unref(e.levelProgress))[Symbol.for("*")](100):100*(1-e.unref(e.levelProgress)))()}%`,"--foreground":e.unref(e.color)},e.unref(e.style)??{}]),class:(0,t.normalizeClass)(["feature dontMerge job",{selected:e.selected,active:e.selected||e.unref(e.timeLoopActive),animating:e.animating}]),onClick:o[1]||(o[1]=(...o)=>e.openJob&&e.openJob(...o))},[(0,t.createElementVNode)("img",{src:e.unref(e.image)},null,8,qe),(0,t.createElementVNode)("div",_e,[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(e.resourceArray,((o,l)=>((0,t.openBlock)(),(0,t.createElementBlock)("div",{class:"job-resource",key:l},(()=>(0,t.toDisplayString)(e.displayResource(o))+" "!==void 0&&(0,t.toDisplayString)(e.displayResource(o))+" "!==null&&((0,t.toDisplayString)(e.displayResource(o))+" ")[Symbol.for("+")]?((0,t.toDisplayString)(e.displayResource(o))+" ")[Symbol.for("+")]((0,t.toDisplayString)(o.displayName)):(0,t.toDisplayString)(e.displayResource(o))+" "+(0,t.toDisplayString)(o.displayName))(),1)))),128)),(0,t.createElementVNode)("div",je,[(0,t.createElementVNode)("h2",null,(0,t.toDisplayString)(e.name),1),(0,t.createElementVNode)("span",Le,(()=>"Lv. "[Symbol.for("+")]?"Lv. "[Symbol.for("+")]((0,t.toDisplayString)(e.formatWhole(e.level.value))):"Lv. "+(0,t.toDisplayString)(e.formatWhole(e.level.value)))(),1),Oe,(0,t.createVNode)(a,(0,t.mergeProps)({display:e.modifierInfo,name:e.name},e.modifierModalAttrs),null,16,["display","name"])])]),e.selected&&e.unref(e.currentQuip)?((0,t.openBlock)(),(0,t.createElementBlock)("div",Ae,(()=>'"'+(0,t.toDisplayString)(e.unref(e.currentQuip))!==void 0&&'"'+(0,t.toDisplayString)(e.unref(e.currentQuip))!==null&&('"'+(0,t.toDisplayString)(e.unref(e.currentQuip)))[Symbol.for("+")]?('"'+(0,t.toDisplayString)(e.unref(e.currentQuip)))[Symbol.for("+")]('"'):'"'+(0,t.toDisplayString)(e.unref(e.currentQuip))+'"')(),1)):(0,t.createCommentVNode)("",!0),Re,(0,t.createVNode)(s,{direction:e.Direction.Left,display:"Toggle Time Loop",class:"job-loop-toggle"},{default:(0,t.withCtx)((()=>[e.finishedFirstChapter?((0,t.openBlock)(),(0,t.createElementBlock)("button",{key:0,class:(0,t.normalizeClass)(["material-icons",{active:e.unref(e.timeLoopActive)}]),onClick:o[0]||(o[0]=(0,t.withModifiers)((o=>e.timeLoopActive.value=(()=>void 0!==e.unref(e.timeLoopActive)&&null!==e.unref(e.timeLoopActive)&&e.unref(e.timeLoopActive)[Symbol.for("!")]?e.unref(e.timeLoopActive)[Symbol.for("!")]():!e.unref(e.timeLoopActive))()),["stop"])),disabled:(()=>void 0!==e.hasTimeSlotAvailable&&null!==e.hasTimeSlotAvailable&&e.hasTimeSlotAvailable[Symbol.for("!")]?e.hasTimeSlotAvailable[Symbol.for("!")]():!e.hasTimeSlotAvailable)()&&(()=>void 0!==e.unref(e.timeLoopActive)&&null!==e.unref(e.timeLoopActive)&&e.unref(e.timeLoopActive)[Symbol.for("!")]?e.unref(e.timeLoopActive)[Symbol.for("!")]():!e.unref(e.timeLoopActive))()}," all_inclusive ",10,Ue)):(0,t.createCommentVNode)("",!0)])),_:1},8,["direction"]),(0,t.createVNode)(u,{id:e.id},null,8,["id"])],6)):(0,t.createCommentVNode)("",!0)}var We=l(6948),Xe=l(8779),Ge=(0,t.defineComponent)({props:{display:null,name:null},setup(e){const o=e,l=(0,t.toRef)(o,"display"),r=(0,t.ref)(!1),i=(0,t.shallowRef)();let n=null;return(0,t.watch)(r,(e=>{n?.(),n=e?(0,t.watchEffect)((()=>{i.value=(0,c.MM)((0,c.Uv)(l))})):null})),(0,t.onBeforeUnmount)((()=>n?.())),(o,l)=>((0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,null,[(0,t.createVNode)(Xe.Z,{direction:(0,t.unref)(L.Nm).Left,display:"Open Modifiers",xoffset:"10px"},{default:(0,t.withCtx)((()=>[(0,t.createElementVNode)("span",{class:"material-icons-outlined modifier-info-toggle",onClick:l[0]||(l[0]=(0,t.withModifiers)((e=>r.value=!0),["stop"]))},"help")])),_:1},8,["direction"]),(0,t.createVNode)(We.Z,(0,t.mergeProps)({modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e),class:"modifiers-modal"},o.$attrs),{header:(0,t.withCtx)((()=>[(0,t.createElementVNode)("h2",null,(()=>void 0!==(0,t.toDisplayString)(e.name)&&null!==(0,t.toDisplayString)(e.name)&&(0,t.toDisplayString)(e.name)[Symbol.for("+")]?(0,t.toDisplayString)(e.name)[Symbol.for("+")](" Modifiers"):(0,t.toDisplayString)(e.name)+" Modifiers")(),1)])),body:(0,t.withCtx)((({shown:e})=>[e?((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)((0,t.unref)(i)),{key:0})):(0,t.createCommentVNode)("",!0)])),_:1},16,["modelValue"])],64))}});const He=(0,d.Z)(Ge,[["__scopeId","data-v-5fb31628"]]);var Je=He,$e=(0,t.defineComponent)({props:{visibility:{type:(0,c.P5)(Number),required:!0},style:(0,c.P5)(String,Object,Array),classes:(0,c.P5)(Object),xp:{type:Object,required:!0},level:{type:Object,required:!0},levelProgress:{type:Object,required:!0},timeLoopActive:{type:Object,required:!0},name:{type:String,required:!0},color:{type:(0,c.P5)(String),required:!0},image:{type:(0,c.P5)(String),required:!0},imageFocus:{type:(0,c.P5)(Object),required:!0},resource:[Object,Array],layerID:{type:String,required:!0},currentQuip:{type:Object,required:!0},randomQuips:{type:(0,c.P5)(Array),required:!0},modifierInfo:{type:(0,c.P5)(String,Object,Function),required:!0},id:{type:String,required:!0},modifierModalAttrs:Object},components:{Node:V,ModifierInfo:Je,Tooltip:Xe.Z},setup(e){const{layerID:o,currentQuip:l,randomQuips:r,resource:i}=(0,t.toRefs)(e),n=(0,t.computed)((()=>(()=>void 0!==U.Z.tabs[1]&&null!==U.Z.tabs[1]&&U.Z.tabs[1][Symbol.for("==")]?U.Z.tabs[1][Symbol.for("==")](o.value):U.Z.tabs[1]==o.value)())),s=(0,t.computed)((()=>(()=>void 0!==Cl.chapter.value&&null!==Cl.chapter.value&&Cl.chapter.value[Symbol.for(">")]?Cl.chapter.value[Symbol.for(">")](1):Cl.chapter.value>1)())),u=Cl.hasTimeSlotAvailable;function m(){U.Z.tabs.splice(1,1,o.value)}let f;(0,t.watchEffect)((()=>{clearInterval(f);const e=(0,c.Uv)(r);f=l.value?setTimeout((()=>{l.value=null}),15e3):setTimeout((()=>{l.value=e[Math.floor((()=>void 0!==Math.random()&&null!==Math.random()&&Math.random()[Symbol.for("*")]?Math.random()[Symbol.for("*")](e.length):Math.random()*e.length)())]}),(()=>15e3*Math.random()!==void 0&&15e3*Math.random()!==null&&(15e3*Math.random())[Symbol.for("+")]?(15e3*Math.random())[Symbol.for("+")](15e3):15e3*Math.random()+15e3)())})),(0,t.onUnmounted)((()=>clearInterval(f)));const d=(0,t.ref)(!1);(0,t.watch)(n,(()=>{d.value=!0,setTimeout((()=>d.value=!1),250)}));const y=(0,t.computed)((()=>{if((()=>"displayName"[Symbol.for("in")]?"displayName"[Symbol.for("in")](i):"displayName"in i)())return[i];const e=(0,t.unref)(i);return Array.isArray(e)?e:[]}));return{selected:n,animating:d,finishedFirstChapter:s,hasTimeSlotAvailable:u,formatWhole:T.Ht,openJob:m,unref:t.unref,displayResource:I,resourceArray:y,Visibility:a.EE,Direction:L.Nm}}});const Ke=(0,d.Z)($e,[["render",ze],["__scopeId","data-v-1cfac758"]]);var Qe=Ke;const Ye=Symbol("Job"),eo=.7643;function oo(e,o){const l=D(0,(()=>void 0!==e&&null!==e&&e[Symbol.for("+")]?e[Symbol.for("+")](" XP"):e+" XP")()),r=(0,F.ax)(!1);return(0,h.z2)((()=>{const i=o();return i.id=(0,a.QI)("job-"),i.type=Ye,i[a.wA]=Qe,i.name=e,i.xp=l,i.timeLoopActive=r,i.rawLevel=(0,t.computed)((()=>{const e=i;if(T.ZP.eq(e.xp.value,0))return 1;let o=T.ZP.clampMin(e.xp.value,1).log10().add(1);return o.gt(25)&&(o=o.sub(25).pow(eo).add(25)),o.floor()})),i.level=D((0,t.computed)((()=>i.rawLevel.value)),(()=>void 0!==i.name&&null!==i.name&&i.name[Symbol.for("+")]?i.name[Symbol.for("+")](" Levels"):i.name+" Levels")()),i.levelProgress=(0,t.computed)((()=>{const e=i,o=e.rawLevel.value,l=lo(o),t=lo(T.ZP.add(o,1));let r;return r=T.ZP.lt(o,25)?T.ZP.sub(e.xp.value,l).div(T.ZP.sub(t,l)).toNumber():T.ZP.log10(e.xp.value).sub(T.ZP.log10(l)).div(T.ZP.log10(t).sub(T.ZP.log10(l))).toNumber(),r})),i.currentQuip=(0,t.ref)(null),i.setQuip=function(e){const o=i;if(o.currentQuip.value)return o.currentQuip.value=null,void(0,t.nextTick)(o.setQuip);if(e)o.currentQuip.value=e;else if((0,t.unref)(o.randomQuips)){const e=(0,t.unref)(o.randomQuips);o.currentQuip.value=e[Math.floor((()=>void 0!==Math.random()&&null!==Math.random()&&Math.random()[Symbol.for("*")]?Math.random()[Symbol.for("*")](e.length):Math.random()*e.length)())]}},(0,O.yB)(i,"visibility"),(0,a.Rh)(i,"visibility",a.EE.Visible),(0,O.yB)(i,"classes"),(0,O.yB)(i,"style"),(0,O.yB)(i,"color"),(0,O.yB)(i,"image"),(0,O.yB)(i,"imageFocus"),(0,O.yB)(i,"randomQuips"),(0,O.yB)(i,"modifierInfo"),i[a.tj]=function(){const{id:e,xp:o,level:l,levelProgress:r,timeLoopActive:i,name:n,visibility:a,color:s,image:u,imageFocus:m,resource:c,layerID:f,classes:d,style:y,currentQuip:b,randomQuips:h,modifierInfo:p,modifierModalAttrs:v}=this;return{id:e,xp:o,level:l,levelProgress:r,timeLoopActive:i,name:n,visibility:a,color:s,image:u,imageFocus:m,resource:c,layerID:f,classes:d,style:(0,t.unref)(y),currentQuip:b,randomQuips:h,modifierInfo:p,modifierModalAttrs:v}},i}))}function lo(e){return T.ZP.eq(e,1)?0:(T.ZP.gt(e,25)&&(e=T.ZP.sub(e,25).pow((()=>1[Symbol.for("/")]?1[Symbol.for("/")](eo):1/eo)()).add(25)),T.ZP.sub(e,1).pow10())}var to=l(5418);function ro(e,o,l,r,i,n){const a=(0,t.resolveComponent)("Node");return(()=>void 0!==e.unref(e.visibility)&&null!==e.unref(e.visibility)&&e.unref(e.visibility)[Symbol.for("!==")]?e.unref(e.visibility)[Symbol.for("!==")](e.Visibility.None):e.unref(e.visibility)!==e.Visibility.None)()?((0,t.openBlock)(),(0,t.createElementBlock)("div",{key:0,style:(0,t.normalizeStyle)([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},e.unref(e.style)??{}]),class:(0,t.normalizeClass)({feature:!0,milestone:!0,done:e.unref(e.earned),...e.unref(e.classes)})},[((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(e.unref(e.comp)))),(0,t.createVNode)(a,{id:e.id},null,8,["id"])],6)):(0,t.createCommentVNode)("",!0)}var io=(0,t.defineComponent)({props:{visibility:{type:(0,c.P5)(Number),required:!0},display:{type:(0,c.P5)(String,Object,Function),required:!0},style:(0,c.P5)(String,Object,Array),classes:(0,c.P5)(Object),earned:{type:(0,c.P5)(Boolean),required:!0},id:{type:String,required:!0}},components:{Node:V},setup(e){const{display:o}=(0,t.toRefs)(e),l=(0,t.shallowRef)("");return(0,t.watchEffect)((()=>{const e=(0,c.Uv)(o);if((()=>void 0!==e&&null!==e&&e[Symbol.for("==")]?e[Symbol.for("==")](null):null==e)())return void(l.value="");if((0,c.RU)(e))return void(l.value=(0,c.MM)(e));const r=(0,c.MM)(e.requirement,"h3"),i=(0,c.MM)(e.effectDisplay||"","b"),n=(0,c.MM)(e.optionsDisplay||"","span");l.value=(0,c.MM)((0,a.tZ)((()=>(0,t.createVNode)("span",null,[(0,t.createVNode)(r,null,null),e.effectDisplay?(0,t.createVNode)("div",null,[(0,t.createVNode)(i,null,null)]):null,e.optionsDisplay?(0,t.createVNode)("div",{class:"equal-spaced"},[(0,t.createVNode)(n,null,null)]):null]))))})),{comp:l,unref:t.unref,Visibility:a.EE}}});const no=(0,d.Z)(io,[["render",ro],["__scopeId","data-v-0b660ac3"]]);var ao=no,so=l(3002);l(343);function uo(e="white",o="8px"){return{transform:"scale(1.05, 1.05)",borderColor:"rgba(0, 0, 0, 0.125)",boxShadow:`-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 ${o} ${e}`,zIndex:1}}B.globalBus.on("setupVue",(e=>e.use(so.ZP)));var mo=l(9266);const co=(0,so.pm)(),fo=Symbol("Milestone");var yo;function bo(e){const o=(0,F.ax)(!1);return(0,h.z2)((()=>{const l=e?.()??{};l.id=(0,a.QI)("milestone-"),l.type=fo,l[a.wA]=ao,l.earned=o,l.complete=function(){o.value=!0},(0,O.yB)(l,"visibility"),(0,a.Rh)(l,"visibility",a.EE.Visible);const r=l.visibility;if(l.visibility=(0,t.computed)((()=>{const e=(0,t.unref)(l.display);switch(mo.ZP.msDisplay){default:case yo.All:return(0,t.unref)(r);case yo.Configurable:return(0,t.unref)(l.earned)&&(()=>void 0!==(null!=e&&"object"==typeof e&&"optionsDisplay"in e)&&null!==(null!=e&&"object"==typeof e&&"optionsDisplay"in e)&&(null!=e&&"object"==typeof e&&"optionsDisplay"in e)[Symbol.for("!")]?(null!=e&&"object"==typeof e&&"optionsDisplay"in e)[Symbol.for("!")]():!(null!=e&&"object"==typeof e&&"optionsDisplay"in e))()?a.EE.None:(0,t.unref)(r);case yo.Incomplete:return(0,t.unref)(l.earned)?a.EE.None:(0,t.unref)(r);case yo.None:return a.EE.None}})),(0,O.yB)(l,"style"),(0,O.yB)(l,"classes"),(0,O.yB)(l,"display"),l[a.tj]=function(){const{visibility:e,display:o,style:l,classes:r,earned:i,id:n}=this;return{visibility:e,display:o,style:(0,t.unref)(l),classes:r,earned:i,id:n}},l.shouldEarn){const e=l;(0,t.watchEffect)((()=>{if((()=>void 0!==e.earned.value&&null!==e.earned.value&&e.earned.value[Symbol.for("!")]?e.earned.value[Symbol.for("!")]():!e.earned.value)()&&(0,t.unref)(e.visibility)===a.EE.Visible&&e.shouldEarn?.()&&(e.earned.value=!0,e.onComplete?.(),e.display)){const o=(0,t.unref)(e.display),l=(0,c.MM)((0,c.RU)(o)?o:o.requirement);co((0,t.createVNode)(t.Fragment,null,[(0,t.createVNode)("h3",null,[(0,t.createTextVNode)("Milestone earned!")]),(0,t.createVNode)("div",null,[(0,t.createVNode)(l,null,null)])]))}}))}return l}))}(function(e){e["All"]="all",e["Configurable"]="configurable",e["Incomplete"]="incomplete",e["None"]="none"})(yo||(yo={})),B.globalBus.on("loadSettings",(e=>{(0,a.Rh)(e,"msDisplay",yo.All)}));const ho=Object.values(yo).map((e=>({label:(0,L.IJ)(e),value:e})));(0,mo.QV)((0,a.tZ)((()=>(0,t.createVNode)(to.Z,{title:"Show Milestones",options:ho,"onUpdate:modelValue":e=>mo.ZP.msDisplay=e,modelValue:mo.ZP.msDisplay},null))));var po=(0,t.defineComponent)({props:{resource:null,color:null},setup(e){const o=e,l=(0,t.computed)((()=>I(o.resource)));return(o,r)=>((0,t.openBlock)(),(0,t.createElementBlock)("h2",{style:(0,t.normalizeStyle)({color:e.color,"text-shadow":(()=>"0px 0px 10px "[Symbol.for("+")]?"0px 0px 10px "[Symbol.for("+")](e.color):"0px 0px 10px "+e.color)()})},(0,t.toDisplayString)((0,t.unref)(l)),5))}});const vo=po;var go=vo;const So={key:0},No={key:1},ko=(0,t.createTextVNode)(", "),xo=(0,t.createElementVNode)("br",null,null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()),Vo=(0,t.createElementVNode)("br",null,null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)());var wo=(0,t.defineComponent)({props:{resource:null,color:null,classes:null,style:null,effectDisplay:null},setup(e){const o=e,l=(0,t.toRefs)(o),r=(0,c.KO)(l.effectDisplay),i=(0,t.computed)((()=>T.ZP.lt(l.resource.value,"1e1000")));return(o,l)=>((0,t.openBlock)(),(0,t.createElementBlock)("div",null,[(0,t.unref)(i)?((0,t.openBlock)(),(0,t.createElementBlock)("span",So,"You have ")):(0,t.createCommentVNode)("",!0),(0,t.createVNode)(go,{resource:e.resource,color:e.color||"white"},null,8,["resource","color"]),(0,t.createTextVNode)((()=>" "[Symbol.for("+")]?" "[Symbol.for("+")]((0,t.toDisplayString)(e.resource.displayName)):" "+(0,t.toDisplayString)(e.resource.displayName))(),1),(0,t.unref)(r)?((0,t.openBlock)(),(0,t.createElementBlock)("span",No,[ko,((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)((0,t.unref)(r))))])):(0,t.createCommentVNode)("",!0),xo,Vo]))}});const Mo=wo;var Po=Mo;function Zo(e,o,l,r,i,n){return(()=>void 0!==e.unref(e.visibility)&&null!==e.unref(e.visibility)&&e.unref(e.visibility)[Symbol.for("!==")]?e.unref(e.visibility)[Symbol.for("!==")](e.Visibility.None):e.unref(e.visibility)!==e.Visibility.None)()?((0,t.openBlock)(),(0,t.createElementBlock)("button",{key:0,onClick:o[0]||(o[0]=(...o)=>e.selectTab&&e.selectTab(...o)),class:(0,t.normalizeClass)(["tabButton",{active:e.active,...e.unref(e.classes)}]),style:(0,t.normalizeStyle)([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},e.glowColorStyle,e.unref(e.style)??{}])},[((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(e.component)))],6)):(0,t.createCommentVNode)("",!0)}var Eo=(0,t.defineComponent)({props:{visibility:{type:(0,c.P5)(Number),required:!0},display:{type:(0,c.P5)(Object,String,Function),required:!0},style:(0,c.P5)(String,Object,Array),classes:(0,c.P5)(Object),glowColor:(0,c.P5)(String),active:Boolean,floating:Boolean},emits:["selectTab"],setup(e,{emit:o}){const{display:l,glowColor:r,floating:i}=(0,t.toRefs)(e),n=(0,c.vq)(l),s=(0,t.computed)((()=>{const e=(0,c.Uv)(r);return(()=>void 0!==e&&null!==e&&e[Symbol.for("!")]?e[Symbol.for("!")]():!e)()?{}:(0,t.unref)(i)?uo(e):{boxShadow:`0px 9px 5px -6px ${e}`}}));function u(){o("selectTab")}return{selectTab:u,component:n,glowColorStyle:s,unref:t.unref,Visibility:a.EE}}});const Co=(0,d.Z)(Eo,[["render",Zo],["__scopeId","data-v-3e3f03f9"]]);var To=Co;function Bo(e,o,l,r,i,n){const a=(0,t.resolveComponent)("TabButton"),s=(0,t.resolveComponent)("Sticky");return(()=>void 0!==e.unref(e.visibility)&&null!==e.unref(e.visibility)&&e.unref(e.visibility)[Symbol.for("!==")]?e.unref(e.visibility)[Symbol.for("!==")](e.Visibility.None):e.unref(e.visibility)!==e.Visibility.None)()?((0,t.openBlock)(),(0,t.createElementBlock)("div",{key:0,class:(0,t.normalizeClass)(["tab-family-container",{...e.unref(e.classes),...e.tabClasses}]),style:(0,t.normalizeStyle)([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},e.unref(e.style)??[],e.tabStyle??[]])},[(0,t.createVNode)(s,{class:"tab-buttons-container"},{default:(0,t.withCtx)((()=>[(0,t.createElementVNode)("div",{class:(0,t.normalizeClass)(["tab-buttons",{floating:e.floating}])},[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(e.unref(e.tabs),((o,l)=>((0,t.openBlock)(),(0,t.createBlock)(a,(0,t.mergeProps)({onSelectTab:o=>e.selected.value=l,floating:e.floating,key:l,active:e.unref(o.tab)===e.unref(e.activeTab)},e.gatherButtonProps(o)),null,16,["onSelectTab","floating","active"])))),128))],2)])),_:1}),e.unref(e.activeTab)?((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(e.unref(e.component)),{key:0})):(0,t.createCommentVNode)("",!0)],6)):(0,t.createCommentVNode)("",!0)}var Fo=(0,t.defineComponent)({setup(e){const o=(0,t.ref)("0"),l=new ResizeObserver(i),r=(0,t.ref)(null);function i(){let e=r.value;if((()=>void 0!==e&&null!==e&&e[Symbol.for("==")]?e[Symbol.for("==")](void 0):void 0==e)())return;let l=0;while(e.previousSibling){const o=e.previousSibling;o.dataset&&(()=>"vSticky"[Symbol.for("in")]?"vSticky"[Symbol.for("in")](o.dataset):"vSticky"in o.dataset)()&&(l=(()=>void 0!==l&&null!==l&&l[Symbol.for("+")]?l[Symbol.for("+")](o.offsetHeight):l+o.offsetHeight)()),e=o}o.value=(()=>void 0!==l&&null!==l&&l[Symbol.for("+")]?l[Symbol.for("+")]("px"):l+"px")()}return(0,t.nextTick)(i),document.fonts.ready.then(i),(0,t.onMounted)((()=>{const e=r.value?.parentElement;e&&l.observe(e)})),(e,l)=>((0,t.openBlock)(),(0,t.createElementBlock)("div",{class:"sticky",style:(0,t.normalizeStyle)({top:o.value}),ref_key:"element",ref:r,"data-v-sticky":""},[(0,t.renderSlot)(e.$slots,"default")],4))}});const Do=(0,d.Z)(Fo,[["__scopeId","data-v-77aa21df"]]);var Io=Do,qo=l(1037),_o=(0,t.defineComponent)({props:{visibility:{type:(0,c.P5)(Number),required:!0},activeTab:{type:(0,c.P5)(Object),required:!0},selected:{type:Object,required:!0},tabs:{type:(0,c.P5)(Object),required:!0},style:(0,c.P5)(String,Object,Array),classes:(0,c.P5)(Object)},components:{Sticky:Io,TabButton:To},setup(e){const{activeTab:o}=(0,t.toRefs)(e),l=(0,t.computed)((()=>qo.Z[mo.ZP.theme].floatingTabs)),r=(0,t.shallowRef)("");(0,t.watchEffect)((()=>{const e=(0,c.Uv)(o);(()=>void 0!==e&&null!==e&&e[Symbol.for("==")]?e[Symbol.for("==")](null):null==e)()?r.value="":(0,c.RU)(e)?r.value=(0,c.MM)(e):r.value=(0,c.MM)((0,t.unref)(e.display))}));const i=(0,t.computed)((()=>{const e=(0,c.Uv)(o),l=(0,c.RU)(e)||(()=>void 0!==e&&null!==e&&e[Symbol.for("!")]?e[Symbol.for("!")]():!e)()?void 0:(0,t.unref)(e.classes);return l})),n=(0,t.computed)((()=>{const e=(0,c.Uv)(o);return(0,c.RU)(e)||(()=>void 0!==e&&null!==e&&e[Symbol.for("!")]?e[Symbol.for("!")]():!e)()?void 0:(0,t.unref)(e.style)}));function s(e){const{display:o,style:l,classes:r,glowColor:i,visibility:n}=e;return{display:o,style:(0,t.unref)(l),classes:r,glowColor:i,visibility:n}}return{floating:l,tabClasses:i,tabStyle:n,Visibility:a.EE,component:r,gatherButtonProps:s,unref:t.unref}}});const jo=(0,d.Z)(_o,[["render",Bo],["__scopeId","data-v-46a6b098"]]);var Lo=jo;const Oo=Symbol("TabButton"),Ao=Symbol("TabFamily");function Ro(e,o){if(0===Object.keys(e).length)throw console.warn("Cannot create tab family with 0 tabs"),"Cannot create tab family with 0 tabs";const l=(0,F.ax)(Object.keys(e)[0]);return(0,h.z2)((()=>{const r=o?.()??{};r.id=(0,a.QI)("tabFamily-"),r.type=Ao,r[a.wA]=Lo,r.tabs=Object.keys(e).reduce(((o,l)=>{const t=e[l]();return t.type=Oo,t[a.wA]=To,(0,O.yB)(t,"visibility"),(0,a.Rh)(t,"visibility",a.EE.Visible),(0,O.yB)(t,"tab"),(0,O.yB)(t,"display"),(0,O.yB)(t,"classes"),(0,O.yB)(t,"style"),(0,O.yB)(t,"glowColor"),o[l]=t,o}),{}),r.selected=l,r.activeTab=(0,t.computed)((()=>{const e=(0,t.unref)(i.tabs);if((()=>void 0!==l.value&&null!==l.value&&l.value[Symbol.for("in")]?l.value[Symbol.for("in")](e):l.value in e)()&&(0,t.unref)(e[l.value].visibility)===a.EE.Visible)return(0,t.unref)(e[l.value].tab);const o=Object.values(e).find((e=>(0,t.unref)(e.visibility)===a.EE.Visible));return o?(0,t.unref)(o.tab):null})),(0,O.yB)(r,"visibility"),(0,a.Rh)(r,"visibility",a.EE.Visible),(0,O.yB)(r,"classes"),(0,O.yB)(r,"style"),r[a.tj]=function(){const{visibility:e,activeTab:o,selected:l,tabs:r,style:i,classes:n}=this;return{visibility:e,activeTab:o,selected:l,tabs:r,style:(0,t.unref)(i),classes:n}};const i=r;return i}))}function Uo(e,o,l){const r=(0,O.UI)(e),i=(0,O.UI)(o),n=(()=>void 0!==l&&null!==l&&l[Symbol.for("==")]?l[Symbol.for("==")](null):null==l)()?void 0:(0,O.UI)(l);return{apply:e=>T.ZP.add(e,(0,t.unref)(r)),revert:e=>T.ZP.sub(e,(0,t.unref)(r)),enabled:n,description:(()=>void 0!==o&&null!==o&&o[Symbol.for("==")]?o[Symbol.for("==")](null):null==o)()?void 0:(0,a.tZ)((()=>(0,t.createVNode)("div",{class:"modifier-container"},[(0,t.createVNode)("span",{class:"modifier-amount"},[T.ZP.gte((0,t.unref)(r),0)?"+":"",(0,T.WU)((0,t.unref)(r))]),(0,t.unref)(i)?(0,t.createVNode)("span",{class:"modifier-description"},[(0,c.qF)((0,t.unref)(i))]):null])))}}function zo(e,o,l){const r=(0,O.UI)(e),i=(0,O.UI)(o),n=(()=>void 0!==l&&null!==l&&l[Symbol.for("==")]?l[Symbol.for("==")](null):null==l)()?void 0:(0,O.UI)(l);return{apply:e=>T.ZP.times(e,(0,t.unref)(r)),revert:e=>T.ZP.div(e,(0,t.unref)(r)),enabled:n,description:(()=>void 0!==o&&null!==o&&o[Symbol.for("==")]?o[Symbol.for("==")](null):null==o)()?void 0:(0,a.tZ)((()=>(0,t.createVNode)("div",{class:"modifier-container"},[(0,t.createVNode)("span",{class:"modifier-amount"},[(0,t.createTextVNode)("x"),(0,T.WU)((0,t.unref)(r))]),(0,t.unref)(i)?(0,t.createVNode)("span",{class:"modifier-description"},[(0,c.qF)((0,t.unref)(i))]):null])))}}function Wo(e,o,l){const r=(0,O.UI)(e),i=(0,O.UI)(o),n=(()=>void 0!==l&&null!==l&&l[Symbol.for("==")]?l[Symbol.for("==")](null):null==l)()?void 0:(0,O.UI)(l);return{apply:e=>T.ZP.pow(e,(0,t.unref)(r)),revert:e=>T.ZP.root(e,(0,t.unref)(r)),enabled:n,description:(()=>void 0!==o&&null!==o&&o[Symbol.for("==")]?o[Symbol.for("==")](null):null==o)()?void 0:(0,a.tZ)((()=>(0,t.createVNode)("div",{class:"modifier-container"},[(0,t.createVNode)("span",{class:"modifier-amount"},[(0,t.createTextVNode)("^"),(0,T.WU)((0,t.unref)(r))]),(0,t.unref)(i)?(0,t.createVNode)("span",{class:"modifier-description"},[(0,c.qF)((0,t.unref)(i))]):null])))}}function Xo(...e){return{apply:o=>e.filter((e=>(()=>void 0!==(0,t.unref)(e.enabled)&&null!==(0,t.unref)(e.enabled)&&(0,t.unref)(e.enabled)[Symbol.for("!==")]?(0,t.unref)(e.enabled)[Symbol.for("!==")](!1):!1!==(0,t.unref)(e.enabled))())).reduce(((e,o)=>o.apply(e)),o),revert:e.every((e=>(()=>void 0!==e.revert&&null!==e.revert&&e.revert[Symbol.for("!=")]?e.revert[Symbol.for("!=")](null):null!=e.revert)()))?o=>e.filter((e=>(()=>void 0!==(0,t.unref)(e.enabled)&&null!==(0,t.unref)(e.enabled)&&(0,t.unref)(e.enabled)[Symbol.for("!==")]?(0,t.unref)(e.enabled)[Symbol.for("!==")](!1):!1!==(0,t.unref)(e.enabled))())).reduceRight(((e,o)=>o.revert(e)),o):void 0,enabled:(0,t.computed)((()=>(()=>void 0!==e.filter((e=>!1!==(0,t.unref)(e.enabled))).length&&null!==e.filter((e=>!1!==(0,t.unref)(e.enabled))).length&&e.filter((e=>!1!==(0,t.unref)(e.enabled))).length[Symbol.for(">")]?e.filter((e=>!1!==(0,t.unref)(e.enabled))).length[Symbol.for(">")](0):e.filter((e=>!1!==(0,t.unref)(e.enabled))).length>0)())),description:(0,a.tZ)((()=>(0,t.createVNode)(t.Fragment,null,[e.filter((e=>(()=>void 0!==(0,t.unref)(e.enabled)&&null!==(0,t.unref)(e.enabled)&&(0,t.unref)(e.enabled)[Symbol.for("!==")]?(0,t.unref)(e.enabled)[Symbol.for("!==")](!1):!1!==(0,t.unref)(e.enabled))())).map((e=>(0,t.unref)(e.description))).filter((e=>e)).map(c.qF)])))}}var Go=JSON.parse('["Can we skip to the good part?","I have such great expectations for myself","I\'m standing on the shoulders of giants"]'),Ho=["placehold?"];const Jo="experiments",$o=(0,u.createLayer)(Jo,(function(){const e="Experiment",o="#C2B280",l=D(0,"potentia"),r=oo(e,(()=>({color:o,image:"https://dummyimage.com/512x288/000/fff.png",imageFocus:{x:"85%",y:"60%"},randomQuips(){return[...Ho,...Go]},resource:l,layerID:Jo,modifierInfo:(0,a.tZ)((()=>(0,c.qF)(x))),visibility:()=>(0,a.Kf)(sl.milestones.experimentsMilestone.earned.value)}))),i=bo((()=>({shouldEarn(){return T.ZP.gte(r.rawLevel.value,2)},display:{requirement:"Achieve Experiment Level 2",effectDisplay:"???"}}))),s=bo((()=>({shouldEarn(){return T.ZP.gte(r.rawLevel.value,4)},display:{requirement:"Achieve Experiment Level 4",effectDisplay:"???"},visibility(){return(0,a.Kf)(i.earned.value)}}))),u=bo((()=>({shouldEarn(){return T.ZP.gte(r.rawLevel.value,6)},display:{requirement:"Achieve Experiment Level 6",effectDisplay:"???"},visibility(){return(0,a.Kf)(s.earned.value)}}))),m=bo((()=>({shouldEarn(){return T.ZP.gte(r.rawLevel.value,8)},display:{requirement:"Achieve Experiment Level 8",effectDisplay:"???"},visibility(){return(0,a.Kf)(u.earned.value)}}))),f={spellExpMilestone:i,flowerSpellMilestone:s,chargeSpellMilestone:u,expSpellMilestone:m},d=[m,u,s,i],y=(0,F.ax)(!0),b=(0,t.computed)((()=>d.filter((e=>!1===e.earned.value)))),{firstFeature:h,hiddenFeatures:p}=(0,c.oU)(d,(e=>e.earned.value)),v=(0,t.computed)((()=>T.ZP.pow(1.1,r.level.value))),g=Xo(zo(v,"Experiment level (x1.1 each)")),S={jobXpGain:g},[N,k]=De([{title:"Experiment EXP Gain",modifier:g,base:0,unit:"/sec"}]),x=Ro({general:()=>({display:"General",glowColor(){return x.activeTab.value===this.tab?o:""},tab:N,generalTabCollapsed:k})},(()=>({style:`--layer-color: ${o}`})));return this.on("preUpdate",(e=>{!1===r.timeLoopActive.value&&(()=>void 0!==U.Z.tabs[1]&&null!==U.Z.tabs[1]&&U.Z.tabs[1][Symbol.for("!==")]?U.Z.tabs[1][Symbol.for("!==")](Jo):U.Z.tabs[1]!==Jo)()||(r.xp.value=T.ZP.add(r.xp.value,T.ZP.times(g.apply(0),e)))})),{name:e,color:o,minWidth:670,potentia:l,job:r,modifiers:S,milestones:f,collapseMilestones:y,modifierTabs:x,display:(0,a.tZ)((()=>{const e=[...b.value];return h.value&&e.push(h.value),(0,t.createVNode)(t.Fragment,null,[(0,t.createVNode)(Po,{resource:l,color:o},null),(0,c.wt)(...e,(0,a.tZ)((()=>(0,t.withDirectives)((0,t.createVNode)(se,{collapsed:y,content:(0,a.tZ)((()=>(0,c.wt)(...p.value))),display:y.value?"Show other completed milestones":"Hide other completed milestones"},null),[[t.vShow,(()=>void 0!==p.value.length&&null!==p.value.length&&p.value.length[Symbol.for(">")]?p.value.length[Symbol.for(">")](0):p.value.length>0)()]])))),(0,t.createVNode)(n,null,null)])}))}}));var Ko=$o,Qo=["placeholder"];const Yo="study",el=(0,u.createLayer)(Yo,(function(){const e="Study Flowers",o="#9b6734",l=D(0,"properties"),r=D(0,"insights"),i=oo(e,(()=>({color:o,image:"https://dummyimage.com/512x288/000/fff.png",imageFocus:{x:"25%",y:"20%"},randomQuips(){return[...Qo,...Go]},resource:[l,r],layerID:Yo,modifierInfo:(0,a.tZ)((()=>(0,c.qF)(V))),visibility:()=>(0,a.Kf)(sl.milestones.studyMilestone.earned.value)}))),s=bo((()=>({shouldEarn(){return T.ZP.gte(i.rawLevel.value,2)},display:{requirement:"Achieve Study Flowers Level 2",effectDisplay:"???"}}))),u=bo((()=>({shouldEarn(){return T.ZP.gte(i.rawLevel.value,4)},display:{requirement:"Achieve Study Flowers Level 4",effectDisplay:"???"},visibility(){return(0,a.Kf)(s.earned.value)}}))),m=bo((()=>({shouldEarn(){return T.ZP.gte(i.rawLevel.value,6)},display:{requirement:"Achieve Study Flowers Level 6",effectDisplay:"???"},visibility(){return(0,a.Kf)(u.earned.value)}}))),f=bo((()=>({shouldEarn(){return T.ZP.gte(i.rawLevel.value,8)},display:{requirement:"Achieve Study Flowers Level 8",effectDisplay:"???"},visibility(){return(0,a.Kf)(m.earned.value)}}))),d={spellExpMilestone:s,flowerSpellMilestone:u,chargeSpellMilestone:m,expSpellMilestone:f},y=[f,m,u,s],b=(0,F.ax)(!0),h=(0,t.computed)((()=>y.filter((e=>!1===e.earned.value)))),{firstFeature:p,hiddenFeatures:v}=(0,c.oU)(y,(e=>e.earned.value)),g=(0,t.computed)((()=>T.ZP.pow(1.1,i.level.value))),S=Xo(zo(g,"Study Flowers level (x1.1 each)")),N={jobXpGain:S},[k,x]=De([{title:"Study Flowers EXP Gain",modifier:S,base:0,unit:"/sec"}]),V=Ro({general:()=>({display:"General",glowColor(){return V.activeTab.value===this.tab?o:""},tab:k,generalTabCollapsed:x})},(()=>({style:`--layer-color: ${o}`})));return this.on("preUpdate",(e=>{!1===i.timeLoopActive.value&&(()=>void 0!==U.Z.tabs[1]&&null!==U.Z.tabs[1]&&U.Z.tabs[1][Symbol.for("!==")]?U.Z.tabs[1][Symbol.for("!==")](Yo):U.Z.tabs[1]!==Yo)()||(i.xp.value=T.ZP.add(i.xp.value,T.ZP.times(S.apply(0),e)))})),{name:e,color:o,minWidth:670,properties:l,insights:r,job:i,modifiers:N,milestones:d,collapseMilestones:b,modifierTabs:V,display:(0,a.tZ)((()=>{const e=[...h.value];return p.value&&e.push(p.value),(0,t.createVNode)(t.Fragment,null,[(0,t.createVNode)("div",null,[(0,t.createTextVNode)("You have "),(0,t.createVNode)(go,{resource:l,color:o},null),(0,t.createTextVNode)(" properties studied and "),(0,t.createVNode)(go,{resource:r,color:"darkcyan"},null),(0,t.createTextVNode)(" key insights")]),(0,t.createVNode)("br",null,null),(0,c.wt)(...e,(0,a.tZ)((()=>(0,t.withDirectives)((0,t.createVNode)(se,{collapsed:b,content:(0,a.tZ)((()=>(0,c.wt)(...v.value))),display:b.value?"Show other completed milestones":"Hide other completed milestones"},null),[[t.vShow,(()=>void 0!==v.value.length&&null!==v.value.length&&v.value.length[Symbol.for(">")]?v.value.length[Symbol.for(">")](0):v.value.length>0)()]])))),(0,t.createVNode)(n,null,null)])}))}}));var ol=el,ll=JSON.parse('["Now we\'re cooking","Alchemy\'s always been more of a philosophical experience for me","Transform!","The elements transform you just as much as you transform them","You cannot step twice into the same stream"]'),tl=JSON.parse('{"emit":false,"autoUpdate":true,"lifetime":{"min":2,"max":1.8},"frequency":0.1,"emitterLifetime":-1,"maxParticles":1000,"addAtBack":true,"pos":{"x":0.5,"y":0.5},"behaviors":[{"type":"alpha","config":{"alpha":{"list":[{"time":0,"value":0.4},{"time":1,"value":0}]}}},{"type":"moveSpeedStatic","config":{"min":10,"max":10}},{"type":"scale","config":{"scale":{"list":[{"time":0,"value":1},{"time":1,"value":0.2}]},"minMult":1}},{"type":"rotationStatic","config":{"min":0,"max":360}},{"type":"blendMode","config":{"blendMode":"screen"}},{"type":"textureRandom","config":{"textures":["/smokeparticle.png","/particle.png"]}},{"type":"spawnShape","config":{"type":"torus","data":{"x":0,"y":0,"radius":25,"innerRadius":0,"affectRotation":false}}}]}');const rl=(0,t.computed)((()=>(0,a.Kf)((()=>void 0!==Cl.chapter.value&&null!==Cl.chapter.value&&Cl.chapter.value[Symbol.for(">")]?Cl.chapter.value[Symbol.for(">")](1):Cl.chapter.value>1)())));function il(e,o){return Object.assign({},tl,{behaviors:[...tl.behaviors,{type:"color",config:{color:{list:[{time:0,value:e},{time:1,value:o}]}}}]})}const nl="distill",al=(0,u.createLayer)(nl,(function(){const e="Distill Flowers",o="#8AFFC1",l=D(0,"essentia"),r=oo(e,(()=>({color:o,image:"https://dummyimage.com/512x288/000/fff.png",imageFocus:{x:"25%",y:"60%"},randomQuips(){return[...ll,...Go]},resource:l,layerID:nl,modifierInfo:(0,a.tZ)((()=>(0,c.qF)(j))),visibility:rl}))),i=bo((()=>({shouldEarn(){return T.ZP.gte(r.rawLevel.value,2)},display:{requirement:"Achieve Distilling Flowers Level 2",effectDisplay:"Unlock Water"}}))),s=bo((()=>({shouldEarn(){return T.ZP.gte(r.rawLevel.value,4)},display:{requirement:"Achieve Distilling Flowers Level 4",effectDisplay:"Unlock Principles"},visibility(){return(0,a.Kf)(i.earned.value)}}))),m=bo((()=>({shouldEarn(){return T.ZP.gte(r.rawLevel.value,5)},display:{requirement:"Achieve Distilling Flowers Level 5",effectDisplay:'Unlock "Study Flowers" Job'},visibility(){return(0,a.Kf)(s.earned.value)},onComplete(){(0,u.addLayer)(ol,U.Z)}}))),f=bo((()=>({shouldEarn(){return T.ZP.gte(r.rawLevel.value,6)},display:{requirement:"Achieve Distilling Flowers Level 6",effectDisplay:"Unlock Air"},visibility(){return(0,a.Kf)(m.earned.value)}}))),d=bo((()=>({shouldEarn(){return T.ZP.gte(r.rawLevel.value,8)},display:{requirement:"Achieve Distilling Flowers Level 8",effectDisplay:"Unlock Fire"},visibility(){return(0,a.Kf)(f.earned.value)}}))),y=bo((()=>({shouldEarn(){return T.ZP.gte(r.rawLevel.value,10)},display:{requirement:"Achieve Distilling Flowers Level 10",effectDisplay:'Unlock "Experiment" Job'},visibility(){return(0,a.Kf)(d.earned.value)},onComplete(){(0,u.addLayer)(Ko,U.Z)}}))),b={waterMilestone:i,principlesMilestone:s,studyMilestone:m,airMilestone:f,fireMilestone:d,experimentsMilestone:y},h=[y,d,f,m,s,i],p=(0,F.ax)(!0),v=(0,t.computed)((()=>h.filter((e=>!1===e.earned.value)))),{firstFeature:S,hiddenFeatures:N}=(0,c.oU)(h,(e=>e.earned.value)),k=g((()=>({fullscreen:!1,zIndex:(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)(),boundingRect:(0,t.ref)(void 0),onContainerResized(e){this.boundingRect.value=e},onHotReload(){Object.values(E).forEach((e=>e.refreshParticleEffect()))}})));function x(e,o,l,r,i,n=!0){const s=(0,O.UI)(n),u=D(0,(()=>void 0!==e&&null!==e&&e[Symbol.for("+")]?e[Symbol.for("+")](" essence"):e+" essence")()),m=(0,a.tZ)((()=>(0,t.unref)(s)?(0,t.createVNode)("div",{class:"element-display",style:(()=>"color: "[Symbol.for("+")]?"color: "[Symbol.for("+")](r):"color: "+r)()},[(0,t.createVNode)(Xe.Z,{display:(0,L.IJ)(e)},{default:()=>[(0,t.createVNode)("div",{class:"element-logo"},[o,(0,t.createVNode)(V,{id:e},null)])]}),(0,t.createVNode)("div",{class:"element-amount"},[(0,T.Ht)(u.value)])]):"")),c=(0,t.ref)(k.addEmitter(i)),f=async([e,o,l])=>{const t=await c.value;t.emit=e,e&&o&&l&&(t.cleanup(),t.updateOwnerPos((()=>o.x+o.width/2!==void 0&&o.x+o.width/2!==null&&(o.x+o.width/2)[Symbol.for("-")]?(o.x+o.width/2)[Symbol.for("-")](l.x):o.x+o.width/2-l.x)(),(()=>o.y+o.height/2!==void 0&&o.y+o.height/2!==null&&(o.y+o.height/2)[Symbol.for("-")]?(o.y+o.height/2)[Symbol.for("-")](l.y):o.y+o.height/2-l.y)()),t.resetPositionTracking())},d=()=>{c.value.then((e=>e.destroy())),c.value=k.addEmitter(i),f([T.ZP.gt(l.value,0),al.nodes.value[e]?.rect,k.boundingRect.value])};return(0,t.nextTick)((()=>(0,t.watch)((()=>[T.ZP.gt(l.value,0),al.nodes.value[e]?.rect,k.boundingRect.value]),f,{immediate:!0}))),{amount:u,gain:l,display:m,particlesEmitter:c,refreshParticleEffect:d}}const w=x("earth","🜃",(0,t.computed)((()=>1)),"green",il("#B6FF0D","#59E80C")),M=x("water","🜄",(0,t.computed)((()=>1)),"blue",il("#0D8CFF","#0C46E8"),i.earned),P=x("air","🜁",(0,t.computed)((()=>1)),"yellow",il("#FFCE0D","#E8D20C"),f.earned),Z=x("fire","🜂",(0,t.computed)((()=>1)),"red",il("#FF530D","#E82C0C"),d.earned),E={earth:w,water:M,air:P,fire:Z},C=(0,t.computed)((()=>T.ZP.pow(1.1,r.level.value))),B=Xo(zo(C,"Distilling Flowers level (x1.1 each)")),I={jobXpGain:B},[q,_]=De([{title:"Distilling Flowers EXP Gain",modifier:B,base:0,unit:"/sec"}]),j=Ro({general:()=>({display:"General",glowColor(){return j.activeTab.value===this.tab?o:""},tab:q,generalTabCollapsed:_})},(()=>({style:`--layer-color: ${o}`})));return this.on("preUpdate",(e=>{!1===r.timeLoopActive.value&&(()=>void 0!==U.Z.tabs[1]&&null!==U.Z.tabs[1]&&U.Z.tabs[1][Symbol.for("!==")]?U.Z.tabs[1][Symbol.for("!==")](nl):U.Z.tabs[1]!==nl)()||(r.xp.value=T.ZP.add(r.xp.value,T.ZP.times(B.apply(0),e)))})),{name:e,color:o,minWidth:670,essentia:l,earth:w,water:M,air:P,fire:Z,job:r,modifiers:I,milestones:b,collapseMilestones:p,modifierTabs:j,display:(0,a.tZ)((()=>{const e=[...v.value];return S.value&&e.push(S.value),(0,t.createVNode)(t.Fragment,null,[(0,t.createVNode)(Po,{resource:l,color:o},null),(0,c.wt)(...e,(0,a.tZ)((()=>(0,t.withDirectives)((0,t.createVNode)(se,{collapsed:p,content:(0,a.tZ)((()=>(0,c.wt)(...N.value))),display:p.value?"Show other completed milestones":"Hide other completed milestones"},null),[[t.vShow,(()=>void 0!==N.value.length&&null!==N.value.length&&N.value.length[Symbol.for(">")]?N.value.length[Symbol.for(">")](0):N.value.length>0)()]])))),(0,c.mS)(w.display,M.display,P.display,Z.display),(0,t.createVNode)(n,null,null),(0,c.sY)(k)])}))}}));var sl=al,ul=l(274);function ml(e,o,l,r,i,n){const a=(0,t.resolveComponent)("MarkNode"),s=(0,t.resolveComponent)("Node");return(()=>void 0!==e.unref(e.visibility)&&null!==e.unref(e.visibility)&&e.unref(e.visibility)[Symbol.for("!==")]?e.unref(e.visibility)[Symbol.for("!==")](e.Visibility.None):e.unref(e.visibility)!==e.Visibility.None)()?((0,t.openBlock)(),(0,t.createElementBlock)("div",{key:0,style:(0,t.normalizeStyle)([{width:(()=>void 0!==e.unref(e.width)&&null!==e.unref(e.width)&&e.unref(e.width)[Symbol.for("+")]?e.unref(e.width)[Symbol.for("+")]("px"):e.unref(e.width)+"px")(),height:(()=>void 0!==e.unref(e.height)&&null!==e.unref(e.height)&&e.unref(e.height)[Symbol.for("+")]?e.unref(e.height)[Symbol.for("+")]("px"):e.unref(e.height)+"px")(),visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},e.unref(e.style)??{}]),class:(0,t.normalizeClass)({bar:!0,...e.unref(e.classes)})},[(0,t.createElementVNode)("div",{class:"overlayTextContainer border",style:(0,t.normalizeStyle)([{width:(()=>void 0!==e.unref(e.width)&&null!==e.unref(e.width)&&e.unref(e.width)[Symbol.for("+")]?e.unref(e.width)[Symbol.for("+")]("px"):e.unref(e.width)+"px")(),height:(()=>void 0!==e.unref(e.height)&&null!==e.unref(e.height)&&e.unref(e.height)[Symbol.for("+")]?e.unref(e.height)[Symbol.for("+")]("px"):e.unref(e.height)+"px")()},e.unref(e.borderStyle)??{}])},[e.component?((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(e.component),{key:0,class:"overlayText",style:(0,t.normalizeStyle)(e.unref(e.textStyle))},null,8,["style"])):(0,t.createCommentVNode)("",!0)],4),(0,t.createElementVNode)("div",{class:"border",style:(0,t.normalizeStyle)([{width:(()=>void 0!==e.unref(e.width)&&null!==e.unref(e.width)&&e.unref(e.width)[Symbol.for("+")]?e.unref(e.width)[Symbol.for("+")]("px"):e.unref(e.width)+"px")(),height:(()=>void 0!==e.unref(e.height)&&null!==e.unref(e.height)&&e.unref(e.height)[Symbol.for("+")]?e.unref(e.height)[Symbol.for("+")]("px"):e.unref(e.height)+"px")()},e.unref(e.style)??{},e.unref(e.baseStyle)??{},e.unref(e.borderStyle)??{}])},[(0,t.createElementVNode)("div",{class:"fill",style:(0,t.normalizeStyle)([e.barStyle,e.unref(e.style)??{},e.unref(e.fillStyle)??{}])},null,4)],4),(0,t.createVNode)(a,{mark:e.unref(e.mark)},null,8,["mark"]),(0,t.createVNode)(s,{id:e.id},null,8,["id"])],6)):(0,t.createCommentVNode)("",!0)}var cl=(0,t.defineComponent)({props:{progress:{type:(0,c.P5)(String,Object,Number),required:!0},width:{type:(0,c.P5)(Number),required:!0},height:{type:(0,c.P5)(Number),required:!0},direction:{type:(0,c.P5)(String),required:!0},display:(0,c.P5)(Object,String,Function),visibility:{type:(0,c.P5)(Number),required:!0},style:(0,c.P5)(Object,String,Array),classes:(0,c.P5)(Object),borderStyle:(0,c.P5)(Object,String,Array),textStyle:(0,c.P5)(Object,String,Array),baseStyle:(0,c.P5)(Object,String,Array),fillStyle:(0,c.P5)(Object,String,Array),mark:(0,c.P5)(Boolean,String),id:{type:String,required:!0}},components:{MarkNode:C,Node:V},setup(e){const{progress:o,width:l,height:r,direction:i,display:n}=(0,t.toRefs)(e),s=(0,t.computed)((()=>{let e=o.value instanceof T.ZP?o.value.toNumber():Number(o.value);return(()=>1-Math.min(Math.max(e,0),1)!==void 0&&1-Math.min(Math.max(e,0),1)!==null&&(1-Math.min(Math.max(e,0),1))[Symbol.for("*")]?(1-Math.min(Math.max(e,0),1))[Symbol.for("*")](100):100*(1-Math.min(Math.max(e,0),1)))()})),u=(0,t.computed)((()=>{const e={width:(()=>(0,c.Uv)(l)+.5!==void 0&&(0,c.Uv)(l)+.5!==null&&((0,c.Uv)(l)+.5)[Symbol.for("+")]?((0,c.Uv)(l)+.5)[Symbol.for("+")]("px"):(0,c.Uv)(l)+.5+"px")(),height:(()=>(0,c.Uv)(r)+.5!==void 0&&(0,c.Uv)(r)+.5!==null&&((0,c.Uv)(r)+.5)[Symbol.for("+")]?((0,c.Uv)(r)+.5)[Symbol.for("+")]("px"):(0,c.Uv)(r)+.5+"px")()};switch((0,t.unref)(i)){case L.Nm.Up:e.clipPath=`inset(${s.value}% 0% 0% 0%)`,e.width=(()=>(0,c.Uv)(l)+1!==void 0&&(0,c.Uv)(l)+1!==null&&((0,c.Uv)(l)+1)[Symbol.for("+")]?((0,c.Uv)(l)+1)[Symbol.for("+")]("px"):(0,c.Uv)(l)+1+"px")();break;case L.Nm.Down:e.clipPath=`inset(0% 0% ${s.value}% 0%)`,e.width=(()=>(0,c.Uv)(l)+1!==void 0&&(0,c.Uv)(l)+1!==null&&((0,c.Uv)(l)+1)[Symbol.for("+")]?((0,c.Uv)(l)+1)[Symbol.for("+")]("px"):(0,c.Uv)(l)+1+"px")();break;case L.Nm.Right:e.clipPath=`inset(0% ${s.value}% 0% 0%)`;break;case L.Nm.Left:e.clipPath=`inset(0% 0% 0% ${s.value} + '%)`;break;case L.Nm.Default:e.clipPath="inset(0% 50% 0% 0%)";break}return e})),m=(0,c.KO)(n);return{normalizedProgress:s,barStyle:u,component:m,unref:t.unref,Visibility:a.EE}}});const fl=(0,d.Z)(cl,[["render",ml],["__scopeId","data-v-bfa7e8b2"]]);var dl=fl;const yl=Symbol("Bar");function bl(e){return(0,h.z2)((()=>{const o=e();return o.id=(0,a.QI)("bar-"),o.type=yl,o[a.wA]=dl,(0,O.yB)(o,"visibility"),(0,a.Rh)(o,"visibility",a.EE.Visible),(0,O.yB)(o,"width"),(0,O.yB)(o,"height"),(0,O.yB)(o,"direction"),(0,O.yB)(o,"style"),(0,O.yB)(o,"classes"),(0,O.yB)(o,"borderStyle"),(0,O.yB)(o,"baseStyle"),(0,O.yB)(o,"textStyle"),(0,O.yB)(o,"fillStyle"),(0,O.yB)(o,"progress"),(0,O.yB)(o,"display"),(0,O.yB)(o,"mark"),o[a.tj]=function(){const{progress:e,width:o,height:l,direction:r,display:i,visibility:n,style:a,classes:s,borderStyle:u,textStyle:m,baseStyle:c,fillStyle:f,mark:d,id:y}=this;return{progress:e,width:o,height:l,direction:r,display:i,visibility:n,style:(0,t.unref)(a),classes:s,borderStyle:u,textStyle:m,baseStyle:c,fillStyle:f,mark:d,id:y}},o}))}const hl=e=>((0,t.pushScopeId)("data-v-10102872"),e=e(),(0,t.popScopeId)(),e),pl={class:"spell-tree-container"},vl=hl((()=>(0,t.createElementVNode)("div",{class:"spell-tree"},null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()))),gl=(0,t.createStaticVNode)('<svg style="display:none;" data-v-10102872><filter id="skilltreeturbulence" data-v-10102872><feTurbulence x="-50vw" y="-50vh" width="200vw" height="200vh" baseFrequency="0.015" numOctaves="10" seed="2" data-v-10102872></feTurbulence><feDisplacementMap in="SourceGraphic" scale="10" data-v-10102872><animate attributeName="scale" values="10;50;10" dur="10s" repeatCount="indefinite" data-v-10102872></animate></feDisplacementMap></filter></svg>',1);var Sl=(0,t.defineComponent)({props:{spell:null},setup(e){const o=e,l=(0,t.shallowRef)("");(0,t.watchEffect)((()=>{l.value=(0,c.sY)(o.spell.tree)}));const r=ye((()=>({display:"reset",classes:{"reset-tree":!0},onClick(){Object.values(o.spell.treeNodes).forEach((e=>e.bought.value=!1)),o.spell.castingTime.value=0}}))),i=(0,c.sY)(r);return(e,o)=>((0,t.openBlock)(),(0,t.createElementBlock)("div",pl,[vl,((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)((0,t.unref)(l)))),((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)((0,t.unref)(i)))),gl]))}});const Nl=(0,d.Z)(Sl,[["__scopeId","data-v-10102872"]]);var kl=Nl,xl=l(5549),Vl=JSON.parse('["Placeholder flower quip"]'),wl=JSON.parse('{"emit":false,"autoUpdate":true,"lifetime":{"min":0.5,"max":2},"frequency":0.005,"emitterLifetime":-1,"maxParticles":1000,"addAtBack":true,"pos":{"x":0,"y":0},"behaviors":[{"type":"alpha","config":{"alpha":{"list":[{"time":0,"value":1},{"time":1,"value":0}]}}},{"type":"moveSpeed","config":{"speed":{"list":[{"time":0,"value":2},{"time":1,"value":25}]},"minMult":2}},{"type":"scale","config":{"scale":{"list":[{"time":0,"value":0.001},{"time":1,"value":1}]},"minMult":0.25}},{"type":"color","config":{"color":{"list":[{"time":0,"value":"#EB428F"},{"time":0.25,"value":"#F545ED"},{"time":0.5,"value":"#B949DE"},{"time":0.75,"value":"#9945F5"},{"time":1,"value":"#6442EB"}]}}},{"type":"rotation","config":{"accel":0,"minSpeed":0,"maxSpeed":20,"minStart":270,"maxStart":300}},{"type":"textureRandom","config":{"textures":["/Fire.png"]}},{"type":"spawnShape","config":{"type":"torus","data":{"x":0,"y":0,"radius":75,"innerRadius":75,"affectRotation":true}}}]}');const Ml="flowers",Pl=(0,u.createLayer)(Ml,(function(){const e="Harvesting Flowers",o="#F1EBD9",l=D(0,"moly"),r=oo(e,(()=>({color:o,image:"https://dummyimage.com/512x288/000/fff.png",imageFocus:{x:"75%",y:"30%"},randomQuips(){return[...Vl,...Go]},resource:l,layerID:Ml,modifierInfo:(0,a.tZ)((()=>(0,c.qF)(ze))),modifierModalAttrs:{class:"flowers-modal"}}))),i=(0,t.computed)((()=>Object.values(X).filter((e=>e.active.value)).length)),s=(0,t.computed)((()=>1)),u=g((()=>({fullscreen:!1,zIndex:(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)(),boundingRect:(0,t.ref)(null),onContainerResized(e){this.boundingRect.value=e},onHotReload(){Object.values(X).forEach((e=>{e.particleEffect.value.then((e=>e.destroy())),e.particleEffect.value=u.addEmitter(e.particleEffectConfig),e.updateParticleEffect(e.active.value)}))}}))),m=bo((()=>({shouldEarn(){return T.ZP.gte(r.rawLevel.value,2)},display:{requirement:"Achieve Harvesting Flowers Level 2",effectDisplay:"Double Téchnasma potency and unlock experience for spells"}}))),f=bo((()=>({shouldEarn(){return T.ZP.gte(r.rawLevel.value,4)},display:{requirement:"Achieve Harvesting Flowers Level 4",effectDisplay:"Double Téchnasma potency and unlock a new spell - Therizó"},visibility(){return(0,a.Kf)(m.earned.value)}}))),d=bo((()=>({shouldEarn(){return T.ZP.gte(r.rawLevel.value,6)},display:{requirement:"Achieve Harvesting Flowers Level 6",effectDisplay:"Double Téchnasma potency and unlock a new spell - Prōficiō"},visibility(){return(0,a.Kf)(f.earned.value)}}))),y=bo((()=>({shouldEarn(){return T.ZP.gte(r.rawLevel.value,8)},display:{requirement:"Achieve Harvesting Flowers Level 8",effectDisplay:"Double Téchnasma potency and unlock a new spell - Scholē"},visibility(){return(0,a.Kf)(d.earned.value)}}))),b={spellExpMilestone:m,flowerSpellMilestone:f,chargeSpellMilestone:d,expSpellMilestone:y},h=[y,d,f,m],p=(0,F.ax)(!0),v=(0,t.computed)((()=>h.filter((e=>!1===e.earned.value)))),{firstFeature:S,hiddenFeatures:N}=(0,c.oU)(h,(e=>e.earned.value)),k=Be((()=>({visibility:a.EE.Hidden})));function x(e,o,l,r,n,c){const f=Object.keys(n).reduce(((e,o)=>{const l=(0,F.ax)(!1);return e[o]=Be((()=>({display:n[o].display,classes(){return{"spell-node":!0,bought:l.value}},bought:l,canClick(){return!f[o].bought.value&&(!T.ZP.gte(b.value,y.value)&&!n[o].requirements?.some((e=>(()=>void 0!==f[e].bought.value&&null!==f[e].bought.value&&f[e].bought.value[Symbol.for("!")]?f[e].bought.value[Symbol.for("!")]():!f[e].bought.value)())))},onClick(){f[o].bought.value=!0}}))),e}),{}),d=(0,F.ax)(0),y=(0,t.computed)((()=>T.ZP.clampMin(d.value,1).log10().floor())),b=(0,t.computed)((()=>Object.values(f).reduce(((e,o)=>(()=>void 0!==e&&null!==e&&e[Symbol.for("+")]?e[Symbol.for("+")](o.bought.value?1:0):e+(o.bought.value?1:0))()),0))),h=(0,t.computed)((()=>{const e=T.ZP.eq(y.value,0)?0:T.ZP.pow10(y.value),o=T.ZP.pow10(T.ZP.add(y.value,1));return T.ZP.sub(d.value,e).div(T.ZP.sub(o,e)).times(100)})),p=(0,t.computed)((()=>(0,a.Kf)((0,t.unref)(r)))),v=ye((()=>({canClick(){return g.active.value||(()=>void 0!==i.value&&null!==i.value&&i.value[Symbol.for("<")]?i.value[Symbol.for("<")](s.value):i.value<s.value)()},display(){return{title:`<h2>${e}</h2>`,description:(0,a.tZ)((()=>(0,t.createVNode)(t.Fragment,null,[(0,t.createVNode)("br",null,null),(0,t.createVNode)("i",null,[o]),(0,t.createVNode)("br",null,null),(0,t.createVNode)("br",null,null),(0,t.createVNode)("h3",null,[l]),m.earned.value?(0,t.createVNode)("div",{class:"spell-level"},[(0,t.createVNode)("div",{class:"spell-exp",style:`--exp: ${(0,T.WU)(h.value)}%`},null),(0,t.createVNode)("span",null,[(0,t.createTextVNode)("("),(0,xl.formatWhole)(T.ZP.sub(y.value,b.value)),(0,t.createTextVNode)("/"),(0,xl.formatWhole)(y.value),(0,t.createTextVNode)(")")])]):null])))}},style:"width: 150px; height: 150px; z-index: 2",classes(){return{spellSelector:!0,activeSpell:g.active.value,can:(0,t.unref)(v.canClick)}},onClick(){g.active.value=(()=>void 0!==g.active.value&&null!==g.active.value&&g.active.value[Symbol.for("!")]?g.active.value[Symbol.for("!")]():!g.active.value)(),g.updateParticleEffect(g.active.value),g.castingTime.value=0},visibility:p}))),g={treeNodes:f,tree:Fe((()=>({nodes:c.map((e=>e.map((e=>e===k?k:f[e])))),branches:()=>Object.keys(n).reduce(((e,o)=>n[o].requirements?[...e,...n[o].requirements.map((e=>({startNode:f[o],endNode:f[e],stroke:f[e].bought.value?"#B949DE":"var(--locked)","stroke-width":"4px"})))]:e),[])}))),visibility:p,selector:v,particleEffectConfig:wl,active:(0,F.ax)(!1),xp:d,castingTime:(0,F.ax)(0),level:y,spentPoints:b,levelProgress:h,particleEffectWatcher:(0,t.ref)(null),particleEffect:(0,t.ref)(u.addEmitter(wl)),async updateParticleEffect(e){const o=await g.particleEffect.value;e?(o.emit=!0,g.particleEffectWatcher.value?.(),g.particleEffectWatcher.value=(0,t.watch)([()=>Pl.nodes.value[v.id]?.rect,u.boundingRect],(async([e,l])=>{e&&l&&(o.cleanup(),o.updateOwnerPos((()=>e.x+e.width/2!==void 0&&e.x+e.width/2!==null&&(e.x+e.width/2)[Symbol.for("-")]?(e.x+e.width/2)[Symbol.for("-")](l.x):e.x+e.width/2-l.x)(),(()=>e.y+e.height/2!==void 0&&e.y+e.height/2!==null&&(e.y+e.height/2)[Symbol.for("-")]?(e.y+e.height/2)[Symbol.for("-")](l.y):e.y+e.height/2-l.y)()),o.resetPositionTracking())}),{immediate:!0})):(o.emit=!1,g.particleEffectWatcher.value?.(),g.particleEffectWatcher.value=null)}};return g}const V=(0,F.ax)(0),w=bl((()=>({direction:L.Nm.Right,height:20,width:200,style:()=>`--time: ${(()=>U.Z.time%1e8!==void 0&&U.Z.time%1e8!==null&&(U.Z.time%1e8)[Symbol.for("/")]?(U.Z.time%1e8)[Symbol.for("/")](10):U.Z.time%1e8/10)().toLocaleString("fullwide",{useGrouping:!1})}px; --time-deg: ${(()=>U.Z.time%1e8!==void 0&&U.Z.time%1e8!==null&&(U.Z.time%1e8)[Symbol.for("/")]?(U.Z.time%1e8)[Symbol.for("/")](100):U.Z.time%1e8/100)().toLocaleString("fullwide",{useGrouping:!1})}deg`,classes:{chargeBar:!0},progress(){return T.ZP.div(V.value,ge.value)},visibility:()=>(0,a.Kf)(d.earned.value)}))),M=(0,t.computed)((()=>T.ZP.pow(1.1,r.level.value))),P=(0,t.computed)((()=>T.ZP.pow(1.25,Object.values(X).filter((e=>e.visibility.value===a.EE.Visible)).length))),Z=M,E=M,C=(0,t.computed)((()=>T.ZP.pow(1.1,I.level.value))),B=M,I=x("Téchnasma","Practice using the flowers to perform minor magical tricks.","Gain job exp.",!0,{moreJobXpFlat:{display:"x4 job exp"},moreJobXpPerSpell:{display:(0,a.tZ)((()=>(0,t.createVNode)("div",null,[(0,t.createTextVNode)("x1.25 job exp per known spell"),(0,t.createVNode)("br",null,null),(0,t.createTextVNode)("(x"),(0,T.WU)(P.value),(0,t.createTextVNode)(")")]))),requirements:["moreJobXpFlat"]},morePotencyPerJobLevel:{display:(0,a.tZ)((()=>(0,t.createVNode)("div",null,[(0,t.createTextVNode)("Additional x1.1 all spell potency per job level"),(0,t.createVNode)("br",null,null),(0,t.createTextVNode)("(x"),(0,T.WU)(Z.value),(0,t.createTextVNode)(")")]))),requirements:["moreJobXpFlat"]},moreJobXpPerJobLevel:{display:(0,a.tZ)((()=>(0,t.createVNode)("div",null,[(0,t.createTextVNode)("Additional x1.1 job exp per job level"),(0,t.createVNode)("br",null,null),(0,t.createTextVNode)("(x"),(0,T.WU)(E.value),(0,t.createTextVNode)(")")]))),requirements:["moreJobXpPerSpell"]},moreJobXpPerSpellLevel:{display:(0,a.tZ)((()=>(0,t.createVNode)("div",null,[(0,t.createTextVNode)("Additional x1.1 job exp per Téchnasma level"),(0,t.createVNode)("br",null,null),(0,t.createTextVNode)("(x"),(0,T.WU)(C.value),(0,t.createTextVNode)(")")]))),requirements:["moreJobXpPerSpell"]},morePotencyOverTime:{display:"Additional spell potency the longer it's been consecutively casted",requirements:["morePotencyPerJobLevel"]},moreSpellXpPerJobLevel:{display:(0,a.tZ)((()=>(0,t.createVNode)("div",null,[(0,t.createTextVNode)("x1.1 all spell exp per job level"),(0,t.createVNode)("br",null,null),(0,t.createTextVNode)("(x"),(0,T.WU)(B.value),(0,t.createTextVNode)(")")]))),requirements:["morePotencyPerJobLevel"]}},[["moreJobXpFlat"],["moreJobXpPerSpell",k,"morePotencyPerJobLevel"],["moreJobXpPerJobLevel","moreJobXpPerSpellLevel","morePotencyOverTime","moreSpellXpPerJobLevel"]]),q=(0,t.computed)((()=>(()=>void 0!==Object.values(X).filter((e=>e.visibility.value===a.EE.Visible)).length&&null!==Object.values(X).filter((e=>e.visibility.value===a.EE.Visible)).length&&Object.values(X).filter((e=>e.visibility.value===a.EE.Visible)).length[Symbol.for("*")]?Object.values(X).filter((e=>e.visibility.value===a.EE.Visible)).length[Symbol.for("*")](.25):.25*Object.values(X).filter((e=>e.visibility.value===a.EE.Visible)).length)())),_=(0,t.computed)((()=>T.ZP.pow(1.1,A.level.value))),j=(0,t.computed)((()=>T.ZP.log10(T.ZP.add(l.value,1)).pow(.777).add(1))),O=(0,t.createVNode)(t.Fragment,null,[(0,t.createTextVNode)("log"),(0,t.createVNode)("sub",null,[(0,t.createTextVNode)("2")]),(0,t.createTextVNode)("(flowers + 1)"),(0,t.createVNode)("sup",null,[(0,t.createTextVNode)("0.777")]),(0,t.createTextVNode)(" + 1")]),A=x("Therizó","Use the magic of the flowers to harvest themselves. They should make my spells more potent.","Gain flowers.",f.earned,{moreFlowersFlat:{display:"x2 flowers gain"},moreFlowersPerSpell:{display:(0,a.tZ)((()=>(0,t.createVNode)("div",null,[(0,t.createTextVNode)("+.25x Therizó potency per known spell"),(0,t.createVNode)("br",null,null),(0,t.createTextVNode)("(+"),(0,T.WU)(q.value),(0,t.createTextVNode)(")")]))),requirements:["moreFlowersFlat"]},moreFlowersPerLevel:{display:(0,a.tZ)((()=>(0,t.createVNode)("div",null,[(0,t.createTextVNode)("Additional x1.1 flower gain per Therizó level"),(0,t.createVNode)("br",null,null),(0,t.createTextVNode)("(x"),(0,T.WU)(_.value),(0,t.createTextVNode)(")")]))),requirements:["moreFlowersPerSpell"]},moreJobXpPerFlower:{display:(0,a.tZ)((()=>(0,t.createVNode)("div",null,[(0,t.createTextVNode)("Flowers affect job exp"),(0,t.createVNode)("br",null,null),(0,t.createTextVNode)("(x"),(0,T.WU)(j.value),(0,t.createTextVNode)(")")]))),requirements:["moreFlowersFlat"]},moreSpellXpPerFlower:{display:(0,a.tZ)((()=>(0,t.createVNode)("div",null,[(0,t.createTextVNode)("Flowers affect all spell exp"),(0,t.createVNode)("br",null,null),(0,t.createTextVNode)("(x"),(0,T.WU)(j.value),(0,t.createTextVNode)(")")]))),requirements:["moreJobXpPerFlower"]},morePotencyPerFlower:{display:(0,a.tZ)((()=>(0,t.createVNode)("div",null,[(0,t.createTextVNode)("Flower's affect all spell potency twice"),(0,t.createVNode)("br",null,null),(0,t.createTextVNode)("(x"),(0,T.WU)(j.value),(0,t.createTextVNode)(")")]))),requirements:["moreSpellXpPerFlower"]},passiveFlowerGain:{display:"1% of flower gain when casting other spells",requirements:["moreSpellXpPerFlower"]}},[["moreFlowersPerLevel","moreFlowersPerSpell","moreFlowersFlat"],[k,k,"moreJobXpPerFlower"],[k,"passiveFlowerGain","moreSpellXpPerFlower"],[k,k,"morePotencyPerFlower"]]),R=x("Prōficiō","Charge up magic to cast another spell with greater potency.","Charge spell potency.",d.earned,{spellEff:{display:"x1.25 spell potency when discharging"},fasterChargeFlat:{display:"x1.5 faster charging",requirements:["spellEff"]},fasterChargeByLevel:{display:"Additional x1.1 faster charging for each Prōficiō level",requirements:["fasterChargeFlat"]},betterChargeMulti:{display:"Charge effect on spells is raised ^1.1",requirements:["fasterChargeByLevel"]},largerChargeFlat:{display:"x1.5 max charge",requirements:["spellEff"]},largerChargeByLevel:{display:"Additional x1.2 max charge for each Prōficiō level",requirements:["largerChargeFlat"]},slowerDischargeByLevel:{display:"x1.05 slower discharge for each of that spell's levels",requirements:["largerChargeByLevel"]}},[["spellEff"],["fasterChargeFlat","largerChargeFlat"],["fasterChargeByLevel","largerChargeByLevel"],["betterChargeMulti","slowerDischargeByLevel"]]),z=(0,t.computed)((()=>T.ZP.div(W.level.value,10))),W=x("Scholē","Practice a difficult routine that improves your ability at casting all spells.","Gain spell exp.",y.earned,{moreSpellXp:{display:"All spells gain double exp"},moreXpSpellXp:{display:"Téchnasma spell gains double exp",requirements:["moreSpellXp"]},moreFlowerSpellXp:{display:"Therizó spell gains double exp",requirements:["moreSpellXp"]},moreChargeSpellXp:{display:"Prōficiō spell gains double exp",requirements:["moreSpellXp"]},moreMassXpSpellXp:{display:"Scholē spell gains double exp",requirements:["moreSpellXp"]},moreXpPerLevel:{display:(0,a.tZ)((()=>(0,t.createVNode)("div",null,[(0,t.createTextVNode)("+.1x other spell exp per level of this spell"),(0,t.createVNode)("br",null,null),(0,t.createTextVNode)("(+"),(0,T.WU)(z.value),(0,t.createTextVNode)(")")]))),requirements:["moreSpellXp"]},morePotency:{display:"Double potency of this spell",requirements:["moreSpellXp"]}},[["moreXpSpellXp","moreFlowerSpellXp"],["moreXpPerLevel","moreSpellXp","morePotency"],["moreChargeSpellXp","moreMassXpSpellXp"]]),X={xpSpell:I,flowerSpell:A,chargeSpell:R,massXpSpell:W},G=Xo(zo(1.25,"Prōficiō skill (x1.25 when discharging)",(()=>R.treeNodes.spellEff.bought.value&&T.ZP.gt(V.value,0))),Wo(1.1,"Prōficiō skill (flat)",R.treeNodes.betterChargeMulti.bought)),H=(0,t.computed)((()=>G.apply(T.ZP.log10(T.ZP.add(V.value,1)).add(1)))),J=Xo(zo(M,"Harvesting Flowers level (x1.1 each)"),zo(Z,"Téchnasma skill (x1.1 per Harvesting Flowers level)",I.treeNodes.morePotencyPerJobLevel.bought),zo(j,(0,a.tZ)((()=>(0,t.createVNode)(t.Fragment,null,[(0,t.createTextVNode)("Flowers Effect ("),O,(0,t.createTextVNode)(")")])))),zo(j,"Therizó skill (Re-apply flowers effect)",A.treeNodes.morePotencyPerFlower.bought)),$=(0,t.computed)((()=>J.apply(1))),K=Xo(zo(B,"Téchnasma skill (x1.1 per Harvesting Flowers level)",I.treeNodes.moreSpellXpPerJobLevel.bought),zo(j,(0,a.tZ)((()=>(0,t.createVNode)(t.Fragment,null,[(0,t.createTextVNode)("Therizó skill ("),O,(0,t.createTextVNode)(")")]))),A.treeNodes.moreSpellXpPerFlower.bought),zo(2,"Scholē skill (flat)",W.treeNodes.moreSpellXp.bought)),Q=(0,t.computed)((()=>K.apply(1))),Y=Xo(zo($,"All Spell Potency"),zo(2,"Spell EXP milestone (flat)",m.earned),zo(2,"Therizó milestone (flat)",f.earned),zo(2,"Prōficiō milestone (flat)",d.earned),zo(2,"Scholē milestone (flat)",y.earned),zo((()=>T.ZP.pow(1.1,I.level.value)),"Téchnasma level (x1.1 each)",m.earned),zo((()=>T.ZP.log2(T.ZP.add(I.castingTime.value,1)).div(10).add(1)),(0,a.tZ)((()=>(0,t.createVNode)(t.Fragment,null,[(0,t.createTextVNode)("Téchnasma skill (log"),(0,t.createVNode)("sub",null,[(0,t.createTextVNode)("2")]),(0,t.createTextVNode)("(casting time)/10)")]))),I.treeNodes.morePotencyOverTime.bought),zo(H,"Charge Multiplier",d.earned)),ee=(0,t.computed)((()=>Y.apply(1))),oe=Xo(Uo((()=>T.ZP.div(W.level.value,10)),"Scholē skill (+.1 per Scholē level)",W.treeNodes.moreXpPerLevel.bought),zo(Q,"All Spell EXP Gain"),zo(ee,"Téchnasma potency"),zo(2,"Scholē skill (flat)",W.treeNodes.moreXpSpellXp.bought)),le=Xo(Uo(ee,"Téchnasma potency"),zo(M,"Harvesting Flowers level (x1.1 each)"),zo(4,"Téchnasma skill (flat)",I.treeNodes.moreJobXpFlat.bought),zo(P,"Téchnasma skill (x1.25 per known spell)",I.treeNodes.moreJobXpPerSpell.bought),zo(E,"Téchnasma skill (x1.1 per Harvesting Flowers level)",I.treeNodes.moreJobXpPerJobLevel.bought),zo(C,"Téchnasma skill (x1.1 per Téchnasma level)",I.treeNodes.moreJobXpPerSpellLevel.bought),zo(j,(0,a.tZ)((()=>(0,t.createVNode)(t.Fragment,null,[(0,t.createTextVNode)("Flowers Effect ("),O,(0,t.createTextVNode)(")")]))),A.treeNodes.moreJobXpPerFlower.bought)),te=Xo(zo((()=>T.ZP.pow((()=>1[Symbol.for("/")]?1[Symbol.for("/")](1.05):1/1.05)(),I.level.value??0)),"Therizó skill (/1.05 per Téchnasma level)",R.treeNodes.slowerDischargeByLevel.bought)),re=(0,t.computed)((()=>te.apply(xe.value))),ie=Xo(Uo(q,"Therizó skill (+.25 per known spell)",A.treeNodes.moreFlowersPerSpell.bought),zo($,"All Spell Potency"),zo((()=>T.ZP.pow(1.1,A.level.value)),"Therizó level (x1.1 each)",m.earned),zo((()=>T.ZP.log2(T.ZP.add(A.castingTime.value,1)).div(10).add(1)),(0,a.tZ)((()=>(0,t.createVNode)(t.Fragment,null,[(0,t.createTextVNode)("Téchnasma skill (log"),(0,t.createVNode)("sub",null,[(0,t.createTextVNode)("2")]),(0,t.createTextVNode)("(casting time)/10)")]))),I.treeNodes.morePotencyOverTime.bought),zo(H,"Charge Multiplier",d.earned)),ne=(0,t.computed)((()=>ie.apply(1))),ae=Xo(Uo(z,"Scholē skill (+.1 per Scholē level)",W.treeNodes.moreXpPerLevel.bought),zo(Q,"All Spell EXP Gain"),zo(ne,"Therizó potency"),zo(2,"Scholē skill (flat)",W.treeNodes.moreFlowerSpellXp.bought)),ue=Xo(Uo(ne,"Therizó potency"),zo(2,"Therizó skill (flat)",A.treeNodes.moreFlowersFlat.bought),zo(_,"Therizó skill (x1.1 per Therizó level)",A.treeNodes.moreFlowersPerLevel.bought)),me=(0,t.computed)((()=>ue.apply(0))),ce=Xo(Uo(.01,"Therizó skill (flat)",A.treeNodes.passiveFlowerGain.bought),zo(me,"Flower gain")),fe=Xo(zo((()=>T.ZP.pow((()=>1[Symbol.for("/")]?1[Symbol.for("/")](1.05):1/1.05)(),A.level.value??0)),"Therizó skill (/1.05 per Therizó level)",R.treeNodes.slowerDischargeByLevel.bought)),de=(0,t.computed)((()=>fe.apply(xe.value))),be=Xo(zo($,"All Spell Potency"),zo((()=>T.ZP.pow(1.1,R.level.value)),"Prōficiō level (x1.1 each)"),zo((()=>T.ZP.log2(T.ZP.add(R.castingTime.value,1)).div(10).add(1)),(0,a.tZ)((()=>(0,t.createVNode)(t.Fragment,null,[(0,t.createTextVNode)("Téchnasma skill (log"),(0,t.createVNode)("sub",null,[(0,t.createTextVNode)("2")]),(0,t.createTextVNode)("(casting time)/10)")]))),I.treeNodes.morePotencyOverTime.bought)),he=(0,t.computed)((()=>be.apply(1))),pe=Xo(Uo((()=>T.ZP.div(W.level.value,10)),"Scholē skill (+.1 per Scholē level)",W.treeNodes.moreXpPerLevel.bought),zo(Q,"All Spell EXP Gain"),zo(he,"Prōficiō potency"),zo(2,"Scholē skill (flat)",W.treeNodes.moreChargeSpellXp.bought)),ve=Xo(Uo(he,"Prōficiō potency"),zo(1.5,"Prōficiō skill (flat)",R.treeNodes.largerChargeFlat.bought),zo((()=>T.ZP.pow(1.2,R.level.value)),"Prōficiō skill (x1.2 per Prōficiō level)",R.treeNodes.largerChargeByLevel.bought)),ge=(0,t.computed)((()=>ve.apply(0))),Se=Xo(Uo((()=>T.ZP.div(he.value,10)),"Prōficiō potency (/10)"),zo(1.5,"Prōficiō skill (flat)",R.treeNodes.fasterChargeFlat.bought),zo((()=>T.ZP.pow(1.1,R.level.value)),"Prōficiō skill (x1.1 per Prōficiō level)",R.treeNodes.fasterChargeFlat.bought)),Ne=(0,t.computed)((()=>Se.apply(0))),ke=Xo(Uo((()=>T.ZP.div(he.value,10)),"Prōficiō potency (/10)")),xe=(0,t.computed)((()=>ke.apply(0))),Ve=Xo(zo($,"All Spell Potency"),zo((()=>T.ZP.pow(1.1,W.level.value)),"Scholē level (x1.1 each)"),zo((()=>T.ZP.log2(T.ZP.add(W.castingTime.value,1)).div(10).add(1)),(0,a.tZ)((()=>(0,t.createVNode)(t.Fragment,null,[(0,t.createTextVNode)("Téchnasma skill (log"),(0,t.createVNode)("sub",null,[(0,t.createTextVNode)("2")]),(0,t.createTextVNode)("(casting time)/10)")]))),I.treeNodes.morePotencyOverTime.bought),zo(H,"Charge Multiplier",d.earned),zo(2,"Scholē skill (flat)",W.treeNodes.morePotency.bought)),we=(0,t.computed)((()=>Ve.apply(1))),Me=Xo(zo(Q,"All Spell EXP Gain"),zo(we,"Scholē potency"),zo(2,"Scholē skill (flat)",W.treeNodes.moreMassXpSpellXp.bought)),Pe=Xo(Uo((()=>T.ZP.times(we.value,1)),"Scholē potency"),Wo(.9,"(softcapped)")),Ze=Xo(zo((()=>T.ZP.pow((()=>1[Symbol.for("/")]?1[Symbol.for("/")](1.05):1/1.05)(),W.level.value??0)),"Prōficiō skill (/1.05 per Scholē level)",R.treeNodes.slowerDischargeByLevel.bought)),Ee=(0,t.computed)((()=>Ze.apply(xe.value))),Ce={allSpellPotency:J,allSpellXpGain:K,xpSpellPotency:Y,xpSpellXp:oe,jobXpGain:le,flowerSpellPotency:ie,flowerSpellXp:ae,flowerGain:ue,flowerPassiveGain:ce,chargeSpellPotency:be,chargeSpellXp:pe,massXpSpellPotency:Ve,massXpSpellXp:Me,massXpGain:Pe},[Te,Ie]=De([{title:"Harvesting Flowers EXP Gain",subtitle:"When Téchnasma is active",modifier:le,base:0,unit:"/sec"},{title:"All Spell Potency",modifier:J},{title:"All Spell EXP Gain",subtitle:"When the spell is active",modifier:K,unit:"/sec"},{title:"Harvesting Flowers EXP Gain",subtitle:"When Téchnasma is active",modifier:le,base:0,unit:"/sec"},{title:"Flowers Gain",subtitle:"When Therizó is active",modifier:ue,base:0,unit:"/sec",visible:f.earned},{title:"Flowers Gain",subtitle:"When Therizó is NOT active",modifier:ce,base:0,unit:"/sec",visible:()=>f.earned.value&&T.ZP.neq(ce.apply(0),0)}]),[qe,_e]=De([{title:"Téchnasma Potency",modifier:Y},{title:"Téchnasma EXP Gain",subtitle:"When Téchnasma is active",modifier:oe,unit:"/sec"},{title:"Discharge Rate",subtitle:"When Téchnasma is active",modifier:te,base:xe,unit:"/sec",visible:d.earned}]),[je,Le]=De([{title:"Therizó Potency",modifier:ie},{title:"Therizó EXP Gain",subtitle:"When Therizó is active",modifier:ae,base:.1,unit:"/sec"},{title:"Discharge Rate",subtitle:"When Therizó is active",modifier:fe,base:xe,unit:"/sec",visible:d.earned}]),[Oe,Ae]=De([{title:"Prōficiō Potency",modifier:be},{title:"Prōficiō EXP Gain",subtitle:"When Prōficiō is active",modifier:pe,base:.01,unit:"/sec"},{title:"Charge Multiplier",subtitle:"When a non-Prōficiō spell is active",modifier:G,base:()=>T.ZP.log2(T.ZP.add(V.value,1)).add(1),unit:"x",baseText:(0,a.tZ)((()=>(0,t.createVNode)(t.Fragment,null,[(0,t.createTextVNode)("Base (log"),(0,t.createVNode)("sub",null,[(0,t.createTextVNode)("2")]),(0,t.createTextVNode)("(charge + 1) + 1)")])))},{title:"Charge Rate",subtitle:"When Prōficiō is active",modifier:Se,base:0,unit:"/sec"},{title:"Base Discharge Rate",subtitle:"When a non-Prōficiō spell is active",modifier:ke,base:0,unit:"/sec"},{title:"Maximum Charge",modifier:ve,base:0}]),[Re,Ue]=De([{title:"Scholē Potency",modifier:Ve},{title:"Scholē EXP Gain",subtitle:"When Scholē is active",modifier:Me,base:.001,unit:"/sec"},{title:"Other Spell EXP Gain Efficiency",subtitle:"When Scholē is active",modifier:Pe,base:0,unit:"%"},{title:"Discharge Rate",subtitle:"When Scholē is active",modifier:Ze,base:xe,unit:"/sec",visible:d.earned}]),ze=Ro({general:()=>({display:"General",glowColor(){return ze.activeTab.value===this.tab?o:""},tab:Te,generalTabCollapsed:Ie}),xpSpell:()=>({display:"Téchnasma",glowColor(){return ze.activeTab.value===this.tab?o:""},tab:qe,xpSpellTabCollapsed:_e}),flowerSpell:()=>({display:"Therizó",visibility:()=>(0,a.Kf)(f.earned.value),glowColor(){return ze.activeTab.value===this.tab?o:""},tab:je,flowerSpellTabCollapsed:Le}),chargeSpell:()=>({display:"Prōficiō",visibility:()=>(0,a.Kf)(d.earned.value),glowColor(){return ze.activeTab.value===this.tab?o:""},tab:Oe,chargeSpellTabCollapsed:Ae}),massXpSpell:()=>({display:"Scholē",visibility:()=>(0,a.Kf)(y.earned.value),glowColor(){return ze.activeTab.value===this.tab?o:""},tab:Re,massXpSpellTabCollapsed:Ue})},(()=>({style:`--layer-color: ${o}`})));return this.on("preUpdate",(e=>{if(!1!==r.timeLoopActive.value||!(()=>void 0!==U.Z.tabs[1]&&null!==U.Z.tabs[1]&&U.Z.tabs[1][Symbol.for("!==")]?U.Z.tabs[1][Symbol.for("!==")](Ml):U.Z.tabs[1]!==Ml)()){if(I.active.value&&(r.xp.value=T.ZP.add(r.xp.value,T.ZP.times(le.apply(0),e)),m.earned.value&&(I.xp.value=T.ZP.add(I.xp.value,T.ZP.times(oe.apply(1),e))),I.castingTime.value=(()=>void 0!==I.castingTime.value&&null!==I.castingTime.value&&I.castingTime.value[Symbol.for("+")]?I.castingTime.value[Symbol.for("+")](e):I.castingTime.value+e)(),V.value=T.ZP.max(T.ZP.sub(V.value,T.ZP.times(re.value,e)),0)),A.active.value)l.value=T.ZP.min((()=>void 0!==Cl.chapter.value&&null!==Cl.chapter.value&&Cl.chapter.value[Symbol.for(">")]?Cl.chapter.value[Symbol.for(">")](1):Cl.chapter.value>1)()?T.ZP.dInf:1e7,T.ZP.add(l.value,T.ZP.times(ue.apply(0),e))),m.earned.value&&(A.xp.value=T.ZP.add(A.xp.value,T.ZP.times(ae.apply(.1),e))),A.castingTime.value=(()=>void 0!==A.castingTime.value&&null!==A.castingTime.value&&A.castingTime.value[Symbol.for("+")]?A.castingTime.value[Symbol.for("+")](e):A.castingTime.value+e)(),V.value=T.ZP.max(T.ZP.sub(V.value,T.ZP.times(de.value,e)),0);else{const o=ce.apply(0);T.ZP.neq(o,0)&&(l.value=T.ZP.min((()=>void 0!==Cl.chapter.value&&null!==Cl.chapter.value&&Cl.chapter.value[Symbol.for(">")]?Cl.chapter.value[Symbol.for(">")](1):Cl.chapter.value>1)()?T.ZP.dInf:1e7,T.ZP.add(l.value,T.ZP.times(o,e))))}if(R.active.value&&(R.xp.value=T.ZP.add(R.xp.value,T.ZP.times(pe.apply(.01),e)),R.castingTime.value=(()=>void 0!==R.castingTime.value&&null!==R.castingTime.value&&R.castingTime.value[Symbol.for("+")]?R.castingTime.value[Symbol.for("+")](e):R.castingTime.value+e)(),V.value=T.ZP.min(T.ZP.add(V.value,T.ZP.times(Ne.value,e)),ge.value)),W.active.value){const o=T.ZP.div(Pe.apply(0),100);I.xp.value=T.ZP.add(I.xp.value,T.ZP.times(oe.apply(o),e)),A.xp.value=T.ZP.add(A.xp.value,T.ZP.times(ae.apply(o),e)),R.xp.value=T.ZP.add(R.xp.value,T.ZP.times(pe.apply(o),e)),W.xp.value=T.ZP.add(W.xp.value,T.ZP.times(Me.apply(.001),e)),W.castingTime.value=(()=>void 0!==W.castingTime.value&&null!==W.castingTime.value&&W.castingTime.value[Symbol.for("+")]?W.castingTime.value[Symbol.for("+")](e):W.castingTime.value+e)(),V.value=T.ZP.max(T.ZP.sub(V.value,T.ZP.times(Ee.value,e)),0)}}})),{name:e,color:o,minWidth:670,flowers:l,job:r,spells:X,modifiers:Ce,milestones:b,collapseMilestones:p,chargeAmount:V,modifierTabs:ze,display:(0,a.tZ)((()=>{const e=[...v.value];return S.value&&e.push(S.value),(0,t.createVNode)(t.Fragment,null,[(0,t.withDirectives)((0,t.createVNode)(Po,{resource:l,color:o,effectDisplay:`multiplying spell potency by x${(0,T.WU)(j.value)}`},null),[[t.vShow,f.earned.value]]),(0,c.wt)(...e,(0,a.tZ)((()=>(0,t.withDirectives)((0,t.createVNode)(se,{collapsed:p,content:(0,a.tZ)((()=>(0,c.wt)(...N.value))),display:p.value?"Show other completed milestones":"Hide other completed milestones"},null),[[t.vShow,(()=>void 0!==N.value.length&&null!==N.value.length&&N.value.length[Symbol.for(">")]?N.value.length[Symbol.for(">")](0):N.value.length>0)()]])))),(0,t.createVNode)(n,null,null),(0,t.createVNode)("div",{style:"position: relative; z-index: 1"},[(0,t.createTextVNode)("You can cast "),(0,xl.formatWhole)(s.value),(0,t.createTextVNode)(" spell"),1===s.value?"":"s",(0,t.createTextVNode)(" at a time")]),(0,c.mS)(...Object.values(X).map((e=>e.selector))),d.earned.value?(0,t.createVNode)(ul.Z,{style:"margin-top: 40px !important; margin-bottom: -20px;"},{default:()=>[(0,c.qF)(w),(0,t.createVNode)("span",{style:"margin-left: 10px"},[(0,T.WU)(H.value),(0,t.createTextVNode)("x")])]}):null,m.earned.value?Object.values(X).filter((e=>e.active.value)).map((e=>(0,t.createVNode)(kl,{spell:e},null))):null,(0,c.qF)(u)])}))}}));var Zl=Pl;const El="main",Cl=(0,u.createLayer)(El,(()=>{const e=(0,F.ax)(0),o=[Zl.job,sl.job,ol.job,Ko.job],l=(0,t.computed)((()=>{let o=0;return(()=>void 0!==e.value&&null!==e.value&&e.value[Symbol.for(">")]?e.value[Symbol.for(">")](1):e.value>1)()&&(o=1),o})),r=(0,t.computed)((()=>o.filter((e=>e.timeLoopActive.value)).length)),i=(0,t.computed)((()=>(()=>void 0!==l.value&&null!==l.value&&l.value[Symbol.for(">")]?l.value[Symbol.for(">")](r.value):l.value>r.value)())),s=(0,F.ax)([0,0,0,0,0]);o.forEach((e=>{let o=0;(0,t.watch)(e.rawLevel,((l,t)=>{if(T.ZP.neq(l,t)&&(()=>Date.now()-o!==void 0&&Date.now()-o!==null&&(Date.now()-o)[Symbol.for(">")]?(Date.now()-o)[Symbol.for(">")](500):Date.now()-o>500)()){const l=Cl.nodes.value[e.id]?.rect,t=f.boundingRect.value;if(l&&t){o=Date.now();const e=Object.assign({},z,{behaviors:[...z.behaviors.slice(0,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)()),{type:"spawnShape",config:{type:"rect",data:{x:(()=>void 0!==l.x&&null!==l.x&&l.x[Symbol.for("-")]?l.x[Symbol.for("-")](t.x):l.x-t.x)(),y:(()=>void 0!==l.y&&null!==l.y&&l.y[Symbol.for("-")]?l.y[Symbol.for("-")](t.y):l.y-t.y)(),w:l.width,h:l.height}}}]});f.addEmitter(e).then((e=>e.playOnceAndDestroy()))}}}))}));const m=R((()=>({display:{title:"<h1>Close the time loop</h1>",description:"<br/><i>The flowers are collected, and I have just enough. It's time to get started.</i>"},canAfford:!0,style:`width: 150px; height: 150px; --layer-color: ${Zl.color}`,visibility:()=>(0,a.Kf)((()=>void 0!==e.value&&null!==e.value&&e.value[Symbol.for("==")]?e.value[Symbol.for("==")](1):1==e.value)()&&T.ZP.gte(Zl.flowers.value,1e7))}))),f=g((()=>({boundingRect:(0,t.ref)(null),onContainerResized(e){this.boundingRect.value=e},style:"z-index: -1"})));["https://upload.wikimedia.org/wikipedia/commons/7/71/Serpiente_alquimica.jpg","https://dummyimage.com/720x320/000/fff.png"].forEach((e=>(new Image).src=e));const d=(0,t.ref)(null);(0,t.watchEffect)((()=>{0!==e.value?1===e.value&&m.bought.value?d.value={pages:[{stage:(0,a.tZ)((()=>(0,t.createVNode)("img",{style:"max-width: 100%; flex-grow: 1",src:"https://dummyimage.com/720x320/000/fff.png"},null))),caption:"I can wrap this field in a time loop and reset it whenever the field is empty. If I take the flowers out of the loop before hand I will have a perfectly sustainable source of moly."}],page:0,onFinished(){e.value=2,(0,u.addLayer)(sl,U.Z)}}:d.value=null:d.value={pages:[{stage:(0,a.tZ)((()=>(0,t.createVNode)("img",{style:"max-width: 100%; flex-grow: 1",src:"https://upload.wikimedia.org/wikipedia/commons/7/71/Serpiente_alquimica.jpg"},null)))},{stage:(0,a.tZ)((()=>(0,t.createVNode)("img",{style:"max-width: 100%; flex-grow: 1",src:"https://dummyimage.com/720x320/000/fff.png"},null))),caption:"Test"},{stage:(0,a.tZ)((()=>(0,t.createVNode)("div",{style:"display: flex"},[(0,t.createVNode)("img",{style:"max-width: 100%; flex-grow: 1; margin-right: -20%",src:"https://dummyimage.com/386x320/000/fff.png"},null),(0,t.createVNode)("img",{style:"max-width: 100%; flex-grow: 1; margin-left: -20%",src:"https://dummyimage.com/386x320/000/fff.png"},null)]))),caption:"Other test"}],page:0,onFinished(){e.value=1,(0,u.addLayer)(Zl,U.Z)}}}));const y=(0,t.computed)((()=>1===e.value?(0,t.createVNode)("h2",null,[(0,t.createTextVNode)("Current Goal: Harvest all the moly"),(0,t.createVNode)("br",null,null),(0,t.createTextVNode)("("),(0,T.Ht)(T.ZP.sub(1e7,Zl.flowers.value).clampMin(0))," ",(0,t.createTextVNode)("remaining)")]):(()=>void 0!==e.value&&null!==e.value&&e.value[Symbol.for("==")]?e.value[Symbol.for("==")](2):2==e.value)()?(0,t.createVNode)("h2",null,[(0,t.createTextVNode)("Current Goal: Perform Ritual of Génesis")]):(0,t.createVNode)(t.Fragment,null,null)));return{name:"Jobs",chapter:e,timeSlots:l,hasTimeSlotAvailable:i,resetTimes:s,closeTimeLoop:m,activeCutscene:d,classes:{nigredo:!0},display:(0,a.tZ)((()=>d.value?(0,t.createVNode)(re,{stage:d.value.pages[d.value.page].stage,caption:d.value.pages[d.value.page].caption,onNext:()=>{d.value&&((()=>void 0!==d.value.page&&null!==d.value.page&&d.value.page[Symbol.for("==")]?d.value.page[Symbol.for("==")](d.value.pages.length-1):d.value.page==d.value.pages.length-1)()?d.value.onFinished?.():(()=>{void 0!==d.value.page&&null!==d.value.page&&"object"===typeof d.value.page&&d.value.page[Symbol.for("postfix-increment")]?d.value.page[Symbol.for("postfix-increment")]():d.value.page++})())}},null):(0,t.createVNode)(t.Fragment,null,[0===U.Z.devSpeed?(0,t.createVNode)("div",null,[(0,t.createTextVNode)("Game Paused")]):null,U.Z.devSpeed&&(()=>void 0!==U.Z.devSpeed&&null!==U.Z.devSpeed&&U.Z.devSpeed[Symbol.for("!==")]?U.Z.devSpeed[Symbol.for("!==")](1):1!==U.Z.devSpeed)()?(0,t.createVNode)("div",null,[(0,t.createTextVNode)("Dev Speed: "),(0,T.WU)(U.Z.devSpeed),(0,t.createTextVNode)("x")]):null,U.Z.offlineTime?(0,t.createVNode)("div",null,[(0,t.createTextVNode)("Offline Time: "),(0,T.mr)(U.Z.offlineTime)]):null,(()=>void 0!==U.Z.devSpeed&&null!==U.Z.devSpeed&&U.Z.devSpeed[Symbol.for("!=")]?U.Z.devSpeed[Symbol.for("!=")](null):null!=U.Z.devSpeed)()||(()=>void 0!==U.Z.offlineTime&&null!==U.Z.offlineTime&&U.Z.offlineTime[Symbol.for("!=")]?U.Z.offlineTime[Symbol.for("!=")](null):null!=U.Z.offlineTime)()||i.value?(0,t.createVNode)(n,null,null):null,(0,t.unref)(y),(0,t.createVNode)(n,null,null),T.ZP.gt(l.value,0)?(0,t.createVNode)("div",null,[(()=>void 0!==l.value&&null!==l.value&&l.value[Symbol.for("-")]?l.value[Symbol.for("-")](r.value):l.value-r.value)(),(0,t.createTextVNode)(" Time Slot"),1===(()=>void 0!==l.value&&null!==l.value&&l.value[Symbol.for("-")]?l.value[Symbol.for("-")](r.value):l.value-r.value)()?"":"s",(0,t.createTextVNode)(" Available")]):null,(0,c.Dy)(...o),(0,c.sY)(m),(0,c.sY)(f)])))}}));B.globalBus.on("update",(e=>{(()=>void 0!==Cl.chapter.value&&null!==Cl.chapter.value&&Cl.chapter.value[Symbol.for(">")]?Cl.chapter.value[Symbol.for(">")](-1):Cl.chapter.value>-1)()&&(()=>void 0!==Cl.activeCutscene.value&&null!==Cl.activeCutscene.value&&Cl.activeCutscene.value[Symbol.for("!=")]?Cl.activeCutscene.value[Symbol.for("!=")](null):null!=Cl.activeCutscene.value)()&&(Cl.resetTimes.value[(()=>void 0!==Cl.chapter.value&&null!==Cl.chapter.value&&Cl.chapter.value[Symbol.for("-")]?Cl.chapter.value[Symbol.for("-")](1):Cl.chapter.value-1)()]=(()=>void 0!==Cl.resetTimes.value[(()=>void 0!==Cl.chapter.value&&null!==Cl.chapter.value&&Cl.chapter.value[Symbol.for("-")]?Cl.chapter.value[Symbol.for("-")](1):Cl.chapter.value-1)()]&&null!==Cl.resetTimes.value[Cl.chapter.value-1]&&Cl.resetTimes.value[Cl.chapter.value-1][Symbol.for("+")]?Cl.resetTimes.value[Cl.chapter.value-1][Symbol.for("+")](e):Cl.resetTimes.value[Cl.chapter.value-1]+e)())}));const Tl=e=>{const o=e.layers?.main?.chapter??0;if(0===o)return[Cl];if(1===o)return[Cl,Zl];if(2===o){const o=[Cl,Zl,sl];return e.layers?.distill.milestones.studyMilestone.earned.value&&o.push(ol),e.layers?.distill.milestones.experimentsMilestone.earned.value&&o.push(Ko),o}throw`Chapter ${o} not supported`},Bl=(0,t.computed)((()=>!1));function Fl(e,o){}},9365:function(e,o,l){"use strict";l.r(o),l.d(o,{RegisterNodeInjectionKey:function(){return f},UnregisterNodeInjectionKey:function(){return d},NodesInjectionKey:function(){return y},layers:function(){return b},persistentRefs:function(){return h},addingLayers:function(){return p},createLayer:function(){return v},addLayer:function(){return g},getLayer:function(){return S},removeLayer:function(){return N},reloadLayer:function(){return k},setupLayerModal:function(){return x}});var t=l(4865),r=l(6948),i=l(6113),n=l(9583),a=l(3273),s=l(8111),u=l(7302),m=l(4061),c=l(5967);const f=Symbol("RegisterNode"),d=Symbol("UnregisterNode"),y=Symbol("Nodes"),b=(0,t.shallowReactive)({});window.layers=b;const h={},p=[];function v(e,o){return(0,a.z2)((()=>{const l={},r=l.emitter=(0,s.i)();if(l.on=r.on.bind(r),l.emit=r.emit.bind(r),l.nodes=(0,t.ref)({}),l.id=e,p.push(e),h[e]=new Set,l.minimized=(0,m.ax)(!1),Object.assign(l,o.call(l)),(()=>void 0!==p[p.length-1]&&null!==p[p.length-1]&&p[p.length-1][Symbol.for("==")]?p[p.length-1][Symbol.for("==")](null):null==p[p.length-1])()||(()=>void 0!==p[p.length-1]&&null!==p[p.length-1]&&p[p.length-1][Symbol.for("!==")]?p[p.length-1][Symbol.for("!==")](e):p[p.length-1]!==e)())throw`Adding layers stack in invalid state. This should not happen\nStack: ${p}\nTrying to pop ${l.id}`;return p.pop(),(0,n.yB)(l,"color"),(0,n.yB)(l,"display"),(0,n.yB)(l,"name"),(0,i.Rh)(l,"name",l.id),(0,n.yB)(l,"minWidth"),(0,i.Rh)(l,"minWidth",600),(0,n.yB)(l,"minimizable"),(0,i.Rh)(l,"minimizable",!0),l}))}function g(e,o){console.info("Adding layer",e.id),b[e.id]?console.error("Attempted to add layer with same ID as existing layer",e.id,b[e.id]):((0,i.Rh)(o,"layers",{}),(()=>void 0!==o.layers[e.id]&&null!==o.layers[e.id]&&o.layers[e.id][Symbol.for("==")]?o.layers[e.id][Symbol.for("==")](null):null==o.layers[e.id])()&&(o.layers[e.id]={}),b[e.id]=e,u.globalBus.emit("addLayer",e,o.layers[e.id]))}function S(e){return b[e]}function N(e){console.info("Removing layer",e.id),u.globalBus.emit("removeLayer",e),b[e.id]=void 0}function k(e){N(e),g(e,c.Z)}function x(e){const o=(0,t.ref)(!1);return{openModal:()=>o.value=!0,modal:(0,i.tZ)((()=>(0,t.createVNode)(r.Z,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e},{header:()=>(0,t.createVNode)("h2",null,[(0,t.unref)(e.name)]),body:(0,t.unref)(e.display)})))}}u.globalBus.on("update",(function(e){Object.values(b).forEach((o=>{o?.emit("preUpdate",e)})),Object.values(b).forEach((o=>{o?.emit("update",e)})),Object.values(b).forEach((o=>{o?.emit("postUpdate",e)}))}))},1604:function(e,o,l){"use strict";l.d(o,{MM:function(){return u},sY:function(){return m},Dy:function(){return c},qF:function(){return f},mS:function(){return d},wt:function(){return y},RU:function(){return b},ix:function(){return h},oU:function(){return p},vq:function(){return v},KO:function(){return g},o9:function(){return S},Uv:function(){return N},P5:function(){return k}});var t=l(4865),r=l(9905),i=l(274),n=l(6113),a=l(9583);function s(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&(()=>void 0!==(0,t.isVNode)(e)&&null!==(0,t.isVNode)(e)&&(0,t.isVNode)(e)[Symbol.for("!")]?(0,t.isVNode)(e)[Symbol.for("!")]():!(0,t.isVNode)(e))()}function u(e,o="span"){return"function"===typeof e?(0,t.defineComponent)({render:e}):"string"===typeof e?(()=>void 0!==e.length&&null!==e.length&&e.length[Symbol.for(">")]?e.length[Symbol.for(">")](0):e.length>0)()?(e=e.trim(),(()=>void 0!==e.charAt(0)&&null!==e.charAt(0)&&e.charAt(0)[Symbol.for("!==")]?e.charAt(0)[Symbol.for("!==")]("<"):"<"!==e.charAt(0))()&&(e=`<${o}>${e}</${o}>`),(0,t.defineComponent)({template:e})):(0,t.defineComponent)({render:()=>({})}):e}function m(e){if(b(e))return"function"===typeof e?e():u(e);const o=e[n.wA];return(0,t.createVNode)(o,e[n.tj](),null)}function c(...e){let o;return(0,t.createVNode)(r.Z,null,s(o=e.map(m))?o:{default:()=>[o]})}function f(e){if(b(e)){if("function"===typeof e)return e();if("string"===typeof e)return(0,t.createVNode)(t.Fragment,null,[e]);const o=e;return(0,t.createVNode)(o,null,null)}const o=e[n.wA];return(0,t.createVNode)(o,e[n.tj](),null)}function d(...e){let o;return(0,t.createVNode)(i.Z,null,s(o=e.map(f))?o:{default:()=>[o]})}function y(...e){let o;return(0,t.createVNode)(r.Z,null,s(o=e.map(f))?o:{default:()=>[o]})}function b(e){return"string"===typeof e||("object"===typeof e?!(()=>void 0!==e&&null!==e&&e[Symbol.for("==")]?e[Symbol.for("==")](null):null==e)()&&((()=>"render"[Symbol.for("in")]?"render"[Symbol.for("in")](e):"render"in e)()||(()=>"component"[Symbol.for("in")]?"component"[Symbol.for("in")](e):"component"in e)()):"function"===typeof e&&!0===e[a.mM])}function h(e,o){const l=(0,t.ref)(null),r=(0,t.ref)(void 0);function i(e){(()=>void 0!==l.value&&null!==l.value&&l.value[Symbol.for("!")]?l.value[Symbol.for("!")]():!l.value)()&&(l.value=setInterval(a,250)),r.value=e}function n(){l.value&&(clearInterval(l.value),l.value=null)}function a(){o&&o.value?o.value():e&&e.value&&e.value(r.value)}return(0,t.onUnmounted)(n),{start:i,stop:n,handleHolding:a}}function p(e,o){const l=(0,t.computed)((()=>e.filter((e=>(0,t.unref)(e.visibility)===n.EE.Visible&&o(e)))));return{firstFeature:(0,t.computed)((()=>l.value[0])),hiddenFeatures:(0,t.computed)((()=>l.value.slice(1)))}}function v(e,o="div"){const l=(0,t.shallowRef)();return(0,t.watchEffect)((()=>{l.value=u(N(e),o)})),l}function g(e,o="div"){const l=(0,t.shallowRef)(null);return(0,t.watchEffect)((()=>{const t=N(e);l.value=(()=>void 0!==t&&null!==t&&t[Symbol.for("==")]?t[Symbol.for("==")](null):null==t)()?null:u(t,o)})),l}function S(e){return(0,t.computed)((()=>N(e)))}function N(e){return(0,t.unref)((0,t.unref)(e))}function k(...e){return(()=>void 0!==e.includes(Object)&&null!==e.includes(Object)&&e.includes(Object)[Symbol.for("!")]?e.includes(Object)[Symbol.for("!")]():!e.includes(Object))()&&e.push(Object),e}},5053:function(e,o,l){"use strict";l.d(o,{Z:function(){return a}});var t=l(4865),r=l(9365),i=(0,t.defineComponent)({setup(e,{expose:o}){const l=(0,t.ref)({});o({nodes:l});const i={attributes:!0,childList:!0,subtree:!1};function n(e){const o=l.value[e];(()=>void 0!==o&&null!==o&&o[Symbol.for("==")]?o[Symbol.for("==")](null):null==o)()||(o.rect=o.element.getBoundingClientRect())}return(0,t.provide)(r.RegisterNodeInjectionKey,((e,o)=>{const r=new MutationObserver((()=>n(e)));r.observe(o,i),l.value[e]={element:o,observer:r,rect:o.getBoundingClientRect()},(0,t.nextTick)((()=>n(e)))})),(0,t.provide)(r.UnregisterNodeInjectionKey,(e=>{l.value[e]?.observer.disconnect(),l.value[e]=void 0})),(0,t.provide)(r.NodesInjectionKey,l),(e,o)=>(0,t.renderSlot)(e.$slots,"default")}});const n=i;var a=n},6948:function(e,o,l){"use strict";l.d(o,{Z:function(){return h}});var t=l(4865),r=l(5053);const i=["onPointerdown"],n={class:"modal-wrapper"},a={class:"modal-container"},s={class:"modal-header"},u=(0,t.createTextVNode)(" default header "),m={class:"modal-body"},c=(0,t.createTextVNode)(" default body "),f={class:"modal-footer"},d=(0,t.createElementVNode)("div",{class:"modal-default-flex-grow"},null,(()=>1[Symbol.for("minus")]?1[Symbol.for("minus")]():-1)());var y=(0,t.defineComponent)({props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{expose:o,emit:l}){const y=e,b=(0,t.toRefs)(y),h=(0,t.computed)((()=>b.modelValue||v.value));function p(){l("update:modelValue",!1)}const v=(0,t.ref)(!1),g=(0,t.ref)(null),S=(0,t.computed)((()=>g.value?.nodes??null));return o({isOpen:h,nodes:S}),(o,l)=>((0,t.openBlock)(),(0,t.createBlock)(t.Teleport,{to:"#modal-root"},[(0,t.createVNode)(t.Transition,{name:"modal",onBeforeEnter:l[0]||(l[0]=e=>v.value=!0),onAfterLeave:l[1]||(l[1]=e=>v.value=!1)},{default:(0,t.withCtx)((()=>[(0,t.withDirectives)((0,t.createElementVNode)("div",(0,t.mergeProps)({class:"modal-mask",onPointerdown:(0,t.withModifiers)(p,["self"])},o.$attrs),[(0,t.createElementVNode)("div",n,[(0,t.createElementVNode)("div",a,[(0,t.createElementVNode)("div",s,[(0,t.renderSlot)(o.$slots,"header",{shown:(0,t.unref)(h)},(()=>[u]))]),(0,t.createElementVNode)("div",m,[(0,t.createVNode)(r.Z,{ref_key:"contextRef",ref:g},{default:(0,t.withCtx)((()=>[(0,t.renderSlot)(o.$slots,"body",{shown:(0,t.unref)(h)},(()=>[c]))])),_:3},512)]),(0,t.createElementVNode)("div",f,[(0,t.renderSlot)(o.$slots,"footer",{shown:(0,t.unref)(h)},(()=>[(0,t.createElementVNode)("div",{class:"modal-default-footer"},[d,(0,t.createElementVNode)("button",{class:"button modal-default-button",onClick:p}," Close ")])]))])])])],16,i),[[t.vShow,e.modelValue]])])),_:3})]))}});const b=y;var h=b},5418:function(e,o,l){"use strict";l.d(o,{Z:function(){return m}});var t=l(4865),r=l(1604),i=l(9179);const n={class:"field"},a={key:0,class:"field-title"};var s=(0,t.defineComponent)({props:{title:null,modelValue:null,options:null,placeholder:null,closeOnSelect:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:o}){const l=e,s=(0,r.KO)((0,t.toRef)(l,"title"),"span"),u=(0,t.ref)(l.options.find((e=>e.value===l.modelValue))??null);function m(e){o("update:modelValue",e.value)}return(0,t.watch)((0,t.toRef)(l,"modelValue"),(e=>{(()=>void 0!==(0,r.Uv)(u)&&null!==(0,r.Uv)(u)&&(0,r.Uv)(u)[Symbol.for("!==")]?(0,r.Uv)(u)[Symbol.for("!==")](e):(0,r.Uv)(u)!==e)()&&(u.value=l.options.find((o=>o.value===e))??null)})),(o,l)=>((0,t.openBlock)(),(0,t.createElementBlock)("div",n,[(0,t.unref)(s)?((0,t.openBlock)(),(0,t.createElementBlock)("span",a,[((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)((0,t.unref)(s))))])):(0,t.createCommentVNode)("",!0),(0,t.createVNode)((0,t.unref)(i.Z),{options:e.options,modelValue:u.value,"onUpdate:modelValue":[l[0]||(l[0]=e=>u.value=e),m],min:1,"label-by":"label",placeholder:e.placeholder,"close-on-select":e.closeOnSelect},null,8,["options","modelValue","placeholder","close-on-select"])]))}});const u=s;var m=u},9905:function(e,o,l){"use strict";l.d(o,{Z:function(){return u}});var t=l(4865),r=l(1037),i=l(9266);const n={class:"table"};var a=(0,t.defineComponent)({setup(e){const o=(0,t.computed)((()=>r.Z[i.ZP.theme].mergeAdjacent));return(e,l)=>((0,t.openBlock)(),(0,t.createElementBlock)("div",n,[(0,t.createElementVNode)("div",{class:(0,t.normalizeClass)(["col",{mergeAdjacent:(0,t.unref)(o)}])},[(0,t.renderSlot)(e.$slots,"default")],2)]))}});const s=a;var u=s},274:function(e,o,l){"use strict";l.d(o,{Z:function(){return u}});var t=l(4865),r=l(1037),i=l(9266);const n={class:"table"};var a=(0,t.defineComponent)({setup(e){const o=(0,t.computed)((()=>r.Z[i.ZP.theme].mergeAdjacent));return(e,l)=>((0,t.openBlock)(),(0,t.createElementBlock)("div",n,[(0,t.createElementVNode)("div",{class:(0,t.normalizeClass)(["row",{mergeAdjacent:(0,t.unref)(o)}])},[(0,t.renderSlot)(e.$slots,"default")],2)]))}});const s=a;var u=s},8779:function(e,o,l){"use strict";l.d(o,{Z:function(){return y}});var t=l(4865);const r={key:0,class:"material-icons pinned"};function i(e,o,l,i,n,a){return(0,t.openBlock)(),(0,t.createElementBlock)("div",{class:(0,t.normalizeClass)(["tooltip-container",{shown:e.isShown,...e.unref(e.classes)}]),onMouseenter:o[0]||(o[0]=o=>e.isHovered=!0),onMouseleave:o[1]||(o[1]=o=>e.isHovered=!1),onClickCapture:o[2]||(o[2]=(...o)=>e.togglePinned&&e.togglePinned(...o))},[(0,t.renderSlot)(e.$slots,"default",{},void 0,!0),e.elementComp?((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(e.elementComp),{key:0})):(0,t.createCommentVNode)("",!0),(0,t.createVNode)(t.Transition,{name:"fade"},{default:(0,t.withCtx)((()=>[e.isShown?((0,t.openBlock)(),(0,t.createElementBlock)("div",{key:0,class:(0,t.normalizeClass)(["tooltip",{top:e.unref(e.direction)===e.Direction.Up,left:e.unref(e.direction)===e.Direction.Left,right:e.unref(e.direction)===e.Direction.Right,bottom:e.unref(e.direction)===e.Direction.Down,...e.unref(e.classes)}]),style:(0,t.normalizeStyle)([{"--xoffset":e.unref(e.xoffset)||"0px","--yoffset":e.unref(e.yoffset)||"0px"},e.unref(e.style)??{}])},[e.showPin?((0,t.openBlock)(),(0,t.createElementBlock)("span",r,"push_pin")):(0,t.createCommentVNode)("",!0),e.comp?((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(e.comp),{key:1})):(0,t.createCommentVNode)("",!0)],6)):(0,t.createCommentVNode)("",!0)])),_:1})],34)}var n=l(1037),a=l(6113),s=l(9266),u=l(1349),m=l(1604),c=(0,t.defineComponent)({props:{element:(0,m.P5)(Object),display:{type:(0,m.P5)(Object,String,Function),required:!0},style:(0,m.P5)(Object,String,Array),classes:(0,m.P5)(Object),direction:(0,m.P5)(String),xoffset:(0,m.P5)(String),yoffset:(0,m.P5)(String),pinned:Object},setup(e){const{element:o,display:l,pinned:r}=(0,t.toRefs)(e),i=(0,t.ref)(!1),c=(0,t.computed)((()=>((0,m.Uv)(r)||i.value)&&f.value)),f=(0,m.KO)(l),d=(0,t.shallowRef)(null);function y(e){const o=r;e.shiftKey&&o&&(o.value=(()=>void 0!==o.value&&null!==o.value&&o.value[Symbol.for("!")]?o.value[Symbol.for("!")]():!o.value)(),e.stopPropagation(),e.preventDefault())}(0,t.watchEffect)((()=>{const e=(0,m.Uv)(o);d.value=(()=>void 0!==e&&null!==e&&e[Symbol.for("==")]?e[Symbol.for("==")](null):null==e)()?null:(0,m.MM)((0,a.tZ)((()=>(0,m.sY)(e))))}));const b=(0,t.computed)((()=>(0,m.Uv)(r)&&n.Z[s.ZP.theme].showPin));return{Direction:u.Nm,isHovered:i,isShown:c,comp:f,elementComp:d,unref:t.unref,togglePinned:y,showPin:b}}}),f=l(3744);const d=(0,f.Z)(c,[["render",i],["__scopeId","data-v-8ca805aa"]]);var y=d},7634:function(e){function o(e){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}o.keys=function(){return[]},o.resolve=o,o.id=7634,e.exports=o},6453:function(e){"use strict";e.exports=JSON.parse('{"title":"Kronos","id":"kronos","author":"thepaperpilot","discordName":"The Paper Pilot Community","discordLink":"https://discord.gg/WzejVAx","versionNumber":"0.3","versionTitle":"","allowGoBack":false,"defaultShowSmall":false,"defaultDecimalsShown":2,"useHeader":true,"banner":"banner.png","logo":"android-chrome-192x192.png","initialTabs":["main"],"maxTickLength":3600,"offlineLimit":1,"enablePausing":true,"exportEncoding":"base64"}')}},o={};function l(t){var r=o[t];if(void 0!==r)return r.exports;var i=o[t]={id:t,loaded:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.loaded=!0,i.exports}l.m=e,function(){var e=[];l.O=function(o,t,r,i){if(!t){var n=1/0;for(m=0;m<e.length;m++){t=e[m][0],r=e[m][1],i=e[m][2];for(var a=!0,s=0;s<t.length;s++)(!1&i||n>=i)&&Object.keys(l.O).every((function(e){return l.O[e](t[s])}))?t.splice(s--,1):(a=!1,i<n&&(n=i));if(a){e.splice(m--,1);var u=r();void 0!==u&&(o=u)}}return o}i=i||0;for(var m=e.length;m>0&&e[m-1][2]>i;m--)e[m]=e[m-1];e[m]=[t,r,i]}}(),function(){l.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(o,{a:o}),o}}(),function(){l.d=function(e,o){for(var t in o)l.o(o,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};l.O.j=function(o){return 0===e[o]};var o=function(o,t){var r,i,n=t[0],a=t[1],s=t[2],u=0;if(n.some((function(o){return 0!==e[o]}))){for(r in a)l.o(a,r)&&(l.m[r]=a[r]);if(s)var m=s(l)}for(o&&o(t);u<n.length;u++)i=n[u],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(m)},t=self["webpackChunkprofectus"]=self["webpackChunkprofectus"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=l.O(void 0,[998],(function(){return l(8039)}));t=l.O(t)})();
//# sourceMappingURL=app.ed208cfd.js.map